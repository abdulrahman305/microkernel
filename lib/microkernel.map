{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/microkernel.js","src/microkernel-1-version.js","src/microkernel-2-manifest.js","src/microkernel-3-loader.js","src/microkernel-4-state.js","src/microkernel-5-hook.js","src/microkernel-7-service.js","src/microkernel-6-event.js","src/microkernel-8-resource.js","node_modules/aggregation/es6.js","node_modules/core-js/library/es6/promise.js","node_modules/aggregation/src/aggregation-es6.js","node_modules/core-js/library/modules/es6.string.iterator.js","node_modules/core-js/library/modules/web.dom.iterable.js","node_modules/core-js/library/modules/es6.promise.js","node_modules/core-js/library/modules/_core.js","node_modules/core-js/library/modules/_string-at.js","node_modules/core-js/library/modules/_iter-define.js","node_modules/core-js/library/modules/es6.array.iterator.js","node_modules/core-js/library/modules/_global.js","node_modules/core-js/library/modules/_hide.js","node_modules/core-js/library/modules/_iterators.js","node_modules/core-js/library/modules/_wks.js","node_modules/core-js/library/modules/_.js","node_modules/core-js/library/modules/_library.js","node_modules/core-js/library/modules/_classof.js","node_modules/core-js/library/modules/_ctx.js","node_modules/core-js/library/modules/_export.js","node_modules/core-js/library/modules/_is-object.js","node_modules/core-js/library/modules/_an-object.js","node_modules/core-js/library/modules/_a-function.js","node_modules/core-js/library/modules/_an-instance.js","node_modules/core-js/library/modules/_for-of.js","node_modules/core-js/library/modules/_set-proto.js","node_modules/core-js/library/modules/_array-from-iterable.js","node_modules/core-js/library/modules/_species-constructor.js","node_modules/core-js/library/modules/_task.js","node_modules/core-js/library/modules/_microtask.js","node_modules/core-js/library/modules/_descriptors.js","node_modules/core-js/library/modules/_redefine-all.js","node_modules/core-js/library/modules/_set-to-string-tag.js","node_modules/core-js/library/modules/_set-species.js","node_modules/core-js/library/modules/_iter-detect.js","node_modules/core-js/library/modules/_defined.js","node_modules/core-js/library/modules/_to-integer.js","node_modules/core-js/library/modules/_redefine.js","node_modules/core-js/library/modules/_has.js","node_modules/core-js/library/modules/_iter-create.js","node_modules/core-js/library/modules/_add-to-unscopables.js","node_modules/core-js/library/modules/_iter-step.js","node_modules/core-js/library/modules/_to-iobject.js","node_modules/core-js/library/modules/_property-desc.js","node_modules/core-js/library/modules/_shared.js","node_modules/core-js/library/modules/_uid.js","node_modules/core-js/library/modules/_cof.js","node_modules/core-js/library/modules/_iter-call.js","node_modules/core-js/library/modules/_is-array-iter.js","node_modules/core-js/library/modules/_to-length.js","node_modules/core-js/library/modules/core.get-iterator-method.js","node_modules/core-js/library/modules/_invoke.js","node_modules/core-js/library/modules/_html.js","node_modules/core-js/library/modules/_dom-create.js","node_modules/core-js/library/modules/_fails.js","node_modules/core-js/library/modules/_iobject.js"],"names":["Microkernel","_aggregation","call","this","_es2","_microkernel1Version2","_microkernel2Manifest2","_microkernel3Loader2","_microkernel4State2","_microkernel5Hook2","_microkernel6Event2","_microkernel7Service2","_microkernel8Resource2","module","exports","MicrokernelVersion","major","minor","micro","date","MicrokernelManifest","cls2mod","Map","name2mod","mod","Set","modOrder","arg","state","Error","undefined","has","set","get","push","_typeof","name","add","kernel","publish","forEach","_this","del","MicrokernelLoader","files","Array","_len","_key","_promise2","resolve","reject","seq","file","filesExpanded","match","_glob2","sync","length","fileExpanded","require","then","err","_len2","_key2","_this2","MicrokernelState","_state","_num2state","_state2num","_groups","transitions","enter","leave","groups","_transitions","i","stateNew","stateOld","gdo","_gdo2","element","_modOrder","order","promise","stateOldIdx","stateNewIdx","publishEvent","when","from","to","method","transit","stateFrom","stateTo","methodType","reverse","step","names","methodName","hookProc","none","init","pass","a","o","n","or","and","mult","append","concat","insert","assign","Object","cnt","MicrokernelHook","_hooks","latch","apply","arguments","cb","ctx","id","k","splice","proc","params","result","l","r","MicrokernelService","_registration","service","pop","MicrokernelEvent","_subscription","subscribe","promises","s","setTimeout","all","MicrokernelResource","_resource","resource","key","value","_interopRequireDefault","obj","__esModule","default","defineProperty","_aggregationEs","_aggregationEs2","Promise","aggregation","base","mixins","aggregate","_base","__Aggregate","args","_Object$getPrototypeO","mixin","prototype","initializer","copyProps","target","source","getOwnPropertyNames","getOwnPropertySymbols","prop","getOwnPropertyDescriptor","$at","String","iterated","_t","_i","point","O","index","done","global","hide","Iterators","TO_STRING_TAG","ArrayValues","each","NAME","Collection","proto","$","LIBRARY","classof","$export","isObject","anObject","aFunction","anInstance","forOf","setProto","speciesConstructor","task","microtask","PROMISE","TypeError","process","$Promise","isNode","empty","Internal","GenericPromiseCapability","Wrapper","testResolve","sub","test","constructor","exec","USE_NATIVE","works","SubPromise","x","self","create","thenableThenGotten","setDesc","e","sameConstructor","b","isThenable","it","newPromiseCapability","C","PromiseCapability","$$resolve","$$reject","perform","error","notify","isReject","_n","chain","_c","_v","ok","_s","run","reaction","handler","fail","_h","onHandleUnhandled","onUnhandled","isUnhandled","console","emit","onunhandledrejection","reason","_a","onrejectionhandled","$reject","_d","_w","slice","$resolve","wrapper","executor","onFulfilled","onRejected","catch","G","W","F","S","capability","iter","iterable","abrupt","values","remaining","results","alreadyCalled","race","core","version","__e","toInteger","defined","TO_STRING","that","pos","charCodeAt","charAt","redefine","$iterCreate","setToStringTag","getProto","ITERATOR","BUGGY","keys","FF_ITERATOR","KEYS","VALUES","returnThis","Base","Constructor","next","DEFAULT","IS_SET","FORCED","methods","IteratorPrototype","getMethod","kind","TAG","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","entries","P","addToUnscopables","toIObject","_k","Arguments","window","Math","Function","__g","createDesc","object","store","uid","Symbol","USE_SYMBOL","$Object","getPrototypeOf","isEnum","propertyIsEnumerable","getDesc","setDescs","defineProperties","getKeys","getNames","getSymbols","cof","ARG","T","B","callee","fn","c","PROTOTYPE","type","own","out","IS_FORCED","IS_GLOBAL","IS_STATIC","IS_PROTO","IS_BIND","IS_WRAP","expProto","virtual","R","U","forbiddenField","isArrayIter","toLength","getIterFn","iterator","iterFn","f","check","setPrototypeOf","buggy","__proto__","SPECIES","D","invoke","html","cel","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","counter","queue","ONREADYSTATECHANGE","defer","channel","port","hasOwnProperty","listner","event","data","nextTick","port2","port1","onmessage","postMessage","addEventListener","importScripts","appendChild","removeChild","clear","macrotask","Observer","MutationObserver","WebKitMutationObserver","head","last","flush","parent","domain","exit","toggle","node","document","createTextNode","observe","characterData","src","safe","def","tag","stat","configurable","DESCRIPTORS","KEY","SAFE_CLOSING","riter","skipClosing","arr","ceil","floor","isNaN","descriptor","IObject","bitmap","enumerable","writable","SHARED","px","random","toString","ret","ArrayProto","min","getIteratorMethod","un","documentElement","is","createElement","split"],"mappings":"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YAUJC,QAAOC,QAAUd;;;;;;;;;;;;;;;;;;;;;;;;IEtBI;IDKA;;AILrB,IAAI,WAAW;;AAEX,YAAU,EAAE,MAAM,SAAN,EAAmB,MAAM,gBAAU,EAAV,EAArC;AACA,YAAU,EAAE,MAAM,cAAC,CAAD;mBAAO,EAAE,CAAF;IFAR,AGHA,KDGC,EAAa,MAAM,cAAC,CAAD,EJG1B,AIH8B,CAAJ;AJIjC,AMLR,IAAI,MAAM,CAAN,QNKW,AIJoC,mBHDhC;ADMP,ACLJ,IEAa,AIHA,KHGoB,EAArC,MHAS,MDKM,CAAP,ACLJ,GAAgB,IAAI,GAAJ,EAAhB,CADW;ADOP,ACLJ,AGAJ,UAAU,EAAE,KHAH,CGAS,KJKH,AILH,CJKJ,CCLJ,AGA2B,GHAX,GGAiB,CHAb,GAAJ,EAAhB,CAFW,OGEuB,CAAD,EAAI,CAAJ;AJM7B,ACLJ,iBAAK,EGDsC,CHC3C,GDKW,ACLK,CGDgC,CJM5C,AINuC,EHCvB,GAAJ,EAAhB,CAHW;ADSP,ACLJ,IKDa,KFDoB,EAArC,MHES,KDKM,GCLX,GAAgB,EDKZ,ECLJ,CAJW;AGGf,WAAU,EJEN,AIFQ,CJCD,KIDO,IAAN,EAAmB,MAAM,cAAC,CAAD,EAAI,CAAJ;mBAAU,KAAK,CAAL;SAAV,EAArC;AACA,YAAU,EAAE,MAAM,CAAN,EAAmB,MAAM,SCJtB,KDIuB,CAAD,EAAI,CAAJ;ACHjC,WLEa,MKFR,EDGsC,IAAI,CAAJ,MCH3C,CHGY,EGHS,EAArB,CADW;SDIsB,EAArC,2BDDe,AIHA;AJIX,ACCJ,AGJI,WHIM,EAAE,IDDH,AIHA,EHIS,CAAN,EAAmB,CDD3B,GAAc,AIHd,ENOC,AGHgC,CGJhB,EAAjB,CJGA,AIJW,CNQL,AELK,SCEuB,CAAD,EAAI,CAAJ;ADAjC,iBAAK,ECAsC,IAAI,CAAJ,GDA3C,GAAkB,EAAlB,CAFW,aDCN;ADML,AEJA,SCDiC,EAArC,KHKQ,CEJC,IFII,KAAL,CEJJ,GAAkB,EAAlB,CFIqB,AEPV,KGEA,CLKP,EACA,MAAM,IAAI,KAAJ,CAAU,oCAAV,CAAN,CADJ;AEHA,ACDJ,AEAI,aJFY,CEEN,EAAE,CDCH,AGDA,KFAS,EDCd,ACDQ,EAAmB,CDCZ,EAAf,CAJW,AGGX,EFAiC,CEAZ,EAArB,CADW,UFCuB,CAAD,EAAI,CAAJ;ADEjC,iBAAK,ECFsC,IAAI,CAAJ,IDE3C,CAAiB,CACb,EAAE,OAAO,MAAP,EAAqB,OAAO,IAAP,EAAoB,OAAO,IAAP,EAD9B,EAEb,EAAE,OAAO,QAAP,EAAqB,OAAO,MAAP,EAAoB,OAAO,UAAP,EAF9B,EAGb,EAAE,OAAO,SAAP,EAAqB,OAAO,OAAP,EAAoB,OAAO,SAAP,EAH9B,EAIb,EAAE,OAAO,YAAP,EAAqB,OAAO,WAAP,EAAoB,OAAO,OAAP,EAJ9B,EAKb,EAAE,OAAO,UAAP,EAAqB,OAAO,SAAP,EAAoB,OAAO,SAAP,EAL9B,EAMb,EAAE,OAAO,SAAP,EAAqB,OAAO,OAAP,EAAoB,OAAO,MAAP,EAN9B,CAAjB,EALW;AFKL,ACHN,ACWA,SCViC,EAArC,KHQQ,CEEC,EDXE,ICWP,CAAY,CACR,IEZF,EJSF,AEEY,CFRN,CESM,MADA,EDXO,ACYC,UDZA,ACWR,EACoB,KDZb,EAAU,ECWjB,EAC+B,EDZxB,EAAqB,GCW5B,EACwC,SADxC,CAAZ,EAbW;AFYX,ACTI,AECR,ACDI,YDCM,EAAE,EHQJ,GITG,CHAC,AECM,EAAN,CHQG,CGRgB,ACDf,EJSR,ACTU,IECmB,CHQd,AITZ,CAAa,KAAb,CAAmB,GJStB,CITG,CJSwB,CCTT,AECY,ACDF,CDCC,EAAI,CAAJ,EAAU,CFD7B,EAAN,AGAD,CHDiC,AGCxC,CADE;AHEE,AEAyC,cAAE,IAAF,CAAO,CAAP,EFAnC,AEAiC,OFAvC,AEA2D,AGF7D,CLEgB,AEAsC,CAAb,SFAxB,IAAD,EAAU;ADUxB,ACTI,AKFR,SHCiC,EAArC,QGDW,GNWG,ECTE,AKFA,ENWE,GAAJ,EAAN,CAF2B,AMTxB,CAAc,KAAd,CAAoB,CLEC,GKFrB,ELE0B,AKFA,KLEL,CAAW,GKFhC,CAAP,CADE,CLG0B,MAAuB,IAAvB,GAA8B,eAAK,IAAL,CAAU,IAAV,CAA9B,GAAgD,CAAE,IAAF,CAAhD,CADA;ADWxB,ACTI,AEDZ,cAAU,EAAE,IHUA,CAAC,CGVK,EFCF,AEDJ,EHUM,AGVa,MAAM,CHUxB,CAAa,GAAb,CAAiB,ACTA,GDSjB,CAAD,EACA,ACVI,EEDsB,CAAD,EHWpB,ACVwB,AEDA,CFCzB,AEDqB,EFErB,IDSJ,CAAa,CCTH,EDSV,CAAiB,CCTH,EDSd,EAAsB,CCTZ,CDSV,ACToB,EDQxB,cCRc,CAAN,CADJ;ADWJ,ACTI,mBEHmC,EHYlC,AGZoC,MAAF,CHYvC,AGZgD,CHYnC,AGZ0B,AEEzC,GLUE,CAAiB,CCTC,EDSlB,EAAsB,GCTlB,CDSJ,ACT0B,CDSC,GAA3B,EAL2B,ICJA,YAAD,EAAkB;AACpC,AIDZ,SFHiC,EAArC,EHOI,MAOK,AKXE,ILWE,CKXG,MJCK,CDUD,EKXT,CAAe,GJCV,CAAa,CIDlB,CAAqB,IAArB,EAA2B,SAA3B,CJCK,AIDZ,CADE,CJE2C,YAAjC,EADoC,QDWvC,KAAe,QAAf,EACL,MAAM,GAAN,CADC,KAGD,MAAM,IAAI,KAAJ,CAAU,oDAAV,CAAN,CAHC;ACTO,AEJhB,WAAU,EAAE,MAAM,EAAN,EAAmB,KFIX,CEJiB,KFIX,ECSb,MDTqB,CEJI,CAAD,EAAI,CAAJ,EAAU,CDarB,IDTA,CAAN,CAFgC;AAGpC,AELiC,cAAE,CAAF,IAAO,IAAP,CAAF,IFK3B,GELiD,CAAP,CAAf,ACCrC,EHIiB,GAAP,CGJJ,IHImB,AGJf,KAAK,KHIL,EACA,MAAM,IAAI,KAAJ,CAAU,kCAAV,CAAN,CADJ;ADNN,ACQM,SEPqB,EAArC,KHmBQ,QAAO,IAAI,ECZG,IDYP,ACZW,CDYlB,GCZc,CAAS,CDYD,QAAtB,EACA,MAAM,IAAI,KAAJ,CAAU,gDAAV,CAAN,CADJ;AAEA,AEPA,ACbJ,ACEI,cDFM,EHoBF,AGpBI,ACEJ,CFWC,KCbS,CHoBH,GGpBO,ACEJ,CJkBC,AEPf,ECbc,CDaI,CCbV,CCEJ,CJkBO,AGpBgB,AGArB,CNoBgB,CCdW,AGJV,CAAnB,EJkBO,AIjBP,AEHO,CHAsB,GDajC,CFO+B,AERT,CETZ,CEHQ,GFGJ,GJiBV,EACA,AGrB8B,ACGxB,CDHuB,ACGb,EDHiB,CAAJ,EHqBvB,IAAI,KAAJ,CAAU,cIlBV,CAAN,CADJ,qCJmBU,CAAN,CADJ;AAEA,AERA,AIbA,gBNqBI,AERA,AIbA,GHDuC,CDcnC,CFQC,AERL,ACdyC,CDYvB,ECZqB,CFMhB,AENsB,CFMrC,AEN+B,AGC7B,CLAkC,EDqB5C,CAAc,EMrBd,CNqBA,CAAkB,CMrBC,CAAnB,ENqBsB,AMpBtB,MNoBkB,AMpBZ,CNoBuB,GMpBnB,CNoBQ,CAAtB,EACI,CMrBM,CAAU,INqBV,IAAI,KAAJ,qBAA4B,IAAI,CMrBhC,CAAN,CADJ,GNsBsC,CAAW,IAAX,mBAA5B,CAAN,CADJ;AEPA,AIZA,SHHiC,EAArC,KGGQ,KLF0B,CAAtB,CAJoB,ECkBhB,CIZE,MJYd,AIZI,CJYgB,IIZK,CAArB,EACA,GJWiB,EIXZ,GJWW,EAAW,IIX3B,CAAe,GAAf,IAAsB,KAAtB,CADJ;AJaI,ACfR,ACDyB,AEKrB,cHJM,EAAE,ACKJ,CHTc,CAAd,CAFoC,AKUjC,EFCE,CFUA,ACfK,EAAN,AGII,EHJe,MDevB,ACf6B,CDeb,AIXb,CDAA,ADCH,AEDkB,CFCC,EEDhB,CAAP,CJW0B,AEVtB,AENc,CDKL,IHWO,AGXH,CHWb,AEV6B,CDLC,CAAD,CDeE,CCfE,AEIf,CFJW,CDe7B,CAD2B,EET3B,EACA,KAAK,aAAL,CAAmB,IAAnB,IAA2B,EAA3B,CADJ;AJRM,ACWF,AGDJ,aFOoB,CAApB,CAHsB,CFctB,CAAK,AIlBA,EDPsC,CHyB3C,ACjBQ,CDiBC,GAAT,ACjBI,CDiBS,ACjBA,CERqC,EHyBlD,EA5BM,AIUN,CAAmB,CDPwB,CAAc,CAAd,CCO3C,CDP4D,CAAjB,ACOlB,IAAzB,CAA8B,EAAE,IAAI,EAAJ,EAAQ,KAAK,GAAL,EAAxC,EARqB;AJ2BrB,AETA,AGXA,ADEA,SDRiC,EAArC,KEMQ,CLoBC,EETE,AETA,IFSP,AETA,CFGsB,AEZD,CJ2BrB,CAAc,AKpBA,CJEK,EDkBnB,CAAkB,EKpBd,ELoBkB,CKpBC,CAAnB,EACA,ELmBc,CAAW,GKnBnB,CLmBQ,EAAiB,CKnBrB,ELmBd,GKnBU,CAAU,8BAAV,CAAN,CADJ;iBJEa,EAAiB,UAAC,GAAD;AErBvB,CAAX,UGAiB,gBLqB0B,OAAO,GAAP;ADXjC,AKOgB,gBLyBlB,AKnBA,CJF0B,CAA1B,CAdoC,EIgB/B,ELmBE,GKnBP,CLmBW,AKzBO,MLyBX,KAAe,UAAtB,EACA,IAAI,MAAJ,CAAW,IAAX,EADJ,KAEK,IAAI,IAAI,MAAJ,KAAe,IAAf,EACL,IAAI,MAAJ,GAAa,IAAb,CADC;AKpBL,aJjBmB,CAAnB,CADY,CIkBR,KAAK,aAAL,CAAmB,IAAnB,MAA6B,SAA7B,EACA,KAAK,aAAL,CAAmB,IAAnB,IAA2B,EAA3B,CADJ;AFNR,AEQQ,IFRJ,MAAM,CAAN,MEQS,aAAL,CAAmB,IAAnB,EAAyB,IAAzB,CAA8B,EAAE,IAAI,EAAJ,EAAQ,IAAI,EAAJ,EAAQ,KAAK,GAAL,EAAhD,EATsB;ALPhB,AKiBN,IPhBF,YEqCE,CAAK,EKrBE,EAAP,CAVsB,EL+BtB,CAAa,iBAAb,EAAgC,GAAhC,EAtCM;+BEwBF,IETI,KFSI,CETE;AJyBd,AEfA,iBAAK,EFeE,IAAP,CAxCM,AEyBN,GAAe,OAAf,CADY;AAEZ,AETA,IDNa,YCMT,GFSG,IAAP,CAFY,EEPE,MAAV,KAAqB,CAArB,EACA,MAAM,IAAI,KAAJ,CAAU,yCAAV,CAAN,CADJ;;ANZJ,aAJE,WAIF,GAAe;AMUG,gBAMV,KAAK,SNpBX,CGgBc,GGIR,CAAmB,IAAnB,INhBO,EMgBsB,SAA7B,EACA,MAAM,IAAI,KAAJ,CAAU,kCAAV,CAAN,CADJ;oCCAS,MAAM,IAAI;sEPpBrB,yBAIa;AOkBX,ADRc,KNVlB,WOkBQ,ADEJ,CAAK,SCFS,ELqBb,EInBD,CAAmB,CCFf,CLqBE,EInBN,ECFyB,ADEA,CCFrB,EACA,ADCJ,GAVc,GCSJ,CJPL,GIOS,KAAJ,CAAU,0CAAV,CAAN,CADJ;ADGA,gBAAI,KAAK,SFIN,IEJC,CAAmB,IAAnB,CFIS,CEJgB,MAAzB,KAAoC,CAApC,EACA,OAAO,KAAK,aAAL,CAAmB,IAAnB,CAAP,CADJ;AAEA,WN3BF,EGgBc,MGWL,IAAP,CAbc;ACMK,EPnBvB,cOyBQ,IAAI,CAAC,CAAD,CANW,eFRR;AHiCX,AC5BA,AEJA,AEcA,gBLkBI,CGhCC,AEcA,CJVC,GD4BG,AKlBA,EFdT,EFIA,AIUa,CLkBT,AC5BU,AEJA,AEcL,EFdT,AEcgB,CFfL,GEeS,CLkBC,GC5BN,CIUU,ELkBrB,CC5BU,CD6BV,CC7BoB,KD6Bd,GKnBU,CLmBN,AKnByB,IAAnB,CLmBV,CAAU,AKnByB,MAAzB,EAAiC,GAArD,EAA0D,uBLmBhD,CAAN,CADJ;AC3BI,ACaJ,AGHI,gBHGA,IDbI,AIUA,KAAK,EHGE,KAAK,IDbI,ECaT,AGHP,CHCK,AGDc,EJVE,EIUrB,EAAyB,CJVT,AIUhB,CJV2B,CIUC,EAA5B,GJVgB,EIUmB,EAAnC,EJVuC,AIUA,IJVvB,GAA8B,eAAK,IAAL,CAAU,IAAV,CAA9B,GAAgD,CAAE,IAAF,CAAhD,CADA;AAEpB,ACaJ,AGHQ,gBHGJ,OAAO,CGHC,CAAJ,CADuC,IJT7B,CCad,KAAoB,CDbpB,CAAsB,MCatB,EACA,EDduB,KCchB,ODde,CCctB,CDdwC,ACa5C;AFWM,ACvBE,AIUA,gBLmBJ,UKrB2C,CJRlC,ID6Bb,CANM,ECvBE,CAAa,kBAAb,EAAiC,YAAjC,EADoC;AD+B5C,AC7BQ,AHVhB,OAAO,OAAP,EEuCY,CKtBA,APjBK,MEuCE,CC7BC,ED6BR,EFvCZ,EGU0B,CD6BC,OC7BO,GD6BtB,EAA2B,OC7Bb,CAAN,CAFgC;AAGpC,ACOK,aGFb,GHSI,WDdS,ECcI,CDdT,CAAS,CGSZ,GHTgB,ECcjB,CDda,AGSK,CFMlB,CDfI,EAHoC,ICkBjC,kBAAQ,OAAR,CAAgB,QAAhB,CAAP,CADJ;AFgBI,AKnBJ,gBAAI,CJdsB,CAAtB,CAFoB,EDmCf,CKnBC,CAAC,CAAD,EACN,ELkBA,CAAa,GAAb,AKlBM,CLkBW,GAAjB,AKlBU,ELkBY,GKlBhB,CAAU,GLkBhB,CAA8B,AIrBpB,UJqBqB,MAAD,EAAY,aKlBpC,CAAN,CADJ;ALoBQ,aCpCM,CAAd,CADY,WDqCC,GAAL,AGpCN,CHoCe,MAAT,EADsC;AC3B9C,ACIa,ACXb,aCasB,GFSlB,CFY8B,CAA9B,CAF2B,ACzBxB,AEPA,EDsBE,EDfT,CATY,AEEA,KAAL,CAAW,CDsBd,CAAgB,GCtBb,CAAiB,IDsBpB,ACtBG,EAAuB,IDsBI,KCtB3B,CAAP,CADE,EDuBE,EACA,MAAM,IAAI,KAAJ,gCAAuC,QAAvC,CAAN,CADJ;AFeI,AKnCe,gBAiBnB,CAAK,ILkBI,OAAL,CAAa,CKlBjB,CAAmB,ILkBf,AKlBJ,CLkBwB,CKlBC,ELkBrB,EAL2B,EKb/B,CAAgC,CAAhC,EAAmC,CAAnC,EAjBmB;ALoCf,uBAAO,IAAP,CAN2B;AErBlB,AEIb,aJiBA,GENI,AEXA,GJyBC,EEdI,EFcA,GIzBK,GFWV,CFcY,EIzBZ,CJyBK,CEda,CEXC,CAAnB,EJyBoB,AEdpB,AEVA,EFUwB,IEVlB,EJwBD,EACL,AIzBU,KAAJ,CJyBA,AIzBU,KJyBL,QAAL,CAAc,GAAd,CAAN,CADC,KAEA,GI1BK,CJ0BD,AI1BL,CADJ,OJ2BgB,iDAAP,KAAe,QAAf,EACL,MAAM,GAAN,CADC,KAGD,MAAM,IAAI,KAAJ,CAAU,6DAAV,CAAN,CAHC;WCpEQ;ACqDT,wBAAI,MAAM,mBAAN;AFFF,AEGF,AEfkB,gBJmClB,AI7BA,CJ6BC,II7BI,CJ6BC,EEpBF,CFoBH,CAAS,GAAT,CAAa,AEpBd,CAAW,EFoBV,CAAD,AI7BA,CAAmB,CJ8BnB,EErBgB,CEThB,GJ8BM,GErBK,AETkB,CJ8BnB,AErBV,KFqBM,CAAU,EI9BhB,EACA,MAAM,IAAI,IJ6BJ,CAAN,AI7BM,CJ4BV,0CI5B4D,IAAlD,CAAN,CADJ;AFUI,2BAAK,GAAL,ACzBD,CDyBU,KCzBJ,EDyBL,CAAiB,CCzBR,KAAK,IDyBI,GAAD,EAAS;AACtB,4BAAI,IGPP,GHOG,CAAY,EGPE,EHOE,MAAJ,CAAZ,CADsB;AFJxB,AGnBN,ACOsB,gBJuCtB,AG9CI,ACiBA,CJ6BC,GI7BG,CFMa,CAAjB,EFuBJ,CAAa,AI7BA,CDjBC,MAAV,GAAmB,CAAnB,EACA,ACgBI,CAAmB,GJ6B3B,CI7BQ,CJ6BwB,AG7CtB,CCgBuB,CCAnB,ADAN,CJ6BR,AI7BI,CDhBU,ACMQ,KDNZ,CAAU,0BAAV,CAAN,CADJ;AD0BI,AERJ,mBAAO,E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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/*\n**  Microkernel -- Microkernel for Server Applications\n**  Copyright (c) 2015-2016 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nimport aggregation from \"aggregation/es6\"\n\nimport Version     from \"./microkernel-1-version\"\nimport Manifest    from \"./microkernel-2-manifest\"\nimport Loader      from \"./microkernel-3-loader\"\nimport State       from \"./microkernel-4-state\"\nimport Hook        from \"./microkernel-5-hook\"\nimport Event       from \"./microkernel-6-event\"\nimport Service     from \"./microkernel-7-service\"\nimport Resource    from \"./microkernel-8-resource\"\n\n/*  the API class  */\nclass Microkernel extends\n    aggregation(Version, Manifest, Loader, State,\n                Hook, Event, Service, Resource) {\n    /*  initialize the microkernel instance  */\n    constructor () {\n        super()\n    }\n}\n\n/*  export the traditional way for interoperability reasons\n    (as Babel would export an object with a 'default' field)  */\nmodule.exports = Microkernel\n\n","/*\n**  Microkernel -- Microkernel for Server Applications\n**  Copyright (c) 2015-2016 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n/* global 0: false */\n/* global 9: false */\n/* global 22: false */\n/* global 20160207:  false */\n\n/*  the mixin class  */\nexport default class MicrokernelVersion {\n    version () {\n        return {\n            major: 0,\n            minor: 9,\n            micro: 22,\n            date:  20160207\n        }\n    }\n}\n\n","/*\n**  Microkernel -- Microkernel for Server Applications\n**  Copyright (c) 2015-2016 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n/*  the mixin class  */\nexport default class MicrokernelManifest {\n    /*  initialize the mixin  */\n    initializer () {\n        this.cls2mod  = new Map()\n        this.name2mod = new Map()\n        this.mod      = new Set()\n        this.modOrder = null\n    }\n\n    /*  add module to microkernel  */\n    add (arg) {\n        /*  sanity check situation  */\n        if (this.state() !== \"dead\")\n            throw new Error(\"microkernel is not in lowest state\")\n\n        /*  handle various variants of arguments  */\n        let mod\n        if (typeof arg === \"function\") {\n            /*  on-the-fly instanciate class  */\n            mod = new arg()\n            if (!this.cls2mod.has(arg))\n                this.cls2mod.set(arg, [])\n            this.cls2mod.get(arg).push(mod)\n        }\n        else if (typeof arg === \"object\")\n            mod = arg\n        else\n            throw new Error(\"invalid module (neither function/class nor object)\")\n\n        /*  sanity check module  */\n        if (typeof mod.module !== \"object\")\n            throw new Error(\"invalid module (no \\\"module\\\" object property)\")\n        if (typeof mod.module.name !== \"string\")\n            throw new Error(\"invalid module (no \\\"module.name\\\" string property)\")\n        if (this.name2mod.has(mod.module.name))\n            throw new Error(`module of name ${mod.module.name} already added`)\n\n        /*  take module into our management  */\n        this.mod.add(mod)\n        this.name2mod.set(mod.module.name, mod)\n\n        /*  optionally give module a link back to us  */\n        if (typeof mod.kernel === \"function\")\n            mod.kernel(this)\n        else if (mod.kernel === null)\n            mod.kernel = this\n\n        /*  publish an internal event (for use by an application)  */\n        this.publish(\"microkernel:add\", mod)\n\n        return this\n    }\n\n    /*  delete module from microkernel  */\n    del (arg) {\n        /*  sanity check situation  */\n        if (this.state() !== \"dead\")\n            throw new Error(\"microkernel is not in lowest state\")\n\n        /*  handle various variants of arguments  */\n        let mod\n        if (typeof arg === \"function\") {\n            /*  delete all instances of a class  */\n            this.cls2mod.get(arg).forEach((module) => {\n                this.del(module)\n            })\n            this.cls2mod.delete(arg)\n            return this\n        }\n        else if (typeof arg === \"string\")\n            mod = this.name2mod(arg)\n        else if (typeof arg === \"object\")\n            mod = arg\n        else\n            throw new Error(\"invalid module (neither function/class nor object nor name)\")\n\n        /*  sanity check module  */\n        if (!this.mod.has(mod))\n            throw new Error(\"module not found\")\n\n        /*  publish an internal event (for use by an application)  */\n        this.publish(\"microkernel:del\", mod)\n\n        /*  optionally remove link back to us  */\n        if (typeof mod.kernel === \"function\")\n            mod.kernel(null)\n        else if (typeof mod.kernel === \"object\")\n            mod.kernel = null\n\n        /*  remove module from our management  */\n        this.name2mod.delete(mod.module.name)\n        this.mod.delete(mod)\n\n        return this\n    }\n\n    /*  lookup module from microkernel  */\n    get (name) {\n        if (!this.name2mod.has(name))\n            throw new Error(\"module not found\")\n        return this.name2mod.get(name)\n    }\n}\n\n","/*\n**  Microkernel -- Microkernel for Server Applications\n**  Copyright (c) 2015-2016 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nimport Promise from \"core-js/library/es6/promise\"\nimport glob from \"glob\"\n\n/*  the mixin class  */\nexport default class MicrokernelLoader {\n    /*  load source files as a procedure\n        (and hence execute them with the microkernel as context)  */\n    exec (...files) {\n        return new Promise((resolve, reject) => {\n            let seq = Promise.resolve()\n            files.forEach((file) => {\n                let filesExpanded = file.match(/[*?]/) !== null ? glob.sync(file) : [ file ]\n                if (filesExpanded.length === 0)\n                    throw new Error(\"no files found\")\n                filesExpanded.forEach((fileExpanded) => {\n                    this.publish(\"microkernel:exec\", fileExpanded)\n                    let mod = require(fileExpanded)\n                    if (typeof mod !== \"function\")\n                        throw new Error(\"file has not exported a function\")\n                    seq = seq.then(() => mod(this))\n                })\n            })\n            seq.then(() => resolve(), (err) => reject(err))\n        })\n    }\n\n    /*  load source files as module definition\n        (and hence instanciate and add them to microkernel)  */\n    load (...files) {\n        files.forEach((file) => {\n            let filesExpanded = file.match(/[*?]/) !== null ? glob.sync(file) : [ file ]\n            filesExpanded.forEach((fileExpanded) => {\n                this.publish(\"microkernel:load\", fileExpanded)\n                let mod = require(fileExpanded)\n                this.add(new mod())\n            })\n        })\n        return this\n    }\n}\n\n","/*\n**  Microkernel -- Microkernel for Server Applications\n**  Copyright (c) 2015-2016 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nimport Promise from \"core-js/library/es6/promise\"\nimport GDO from \"gdo\"\n\n/*  the mixin class  */\nexport default class MicrokernelState {\n    /*  initialize the microkernel instance  */\n    initializer () {\n        this._state = \"dead\"\n        this._num2state = []\n        this._state2num = {}\n        this._groups = []\n        this.transitions([\n            { state: \"dead\",       enter: null,        leave: null },\n            { state: \"booted\",     enter: \"boot\",      leave: \"shutdown\" },\n            { state: \"latched\",    enter: \"latch\",     leave: \"unlatch\" },\n            { state: \"configured\", enter: \"configure\", leave: \"reset\" },\n            { state: \"prepared\",   enter: \"prepare\",   leave: \"release\" },\n            { state: \"started\",    enter: \"start\",     leave: \"stop\" }\n        ])\n        this.groups([\n            \"BOOT\", \"BASE\", \"RESOURCE\", \"SERVICE\", \"IDENT\", \"USECASE\"\n        ])\n    }\n\n    /*  (re)configure state transitions  */\n    transitions (transitions) {\n        this._num2state = transitions\n        let i = 0\n        transitions.forEach((state) => {\n            this._state2num[state.state] = i++\n        })\n        return this\n    }\n\n    /*  (re)configure module groups  */\n    groups (groups) {\n        this._groups = groups\n        return this\n    }\n\n    /*  retrieve current state or request transition to new state  */\n    state (stateNew) {\n        /*  special case: retrieve state only  */\n        let stateOld = this._state\n        if (typeof stateNew !== \"string\")\n            return stateOld\n\n        /*  special case: transit to same state  */\n        if (stateNew === stateOld)\n            return Promise.resolve(stateNew)\n\n        /*  sanity check new state  */\n        if (this._state2num[stateNew] === undefined)\n            throw new Error(`state: invalid new state: ${stateNew}`)\n\n        /*  perform deferred topological sorting of modules  */\n        if (this.modOrder === null) {\n            let gdo = new GDO()\n            gdo.groups(this._groups)\n            this.mod.forEach((mod) => {\n                gdo.element(mod.module)\n            })\n            this._modOrder = gdo.order()\n            this.publish(\"microkernel:state:toposort\", this._modOrder, this.mod)\n        }\n\n        /*  create outer promise chain  */\n        let promise = new Promise((resolve, reject) => {\n            /*  determine indexes of states  */\n            let stateOldIdx = this._state2num[stateOld]\n            let stateNewIdx = this._state2num[stateNew]\n\n            /*  create inner promise chain  */\n            let seq = Promise.resolve()\n\n            /*  publish internal event (for use by an application)  */\n            let publishEvent = (when, from, to, method) => {\n                seq = seq.then(() => {\n                    this.publish(\n                        `microkernel:state:transit:${when}`,\n                        this._num2state[from].state,\n                        this._num2state[to].state,\n                        method\n                    )\n                })\n            }\n\n            /*  helper function for transitioning  */\n            let transit = (stateFrom, stateTo, methodType, reverse, step) => {\n                /*  determine modulesdto call (in expected order)  */\n                let names = this._modOrder\n                if (reverse)\n                   names = names.reverse()\n\n                /*  loop until state is reached  */\n                while (stateFrom !== stateTo) {\n                    /*  determine method to call  */\n                    let methodName = this._num2state[\n                        methodType === \"enter\" ? stateFrom + 1 : stateFrom\n                    ][methodType]\n                    publishEvent(\"before\", stateFrom, stateFrom + step, methodName)\n\n                    /*  call method on all modules  */\n                    names.forEach((name) => {\n                        let mod = this.name2mod.get(name)\n                        if (typeof mod[methodName] === \"function\")\n                            seq = seq.then(() => mod[methodName].call(mod, this))\n                    })\n\n                    /*  go to new state  */\n                    stateFrom += step\n                    this._state = this._num2state[stateFrom].state\n                    publishEvent(\"after\", stateFrom - step, stateFrom, methodName)\n                }\n            }\n\n            /*  determine whether we perform upgrade or downgrade transition  */\n            if (stateOldIdx < stateNewIdx)\n                transit(stateOldIdx, stateNewIdx, \"enter\", false,  1) /*  upgrade    */\n            else if (stateOldIdx > stateNewIdx)\n                transit(stateOldIdx, stateNewIdx, \"leave\", true,  -1) /*  downgrade  */\n\n            /*  finally let inner promise chain either resolve or reject outer promise chain  */\n            seq.then(() => {\n                resolve(stateNew)\n            }, (err) => {\n                reject(err)\n            })\n        })\n\n        /*  reset module order in case we reached the dead state (again)  */\n        promise = promise.then((state) => {\n            if (state === \"dead\")\n                this._modOrder = null\n            return state\n        })\n\n        return promise\n    }\n}\n\n","/*\n**  Microkernel -- Microkernel for Server Applications\n**  Copyright (c) 2015-2016 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n/*  internal hook processing  */\nvar hookProc = {\n    /* jscs: disable */\n    \"none\":   { init: undefined,   step: (    ) => {}                        },\n    \"pass\":   { init: (a) => a[0], step: (o, n) => n                         },\n    \"or\":     { init: false,       step: (o, n) => o || n                    },\n    \"and\":    { init: true,        step: (o, n) => o && n                    },\n    \"mult\":   { init: 1,           step: (o, n) => o * n                     },\n    \"add\":    { init: 0,           step: (o, n) => o + n                     },\n    \"append\": { init: \"\",          step: (o, n) => o + n                     },\n    \"push\":   { init: [],          step: (o, n) => { o.push(n); return o }   },\n    \"concat\": { init: [],          step: (o, n) => o.concat(n)               },\n    \"set\":    { init: {},          step: (o, n) => { o[n] = true; return o } },\n    \"insert\": { init: new Set(),   step: (o, n) => o.add(n)                  },\n    \"assign\": { init: {},          step: (o, n) => Object.assign(o, n)       }\n    /* jscs: enable */\n}\n\n/*  internal registration counter  */\nvar cnt = 0\n\n/*  the mixin class  */\nexport default class MicrokernelHook {\n    /*  initialize the mixin  */\n    initializer () {\n        this._hooks = {}\n    }\n\n    /*  convenience method  */\n    at () {\n        return this.latch.apply(this, arguments)\n    }\n\n    /*  latch into hook  */\n    latch (name, cb, ctx) {\n        /*  sanity check arguments  */\n        if (arguments.length < 2)\n            throw new Error(\"latch: missing arguments\")\n\n        /*  on-the-fly create hook callback registry  */\n        if (typeof this._hooks[name] === \"undefined\")\n            this._hooks[name] = []\n\n        /*  store callback in hook callback registry  */\n        let id = cnt++\n        this._hooks[name].push({ id: id, cb: cb, ctx: ctx })\n        return id\n    }\n\n    /*  unlatch from hook  */\n    unlatch (name, id) {\n        /*  sanity check arguments  */\n        if (arguments.length !== 2)\n            throw new Error(\"unlatch: invalid number of arguments\")\n        if (typeof this._hooks[name] === \"undefined\")\n            throw new Error(`unlatch: no such hook: ${name}`)\n\n        /*  search for callback in hook callback registry  */\n        let k = -1\n        for (let i = 0; i < this._hooks[name].length; i++) {\n            if (this._hooks[name][i].id === id) {\n                k = i\n                break\n            }\n        }\n        if (k === -1)\n            throw new Error(\"unlatch: no such latched callback\")\n\n        /*  remove callback from hook callback registry  */\n        this._hooks[name].splice(k, 1)\n\n        return this\n    }\n\n    /*  provide hook  */\n    hook (name, proc, ...params) {\n        /*  sanity check arguments  */\n        if (arguments.length < 2)\n            throw new Error(\"hook: missing argument\")\n        if (typeof hookProc[proc] === \"undefined\")\n            throw new Error(\"hook: no such result processing defined\")\n\n        /*  start result with the initial value  */\n        let result = hookProc[proc].init\n        if (typeof result === \"function\")\n            result = result.call(null, params)\n\n        /*  give all registered callbacks a chance to\n            execute and modify the current result  */\n        if (typeof this._hooks[name] !== \"undefined\") {\n            this._hooks[name].forEach((l) => {\n                /*  call latched callback  */\n                let r = l.cb.apply(l.ctx, params.concat([ result ]))\n\n                /*  process/merge results  */\n                result = hookProc[proc].step.call(null, result, r)\n            })\n        }\n\n        /*  return the final result  */\n        return result\n    }\n}\n\n","/*\n**  Microkernel -- Microkernel for Server Applications\n**  Copyright (c) 2015-2016 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n/*  the mixin class  */\nexport default class MicrokernelService {\n    /*  initialize the mixin  */\n    initializer () {\n        this._registration = {}\n    }\n\n    /*  convenience method  */\n    sv () {\n        return this.service.apply(this, arguments)\n    }\n\n    /*  register service  */\n    register (name, cb, ctx) {\n        /*  sanity check arguments  */\n        if (arguments.length < 2)\n            throw new Error(\"register: missing arguments\")\n\n        /*  store registration  */\n        if (this._registration[name] === undefined)\n            this._registration[name] = []\n        this._registration[name].push({ cb: cb, ctx: ctx })\n        return this\n    }\n\n    /*  unregister service  */\n    unregister (name) {\n        /*  sanity check arguments  */\n        if (arguments.length !== 1)\n            throw new Error(\"unregister: invalid number of arguments\")\n\n        /*  sanity check situation  */\n        if (this._registration[name] === undefined)\n            throw new Error(\"unregister: no such registration\")\n\n        /*  remove registration  */\n        this._registration[name].pop()\n        if (this._registration[name].length === 0)\n            delete this._registration[name]\n        return this\n    }\n\n    /*  call service  */\n    service (name, ...params) {\n        /*  sanity check arguments  */\n        if (arguments.length < 1)\n            throw new Error(\"service: missing argument\")\n\n        /*  sanity check situation  */\n        if (this._registration[name] === undefined)\n            throw new Error(`service: no such service registered: ${name}`)\n\n        /*  call registered function  */\n        let r = this._registration[name][0]\n        return r.cb.apply(r.ctx, params)\n    }\n}\n\n","/*\n**  Microkernel -- Microkernel for Server Applications\n**  Copyright (c) 2015-2016 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nimport Promise from \"core-js/library/es6/promise\"\n\n/*  internal registration counter  */\nvar cnt = 0\n\n/*  the mixin class  */\nexport default class MicrokernelEvent {\n    /*  initialize the mixin  */\n    initializer () {\n        this._subscription = {}\n    }\n\n    /*  convenience method  */\n    on () {\n        return this.subscribe.apply(this, arguments)\n    }\n\n    /*  subscribe for event  */\n    subscribe (name, cb, ctx) {\n        /*  sanity check arguments  */\n        if (arguments.length < 2)\n            throw new Error(\"subscribe: missing arguments\")\n\n        /*  store subscription  */\n        let id = cnt++\n        if (this._subscription[name] === undefined)\n            this._subscription[name] = []\n        this._subscription[name].push({ id: id, cb: cb, ctx: ctx })\n        return id\n    }\n\n    /*  unsubscribe from event  */\n    unsubscribe (name, id) {\n        /*  sanity check arguments  */\n        if (arguments.length !== 2)\n            throw new Error(\"unsubscribe: invalid number of arguments\")\n\n        /*  search for subscription  */\n        let k = -1\n        for (let i = 0; i < this._subscription[name].length; i++) {\n            if (this._subscription[name][i].id === id) {\n                k = i\n                break\n            }\n        }\n        if (k === -1)\n            throw new Error(\"unsubscribe: no such subscription\")\n\n        /*  remove subscription  */\n        this._subscription[name].splice(k, 1)\n    }\n\n    /*  publish event  */\n    publish (name, ...params) {\n        /*  sanity check arguments  */\n        if (arguments.length < 1)\n            throw new Error(\"publish: missing argument\")\n\n        /*  special case: no subscriber at all  */\n        if (this._subscription[name] === undefined)\n            return Promise.resolve()\n\n        /*  return outer promise  */\n        let promises = []\n        this._subscription[name].forEach((s) => {\n            promises.push(new Promise((resolve /*, reject */) => {\n                /* global setTimeout: true */\n                setTimeout(() => {\n                    resolve(s.cb.apply(s.ctx, params))\n                }, 0)\n            }))\n        })\n        return Promise.all(promises)\n    }\n}\n\n","/*\n**  Microkernel -- Microkernel for Server Applications\n**  Copyright (c) 2015-2016 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n/*  the mixin class  */\nexport default class MicrokernelResource {\n    /*  initialize the mixin  */\n    initializer () {\n        this._resource = {}\n    }\n\n    /*  convenience method  */\n    rs () {\n        return this.resource.apply(this, arguments)\n    }\n\n    /*  get/set resource  */\n    resource (key, value) {\n        if (arguments.length > 2)\n            throw new Error(\"resource: invalid number of arguments\")\n        if (arguments.length === 2)\n            this._resource[key] = value\n        return this._resource[key]\n    }\n}\n\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _aggregationEs = require(\"./src/aggregation-es6.js\");\n\nvar _aggregationEs2 = _interopRequireDefault(_aggregationEs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _aggregationEs2.default;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlczYuanMiLCJzb3VyY2VzQ29udGVudCI6W119","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nmodule.exports = require('../modules/_core').Promise;","/*\n**  Aggregation -- Aggregation of Base Class and Mixin Classes\n**  Copyright (c) 2015 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n/*  ==== ECMAScript 6 variant ====  */\n\nvar aggregation = (base, ...mixins) => {\n\n    /*  create aggregation class  */\n    let aggregate = class __Aggregate extends base {\n        constructor (...args) {\n            /*  call base class constructor  */\n            super(...args)\n\n            /*  call mixin's initializer  */\n            mixins.forEach((mixin) => {\n                if (typeof mixin.prototype.initializer === \"function\")\n                    mixin.prototype.initializer.call(this)\n            })\n        }\n    };\n\n    /*  copy properties  */\n    let copyProps = (target, source) => {\n        Object.getOwnPropertyNames(source)\n            .concat(Object.getOwnPropertySymbols(source))\n            .forEach((prop) => {\n            if (prop.match(/^(?:initializer|constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/))\n                return\n            Object.defineProperty(target, prop, Object.getOwnPropertyDescriptor(source, prop))\n        })\n    }\n\n    /*  copy all properties of all mixins into aggregation class  */\n    mixins.forEach((mixin) => {\n        copyProps(aggregate.prototype, mixin.prototype)\n        copyProps(aggregate, mixin)\n    })\n\n    return aggregate\n}\n\nexport default aggregation\n\n","'use strict';\nvar $at  = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function(iterated){\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , index = this._i\n    , point;\n  if(index >= O.length)return {value: undefined, done: true};\n  point = $at(O, index);\n  this._i += point.length;\n  return {value: point, done: false};\n});","require('./es6.array.iterator');\nvar global        = require('./_global')\n  , hide          = require('./_hide')\n  , Iterators     = require('./_iterators')\n  , TO_STRING_TAG = require('./_wks')('toStringTag')\n  , ArrayValues   = Iterators.Array;\n\nrequire('./_').each.call(['NodeList', 'DOMTokenList', 'MediaList', 'StyleSheetList', 'CSSRuleList'], function(NAME){\n  var Collection = global[NAME]\n    , proto      = Collection && Collection.prototype;\n  if(proto && !proto[TO_STRING_TAG])hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = ArrayValues;\n});","'use strict';\nvar $                  = require('./_')\n  , LIBRARY            = require('./_library')\n  , global             = require('./_global')\n  , ctx                = require('./_ctx')\n  , classof            = require('./_classof')\n  , $export            = require('./_export')\n  , isObject           = require('./_is-object')\n  , anObject           = require('./_an-object')\n  , aFunction          = require('./_a-function')\n  , anInstance         = require('./_an-instance')\n  , forOf              = require('./_for-of')\n  , from               = require('./_array-from-iterable')\n  , setProto           = require('./_set-proto').set\n  , speciesConstructor = require('./_species-constructor')\n  , task               = require('./_task').set\n  , microtask          = require('./_microtask')\n  , PROMISE            = 'Promise'\n  , TypeError          = global.TypeError\n  , process            = global.process\n  , $Promise           = global[PROMISE]\n  , isNode             = classof(process) == 'process'\n  , empty              = function(){ /* empty */ }\n  , Internal, GenericPromiseCapability, Wrapper;\n\nvar testResolve = function(sub){\n  var test = new $Promise(empty), promise;\n  if(sub)test.constructor = function(exec){\n    exec(empty, empty);\n  };\n  (promise = $Promise.resolve(test))['catch'](empty);\n  return promise === test;\n};\n\nvar USE_NATIVE = function(){\n  var works = false;\n  var SubPromise = function(x){\n    var self = new $Promise(x);\n    setProto(self, SubPromise.prototype);\n    return self;\n  };\n  try {\n    works = $Promise && $Promise.resolve && testResolve();\n    setProto(SubPromise, $Promise);\n    SubPromise.prototype = $.create($Promise.prototype, {constructor: {value: SubPromise}});\n    // actual Firefox has broken subclass support, test that\n    if(!(SubPromise.resolve(5).then(empty) instanceof SubPromise)){\n      works = false;\n    }\n    // V8 4.8- bug, https://code.google.com/p/v8/issues/detail?id=4162\n    if(works && require('./_descriptors')){\n      var thenableThenGotten = false;\n      $Promise.resolve($.setDesc({}, 'then', {\n        get: function(){ thenableThenGotten = true; }\n      }));\n      works = thenableThenGotten;\n    }\n  } catch(e){ works = false; }\n  return !!works;\n}();\n\n// helpers\nvar sameConstructor = function(a, b){\n  // with library wrapper special case\n  return a === b || a === $Promise && b === Wrapper;\n};\nvar isThenable = function(it){\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar newPromiseCapability = function(C){\n  return sameConstructor($Promise, C)\n    ? new PromiseCapability(C)\n    : new GenericPromiseCapability(C);\n};\nvar PromiseCapability = GenericPromiseCapability = function(C){\n  var resolve, reject;\n  this.promise = new C(function($$resolve, $$reject){\n    if(resolve !== undefined || reject !== undefined)throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject  = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject  = aFunction(reject);\n};\nvar perform = function(exec){\n  try {\n    exec();\n  } catch(e){\n    return {error: e};\n  }\n};\nvar notify = function(promise, isReject){\n  if(promise._n)return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function(){\n    var value = promise._v\n      , ok    = promise._s == 1\n      , i     = 0;\n    var run = function(reaction){\n      var handler = ok ? reaction.ok : reaction.fail\n        , resolve = reaction.resolve\n        , reject  = reaction.reject\n        , result, then;\n      try {\n        if(handler){\n          if(!ok){\n            if(promise._h == 2)onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          result = handler === true ? value : handler(value);\n          if(result === reaction.promise){\n            reject(TypeError('Promise-chain cycle'));\n          } else if(then = isThenable(result)){\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch(e){\n        reject(e);\n      }\n    };\n    while(chain.length > i)run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if(isReject && !promise._h)onUnhandled(promise);\n  });\n};\nvar onUnhandled = function(promise){\n  task.call(global, function(){\n    if(isUnhandled(promise)){\n      var value = promise._v\n        , handler, console;\n      if(isNode){\n        process.emit('unhandledRejection', value, promise);\n      } else if(handler = global.onunhandledrejection){\n        handler({promise: promise, reason: value});\n      } else if((console = global.console) && console.error){\n        console.error('Unhandled promise rejection', value);\n      } promise._h = 2;\n    } promise._a = undefined;\n  });\n};\nvar isUnhandled = function(promise){\n  var chain = promise._a || promise._c\n    , i     = 0\n    , reaction;\n  if(promise._h == 1)return false;\n  while(chain.length > i){\n    reaction = chain[i++];\n    if(reaction.fail || !isUnhandled(reaction.promise))return false;\n  } return true;\n};\nvar onHandleUnhandled = function(promise){\n  task.call(global, function(){\n    var handler;\n    if(isNode){\n      process.emit('rejectionHandled', promise);\n    } else if(handler = global.onrejectionhandled){\n      handler({promise: promise, reason: promise._v});\n    }\n  });\n};\nvar $reject = function(value){\n  var promise = this;\n  if(promise._d)return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if(!promise._a)promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function(value){\n  var promise = this\n    , then;\n  if(promise._d)return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if(promise === value)throw TypeError(\"Promise can't be resolved itself\");\n    if(then = isThenable(value)){\n      microtask(function(){\n        var wrapper = {_w: promise, _d: false}; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch(e){\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch(e){\n    $reject.call({_w: promise, _d: false}, e); // wrap\n  }\n};\n\n// constructor polyfill\nif(!USE_NATIVE){\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor){\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch(err){\n      $reject.call(this, err);\n    }\n  };\n  Internal = function Promise(executor){\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected){\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok   = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      this._c.push(reaction);\n      if(this._a)this._a.push(reaction);\n      if(this._s)notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function(onRejected){\n      return this.then(undefined, onRejected);\n    }\n  });\n  PromiseCapability = function(){\n    var promise  = new Internal;\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject  = ctx($reject, promise, 1);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Promise: $Promise});\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r){\n    var capability = newPromiseCapability(this)\n      , $$reject   = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE || testResolve(true)), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x){\n    // instanceof instead of internal slot check because we should fix it without replacement native Promise core\n    if(x instanceof $Promise && sameConstructor(x.constructor, this))return x;\n    var capability = newPromiseCapability(this)\n      , $$resolve  = capability.resolve;\n    $$resolve(x);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function(iter){\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable){\n    var C          = this\n      , capability = newPromiseCapability(C)\n      , resolve    = capability.resolve\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      var values    = from(iterable)\n        , remaining = values.length\n        , results   = Array(remaining);\n      if(remaining)$.each.call(values, function(promise, index){\n        var alreadyCalled = false;\n        C.resolve(promise).then(function(value){\n          if(alreadyCalled)return;\n          alreadyCalled = true;\n          results[index] = value;\n          --remaining || resolve(results);\n        }, reject);\n      });\n      else resolve(results);\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable){\n    var C          = this\n      , capability = newPromiseCapability(C)\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      forOf(iterable, false, function(promise){\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  }\n});","var core = module.exports = {version: '2.0.3'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef","var toInteger = require('./_to-integer')\n  , defined   = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function(TO_STRING){\n  return function(that, pos){\n    var s = String(defined(that))\n      , i = toInteger(pos)\n      , l = s.length\n      , a, b;\n    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};","'use strict';\nvar LIBRARY        = require('./_library')\n  , $export        = require('./_export')\n  , redefine       = require('./_redefine')\n  , hide           = require('./_hide')\n  , has            = require('./_has')\n  , Iterators      = require('./_iterators')\n  , $iterCreate    = require('./_iter-create')\n  , setToStringTag = require('./_set-to-string-tag')\n  , getProto       = require('./_').getProto\n  , ITERATOR       = require('./_wks')('iterator')\n  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n  , FF_ITERATOR    = '@@iterator'\n  , KEYS           = 'keys'\n  , VALUES         = 'values';\n\nvar returnThis = function(){ return this; };\n\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function(kind){\n    if(!BUGGY && kind in proto)return proto[kind];\n    switch(kind){\n      case KEYS: return function keys(){ return new Constructor(this, kind); };\n      case VALUES: return function values(){ return new Constructor(this, kind); };\n    } return function entries(){ return new Constructor(this, kind); };\n  };\n  var TAG        = NAME + ' Iterator'\n    , DEF_VALUES = DEFAULT == VALUES\n    , VALUES_BUG = false\n    , proto      = Base.prototype\n    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n    , $default   = $native || getMethod(DEFAULT)\n    , $entries   = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined\n    , $anyNative = NAME == 'Array' ? proto.entries || $native : $native\n    , methods, key, IteratorPrototype;\n  // Fix native\n  if($anyNative){\n    IteratorPrototype = getProto($anyNative.call(new Base));\n    if(IteratorPrototype !== Object.prototype){\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if(!LIBRARY && !has(IteratorPrototype, ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if(DEF_VALUES && $native && $native.name !== VALUES){\n    VALUES_BUG = true;\n    $default = function values(){ return $native.call(this); };\n  }\n  // Define iterator\n  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG]  = returnThis;\n  if(DEFAULT){\n    methods = {\n      values:  DEF_VALUES ? $default : getMethod(VALUES),\n      keys:    IS_SET     ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if(FORCED)for(key in methods){\n      if(!(key in proto))redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables')\n  , step             = require('./_iter-step')\n  , Iterators        = require('./_iterators')\n  , toIObject        = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function(iterated, kind){\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , kind  = this._k\n    , index = this._i++;\n  if(!O || index >= O.length){\n    this._t = undefined;\n    return step(1);\n  }\n  if(kind == 'keys'  )return step(0, index);\n  if(kind == 'values')return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef","var $          = require('./_')\n  , createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function(object, key, value){\n  return $.setDesc(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};","module.exports = {};","var store      = require('./_shared')('wks')\n  , uid        = require('./_uid')\n  , Symbol     = require('./_global').Symbol\n  , USE_SYMBOL = typeof Symbol == 'function';\nmodule.exports = function(name){\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};","var $Object = Object;\nmodule.exports = {\n  create:     $Object.create,\n  getProto:   $Object.getPrototypeOf,\n  isEnum:     {}.propertyIsEnumerable,\n  getDesc:    $Object.getOwnPropertyDescriptor,\n  setDesc:    $Object.defineProperty,\n  setDescs:   $Object.defineProperties,\n  getKeys:    $Object.keys,\n  getNames:   $Object.getOwnPropertyNames,\n  getSymbols: $Object.getOwnPropertySymbols,\n  each:       [].forEach\n};","module.exports = true;","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof')\n  , TAG = require('./_wks')('toStringTag')\n  // ES3 wrong here\n  , ARG = cof(function(){ return arguments; }()) == 'Arguments';\n\nmodule.exports = function(it){\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = (O = Object(it))[TAG]) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};","var global    = require('./_global')\n  , core      = require('./_core')\n  , ctx       = require('./_ctx')\n  , hide      = require('./_hide')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , expProto  = exports[PROTOTYPE]\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(a, b, c){\n        if(this instanceof C){\n          switch(arguments.length){\n            case 0: return new C;\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if(IS_PROTO){\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if(type & $export.R && expProto && !expProto[key])hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library` \nmodule.exports = $export;","module.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};","var isObject = require('./_is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};","module.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};","module.exports = function(it, Constructor, name, forbiddenField){\n  if(!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)){\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};","var ctx         = require('./_ctx')\n  , call        = require('./_iter-call')\n  , isArrayIter = require('./_is-array-iter')\n  , anObject    = require('./_an-object')\n  , toLength    = require('./_to-length')\n  , getIterFn   = require('./core.get-iterator-method');\nmodule.exports = function(iterable, entries, fn, that, ITERATOR){\n  var iterFn = ITERATOR ? function(){ return iterable; } : getIterFn(iterable)\n    , f      = ctx(fn, that, entries ? 2 : 1)\n    , index  = 0\n    , length, step, iterator;\n  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){\n    entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){\n    call(iterator, f, step.value, entries);\n  }\n};","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar getDesc  = require('./_').getDesc\n  , isObject = require('./_is-object')\n  , anObject = require('./_an-object');\nvar check = function(O, proto){\n  anObject(O);\n  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function(test, buggy, set){\n      try {\n        set = require('./_ctx')(Function.call, getDesc(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch(e){ buggy = true; }\n      return function setPrototypeOf(O, proto){\n        check(O, proto);\n        if(buggy)O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};","var forOf = require('./_for-of');\n\nmodule.exports = function(iter, ITERATOR){\n  var result = [];\n  forOf(iter, false, result.push, result, ITERATOR);\n  return result;\n};\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject  = require('./_an-object')\n  , aFunction = require('./_a-function')\n  , SPECIES   = require('./_wks')('species');\nmodule.exports = function(O, D){\n  var C = anObject(O).constructor, S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};","var ctx                = require('./_ctx')\n  , invoke             = require('./_invoke')\n  , html               = require('./_html')\n  , cel                = require('./_dom-create')\n  , global             = require('./_global')\n  , process            = global.process\n  , setTask            = global.setImmediate\n  , clearTask          = global.clearImmediate\n  , MessageChannel     = global.MessageChannel\n  , counter            = 0\n  , queue              = {}\n  , ONREADYSTATECHANGE = 'onreadystatechange'\n  , defer, channel, port;\nvar run = function(){\n  var id = +this;\n  if(queue.hasOwnProperty(id)){\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listner = function(event){\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif(!setTask || !clearTask){\n  setTask = function setImmediate(fn){\n    var args = [], i = 1;\n    while(arguments.length > i)args.push(arguments[i++]);\n    queue[++counter] = function(){\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id){\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if(require('./_cof')(process) == 'process'){\n    defer = function(id){\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if(MessageChannel){\n    channel = new MessageChannel;\n    port    = channel.port2;\n    channel.port1.onmessage = listner;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if(global.addEventListener && typeof postMessage == 'function' && !global.importScripts){\n    defer = function(id){\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listner, false);\n  // IE8-\n  } else if(ONREADYSTATECHANGE in cel('script')){\n    defer = function(id){\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function(){\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function(id){\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set:   setTask,\n  clear: clearTask\n};","var global    = require('./_global')\n  , macrotask = require('./_task').set\n  , Observer  = global.MutationObserver || global.WebKitMutationObserver\n  , process   = global.process\n  , Promise   = global.Promise\n  , isNode    = require('./_cof')(process) == 'process'\n  , head, last, notify;\n\nvar flush = function(){\n  var parent, domain, fn;\n  if(isNode && (parent = process.domain)){\n    process.domain = null;\n    parent.exit();\n  }\n  while(head){\n    domain = head.domain;\n    fn     = head.fn;\n    if(domain)domain.enter();\n    fn(); // <- currently we use it only for Promise - try / catch not required\n    if(domain)domain.exit();\n    head = head.next;\n  } last = undefined;\n  if(parent)parent.enter();\n};\n\n// Node.js\nif(isNode){\n  notify = function(){\n    process.nextTick(flush);\n  };\n// browsers with MutationObserver\n} else if(Observer){\n  var toggle = 1\n    , node   = document.createTextNode('');\n  new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new\n  notify = function(){\n    node.data = toggle = -toggle;\n  };\n// environments with maybe non-completely correct, but existent Promise\n} else if(Promise && Promise.resolve){\n  notify = function(){\n    Promise.resolve().then(flush);\n  };\n// for other environments - macrotask based on:\n// - setImmediate\n// - MessageChannel\n// - window.postMessag\n// - onreadystatechange\n// - setTimeout\n} else {\n  notify = function(){\n    // strange IE + webpack dev server bug - use .call(global)\n    macrotask.call(global, flush);\n  };\n}\n\nmodule.exports = function asap(fn){\n  var task = {fn: fn, next: undefined, domain: isNode && process.domain};\n  if(last)last.next = task;\n  if(!head){\n    head = task;\n    notify();\n  } last = task;\n};","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});","var hide = require('./_hide');\nmodule.exports = function(target, src, safe){\n  for(var key in src){\n    if(safe && target[key])target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};","var def = require('./_').setDesc\n  , has = require('./_has')\n  , TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};","'use strict';\nvar core        = require('./_core')\n  , $           = require('./_')\n  , DESCRIPTORS = require('./_descriptors')\n  , SPECIES     = require('./_wks')('species');\n\nmodule.exports = function(KEY){\n  var C = core[KEY];\n  if(DESCRIPTORS && C && !C[SPECIES])$.setDesc(C, SPECIES, {\n    configurable: true,\n    get: function(){ return this; }\n  });\n};","var ITERATOR     = require('./_wks')('iterator')\n  , SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function(){ SAFE_CLOSING = true; };\n  Array.from(riter, function(){ throw 2; });\n} catch(e){ /* empty */ }\n\nmodule.exports = function(exec, skipClosing){\n  if(!skipClosing && !SAFE_CLOSING)return false;\n  var safe = false;\n  try {\n    var arr  = [7]\n      , iter = arr[ITERATOR]();\n    iter.next = function(){ safe = true; };\n    arr[ITERATOR] = function(){ return iter; };\n    exec(arr);\n  } catch(e){ /* empty */ }\n  return safe;\n};","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};","// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};","module.exports = require('./_hide');","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};","'use strict';\nvar $              = require('./_')\n  , descriptor     = require('./_property-desc')\n  , setToStringTag = require('./_set-to-string-tag')\n  , IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function(){ return this; });\n\nmodule.exports = function(Constructor, NAME, next){\n  Constructor.prototype = $.create(IteratorPrototype, {next: descriptor(1, next)});\n  setToStringTag(Constructor, NAME + ' Iterator');\n};","module.exports = function(){ /* empty */ };","module.exports = function(done, value){\n  return {value: value, done: !!done};\n};","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject')\n  , defined = require('./_defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};","module.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};","var global = require('./_global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};","var id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};","var toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function(iterator, fn, value, entries){\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch(e){\n    var ret = iterator['return'];\n    if(ret !== undefined)anObject(ret.call(iterator));\n    throw e;\n  }\n};","// check on default Array iterator\nvar Iterators  = require('./_iterators')\n  , ITERATOR   = require('./_wks')('iterator')\n  , ArrayProto = Array.prototype;\n\nmodule.exports = function(it){\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer')\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};","var classof   = require('./_classof')\n  , ITERATOR  = require('./_wks')('iterator')\n  , Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function(it){\n  if(it != undefined)return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function(fn, args, that){\n  var un = that === undefined;\n  switch(args.length){\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return              fn.apply(that, args);\n};","module.exports = require('./_global').document && document.documentElement;","var isObject = require('./_is-object')\n  , document = require('./_global').document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};","module.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};"]}