{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/microkernel.js","src/microkernel-1-version.js","src/microkernel-3-loader.js","src/microkernel-2-manifest.js","src/microkernel-6-event.js","src/microkernel-4-state.js","src/microkernel-8-resource.js","src/microkernel-7-service.js","src/microkernel-5-hook.js","node_modules/aggregation/es6.js","node_modules/core-js/library/es6/promise.js","node_modules/aggregation/src/aggregation-es6.js","node_modules/core-js/library/modules/es6.string.iterator.js","node_modules/core-js/library/modules/es6.promise.js","node_modules/core-js/library/modules/web.dom.iterable.js","node_modules/core-js/library/modules/$.core.js","node_modules/core-js/library/modules/$.string-at.js","node_modules/core-js/library/modules/$.iter-define.js","node_modules/core-js/library/modules/$.js","node_modules/core-js/library/modules/$.global.js","node_modules/core-js/library/modules/$.library.js","node_modules/core-js/library/modules/$.ctx.js","node_modules/core-js/library/modules/$.classof.js","node_modules/core-js/library/modules/$.export.js","node_modules/core-js/library/modules/$.is-object.js","node_modules/core-js/library/modules/$.a-function.js","node_modules/core-js/library/modules/$.an-object.js","node_modules/core-js/library/modules/$.strict-new.js","node_modules/core-js/library/modules/$.for-of.js","node_modules/core-js/library/modules/$.set-proto.js","node_modules/core-js/library/modules/$.same-value.js","node_modules/core-js/library/modules/$.wks.js","node_modules/core-js/library/modules/$.species-constructor.js","node_modules/core-js/library/modules/$.microtask.js","node_modules/core-js/library/modules/$.descriptors.js","node_modules/core-js/library/modules/$.redefine-all.js","node_modules/core-js/library/modules/$.set-to-string-tag.js","node_modules/core-js/library/modules/$.set-species.js","node_modules/core-js/library/modules/$.iter-detect.js","node_modules/core-js/library/modules/es6.array.iterator.js","node_modules/core-js/library/modules/$.iterators.js","node_modules/core-js/library/modules/$.to-integer.js","node_modules/core-js/library/modules/$.defined.js","node_modules/core-js/library/modules/$.redefine.js","node_modules/core-js/library/modules/$.hide.js","node_modules/core-js/library/modules/$.has.js","node_modules/core-js/library/modules/$.iter-create.js","node_modules/core-js/library/modules/$.cof.js","node_modules/core-js/library/modules/$.iter-call.js","node_modules/core-js/library/modules/$.is-array-iter.js","node_modules/core-js/library/modules/$.to-length.js","node_modules/core-js/library/modules/core.get-iterator-method.js","node_modules/core-js/library/modules/$.shared.js","node_modules/core-js/library/modules/$.uid.js","node_modules/core-js/library/modules/$.task.js","node_modules/core-js/library/modules/$.fails.js","node_modules/core-js/library/modules/$.add-to-unscopables.js","node_modules/core-js/library/modules/$.iter-step.js","node_modules/core-js/library/modules/$.to-iobject.js","node_modules/core-js/library/modules/$.property-desc.js","node_modules/core-js/library/modules/$.invoke.js","node_modules/core-js/library/modules/$.dom-create.js","node_modules/core-js/library/modules/$.html.js","node_modules/core-js/library/modules/$.iobject.js"],"names":["Microkernel","_aggregation","call","this","_es2","_microkernel1Version2","_microkernel2Manifest2","_microkernel3Loader2","_microkernel4State2","_microkernel5Hook2","_microkernel6Event2","_microkernel7Service2","_microkernel8Resource2","module","exports","MicrokernelVersion","major","minor","micro","date","MicrokernelLoader","files","Array","_len","_key","arguments","_promise2","resolve","reject","seq","forEach","file","filesExpanded","match","_glob2","sync","length","Error","fileExpanded","_this","publish","mod","require","then","err","_len2","_key2","_this2","add","MicrokernelManifest","cls2mod","Map","name2mod","Set","modOrder","arg","state","undefined","has","set","get","push","_typeof","name","kernel","del","cnt","MicrokernelEvent","_subscription","subscribe","apply","cb","ctx","id","k","i","splice","params","promises","s","setTimeout","all","MicrokernelState","_state","_num2state","_state2num","_groups","transitions","enter","leave","groups","_transitions","stateNew","stateOld","gdo","_gdo2","element","_modOrder","order","promise","stateOldIdx","stateNewIdx","publishEvent","when","from","to","method","transit","stateFrom","stateTo","methodType","reverse","step","names","methodName","MicrokernelResource","_resource","resource","key","value","MicrokernelService","_registration","service","pop","r","hookProc","none","init","pass","a","o","n","or","and","mult","append","concat","insert","assign","Object","MicrokernelHook","_hooks","latch","proc","result","l","_interopRequireDefault","obj","__esModule","default","defineProperty","_aggregationEs","_aggregationEs2","Promise","aggregation","base","mixins","aggregate","_base","__Aggregate","args","_Object$getPrototypeO","mixin","prototype","initializer","copyProps","target","source","getOwnPropertyNames","getOwnPropertySymbols","prop","getOwnPropertyDescriptor","$at","String","iterated","_t","_i","point","O","index","done","$","LIBRARY","global","classof","$export","isObject","anObject","aFunction","strictNew","forOf","setProto","same","SPECIES","speciesConstructor","asap","PROMISE","process","isNode","P","Wrapper","testResolve","sub","test","constructor","USE_NATIVE","P2","x","self","works","create","thenableThenGotten","setDesc","e","sameConstructor","b","getConstructor","C","S","isThenable","it","PromiseCapability","$$resolve","$$reject","TypeError","perform","exec","error","notify","record","isReject","chain","c","v","ok","run","reaction","handler","fail","h","console","p","isUnhandled","emit","onunhandledrejection","reason","_d","$reject","d","slice","$resolve","wrapper","executor","onFulfilled","onRejected","catch","G","W","F","capability","iter","iterable","values","abrupt","remaining","results","each","alreadyCalled","race","Iterators","NodeList","HTMLCollection","core","version","__e","toInteger","defined","TO_STRING","that","pos","charCodeAt","charAt","redefine","hide","$iterCreate","setToStringTag","getProto","ITERATOR","BUGGY","keys","FF_ITERATOR","KEYS","VALUES","returnThis","Base","NAME","Constructor","next","DEFAULT","IS_SET","FORCED","methods","getMethod","kind","proto","TAG","DEF_VALUES","VALUES_BUG","$native","$default","IteratorPrototype","entries","$Object","getPrototypeOf","isEnum","propertyIsEnumerable","getDesc","setDescs","defineProperties","getKeys","getNames","getSymbols","window","Math","Function","__g","fn","cof","ARG","T","B","callee","PROTOTYPE","type","own","out","IS_FORCED","IS_GLOBAL","IS_STATIC","IS_PROTO","IS_BIND","IS_WRAP","param","isArrayIter","toLength","getIterFn","iterator","iterFn","f","check","setPrototypeOf","buggy","__proto__","is","y","store","uid","Symbol","D","macrotask","Observer","MutationObserver","WebKitMutationObserver","head","last","flush","parent","domain","exit","nextTick","toggle","node","document","createTextNode","observe","characterData","data","task","src","def","tag","stat","configurable","DESCRIPTORS","KEY","SAFE_CLOSING","riter","skipClosing","safe","arr","addToUnscopables","toIObject","_k","Arguments","ceil","floor","isNaN","createDesc","object","hasOwnProperty","descriptor","toString","ret","ArrayProto","min","getIteratorMethod","SHARED","px","random","invoke","html","cel","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","counter","queue","ONREADYSTATECHANGE","defer","channel","port","listner","event","port2","port1","onmessage","postMessage","addEventListener","importScripts","appendChild","removeChild","clear","IObject","bitmap","enumerable","writable","un","createElement","documentElement","split"],"mappings":"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,EKDsC,CLCnC,AKDoC,CPMnC,EAAE,AELK,CKDgC,CPMnC,AONoC,ELC7B,GAAG,AEFV,ACHA,EHKY,CAAA,aEFI,GCHG;ALW5B,AELJ,ICDa,KIDoC,EAAqB,KLElE,CAAC,ADHQ,AKHA,GNWL,AGNqB,EHMlB,GELE,GAAG,EFKG,EELC,CAAA,CDHU,CKHC;ACKnC,SLEC,AKFI,EAAK,EPOL,AOPO,AJAK,CHOZ,GOPW,EAAE,IAAI,EAAS,IAAI,AJAF,EIAI,cAAC,CAAC,EAAE,CAAC;SPQzC,QIVgB,ACHA,EEK8B,CAAC,IAAI,CAAC,KJApC,GCFgB,GCHG,UFKH;SIAoB,EAAqB;AAC1E,UAAM,EAAI,EAAE,IAAI,EAAE,CAAC,EAAY,IAAI,EAAE,SDJtB,KCIuB,CAAC,EAAE,CAAC;ADHtC,WNEa,KMFT,CHES,AGFR,ECGsC,CAAC,GAAG,CAAC,KPDjB,CMFb,CLGN,EEDiB,AGFR,EAAE,CAAA;SCGyB,ADFnD,ECEyE,2BHD3D,ACHA;ADIX,AGCJ,AFJI,SEIC,EAAK,EAAE,GHDJ,ACHA,CDGC,AGCO,AFJP,EEIS,CAAC,EAAY,CHDhB,GAAG,AGCiB,AFJjB,EHOb,AKHgC,CFJhB,EHOb,AGPe,CDGC,ACHD,CHOb,AEJc,SGCc,CAAC,EAAE,CAAC;AHAtC,SCHH,ODGO,CAAC,CJFQ,COE8B,CAAC,GAAG,CAAC,GHAjC,GAAG,EAAE,CAAA,GJFW,UCC1B,KAAK;ACMV,ADNK,AGEL,SGDgD,EAAsB,KLKlE,AEJA,CAAC,GFIG,CAAC,ADNC,KCMI,CEJC,CFIC,EEJE,EAAE,CFIC,AEJD,KDDT,CDKgB,EACvB,MAAM,IAAI,KAAK,CAAC,oCAAoC,CAAC,CAAA;AEJzD,AGDJ,AJAI,YIAI,EAAE,EHCF,AGDI,AJAJ,CCCC,ADDA,GIAO,EAAE,EHCF,AGDI,EAAW,CHCZ,EAAE,CAAA,AGDc,AJAb,EIAe,CJAZ,EAAE,CAAA,UIAW,CAAC,EAAE,CAAC;AHEtC,SDDH,OCCO,CAAC,EGFsC,CAAC,GAAG,CAAC,IHEhC,CAAC,CACb,EAAE,KAAK,EAAE,MAAM,EAAQ,KAAK,EAAE,IAAI,EAAS,KAAK,EAAE,IAAI,EAAE,EACxD,EAAE,KAAK,EAAE,QAAQ,EAAM,KAAK,EAAE,MAAM,EAAO,KAAK,EAAE,UAAU,EAAE,EAC9D,EAAE,KAAK,EAAE,SAAS,EAAK,KAAK,EAAE,OAAO,EAAM,KAAK,EAAE,SAAS,EAAE,EAC7D,EAAE,KAAK,EAAE,YAAY,EAAE,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE,OAAO,EAAE,EAC3D,EAAE,KAAK,EAAE,UAAU,EAAI,KAAK,EAAE,SAAS,EAAI,KAAK,EAAE,SAAS,EAAE,EAC7D,EAAE,KAAK,EAAE,SAAS,EAAK,KAAK,EAAE,OAAO,EAAM,KAAK,EAAE,MAAM,EAAE,CAC7D,CAAC,CAAA;AFJuD,AAGzD,ADTA,AGWA,SGVgD,EAAsB,KLQlE,AEEA,CAAC,EFFE,ADTA,IGWI,CAAC,CACR,IEZF,EJSK,AEGG,CFHH,CEGK,MAAM,EHZC,AGYC,UHZA,AGYU,EAAE,KHZL,EAAE,EGYY,EAAE,EHZR,EAAK,GGYU,EAAE,SAAS,CAC5D,CAAC,CAAA;AFHF,ADTI,AMCR,ADDI,SFaH,CGZK,EAAI,EAAE,ELQJ,EKRQ,CDDL,CLAC,AMCM,EAAE,CLQL,ADTA,AKAA,CCCgB,ADDf,EJSE,ADTA,EMCiB,EAAE,CLQd,AITA,CAAC,KAAK,CAAC,GJSG,CITC,CJSC,CDTT,AMCY,ADDF,CCCG,EAAE,CAAC,EAAK,CNDd,EAAE,AKAU,CLAV,AKAW,CAAA;ALCtC,AMAyC,SDAhD,ICAiD,CAAC,IAAI,CAAC,CAAC,CNA5C,AMA6C,CNA5C,AMA6C,AAAC,ONAvC,AMA8C,AFF7D,CJEgB,AMA8C,CAAA,SNA7C,IAAI,EAAK;ACUxB,ADTI,AIFR,SECkE,EAAI,QLU/D,AGXA,GHWG,CGXC,CJEC,AIFA,EHWE,GAAG,EAAE,CAAA,AGXC,CAAC,IJEI,CIFC,CAAC,CJEC,GIFG,CJEC,CAAC,AIFA,KJEK,CAAC,GIFG,CAAC,CAAA,CJEE,CAAC,KAAK,IAAI,GAAG,eAAK,IAAI,CAAC,IAAI,CAAC,GAAG,CAAE,IAAI,CAAE,CAAA;ACUhF,ADTI,AMDZ,SFDC,GECO,EAAE,EAAE,ILUA,AKVI,CLUH,CKVK,ENCF,AMDI,CLUH,CAAC,AKVa,IAAI,EAAE,CLUZ,CAAC,GAAG,ADTA,CCSC,ADTA,GCSG,CAAC,EACtB,ADVwB,EMDE,CAAC,CLWvB,CAAC,ADVwB,AMDA,CNCC,AMDA,ENE1B,ICSQ,CAAC,CDTH,ECSM,CAAC,CDTH,ECSM,EAAE,CDTH,CCSK,ADTJ,CCSK,CAAA,cDTW,CAAC,CAAA;ACUzC,ADTI,mBMHmC,CLYnC,AKZoC,CLYnC,AKZoC,MAAM,CLYnC,AKZoC,CLYnC,AKZoC,AJEnD,CIFoD,ELYlC,CAAC,ADTA,CAAC,ECSE,CAAC,CAAC,GDTG,CCSC,ADTA,CCSC,GAAG,CAAC,CAAA,IDTJ,YAAY,EAAK;AACpC,AEDZ,SIHsD,EAAgB,ELarE,MACI,ACXE,IDWE,ACXE,CAAC,MFCK,CCUD,ECXK,CDWF,ACXG,GFCE,CAAC,CEDE,CAAC,IAAI,EAAE,SAAS,CFCA,AEDC,CAAA,CFCC,YAAY,CAAC,CAAA,GCU1C,GAAG,OAAK,QAAQ,EAC5B,GAAG,GAAG,GAAG,CAAA,KAET,MAAM,IAAI,KAAK,CAAC,oDAAoD,CAAC,CAAA;ADZ7D,AMJhB,SAAK,AJGJ,EIHS,EAAE,IAAI,EAAE,EAAE,EAAW,IAAI,CNIf,CMJiB,ENId,GAAG,EGSb,KHToB,CAAC,CMJI,CAAC,EAAE,CAAC,CHalB,CGbuB,CHarB,IHToB,CAAC,CAAA;AAC/B,AMLiC,aAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,AAAC,INK1C,GMLiD,CAAC,CAAA,ADC5D,ELIiB,EKJb,CLIgB,CKJd,EAAE,ELIiB,AKJf,GAAG,EAAE,KLIoB,EACzB,MAAM,IAAI,KAAK,CAAC,kCAAkC,CAAC,CAAA;ACUM,AAGzE,ADZY,SMPwD,EAAE,KLmBlE,QAAO,GAAG,ADZC,CCYA,EDZG,GAAG,CCYA,ADZC,IAAI,CAAC,CCYD,QAAQ,EAC9B,MAAM,IAAI,KAAK,CAAC,gDAAgD,CAAC,CAAA;AACrE,AEPA,AGbJ,ADEI,YCFI,EAAE,ELoBF,AEPA,AGbI,ADEJ,CFWC,GGbO,EAAE,CLoBH,EIlBE,CJkBC,AKpBI,ADEJ,CJkBC,AEPA,EGbM,CHaH,CGbK,CDEH,CJkBC,AKpBM,AFArB,CHoBgB,CDdW,AKJV,CAAC,ADFf,CEAsB,CLoBL,ADdU,AKHhC,ADHO,CEAsB,GHaJ,CFOE,AEPF,ACbb,CCGN,CLGgC,AINxB,GCGJ,GJiByB,EACnC,AKrB8B,ADGf,CCHgB,ADGf,ECHiB,CAAC,ELqB5B,IAAI,KAAK,CAAC,cIlB6B,CAAC,CAAA,qCJkBuB,CAAC,CAAA;AAC1E,AERA,ACbA,gBHqBI,AERA,ACbA,CDaC,EGdsC,CLsBnC,AERA,AGdoC,CLsBnC,AERA,AGdoC,CHcpC,EGduC,CNMN,AMNO,AFCpC,CJK8B,AMNO,AFCpC,CJK6B,AMNQ,ELsBlC,CAAC,EGrBE,CHqBC,CAAC,CGrBC,CAAC,CHqBC,CAAC,AGpBtB,MHoB4B,AGpBtB,CHoBuB,GGpBnB,CHoBuB,CAAC,EAClC,CGrBe,CAAC,IHqBV,IAAI,KAAK,qBAAmB,GAAG,CAAC,CGrBiB,CAAC,CAAA,GHqBZ,CAAC,IAAI,oBAAiB,CAAA;AERtE,ACZA,SEHmD,EAAmB,KFGlE,KJIK,CAAC,CAAA,CGQC,CAAC,ACZC,CAAC,MDYK,ACZC,CDYA,ICZK,CAAC,EACtB,GDWiB,CCXb,CAAC,GDWiB,EAAK,ICXb,CAAC,GAAG,CAAC,GAAG,KAAK,CAAA;ADY3B,AGfR,ADEsD,AAGlD,ADDA,YEJI,EAAE,EAAE,ADKJ,CLEC,CAAC,CAAA,AIHC,CEJK,ADKJ,CAAC,CFUA,AGfK,CFIH,CEJK,AFIJ,EEJe,IAAI,EHeZ,AGfc,CHeb,ACXC,CFAd,AGCe,ADDA,CCCC,EDDE,CDWA,ADXd,AEAe,CDWA,AEVC,ADDD,CFAb,AGCe,EHDb,ECWgB,ADXd,CCWe,AEVC,CCLC,CAAC,AJIf,CCWe,CAAC,AGfC,AJIf,CIJgB,CHeA,CAAA,EEVI,EACtC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,EAAE,CAAA;AJgBqC,AAGtE,ADjBI,AKDJ,SDFH,IDWI,CAAC,CAAA,CFSE,AIlBA,CJkBC,AIlBA,ELCE,AMRoC,CLyBnC,ADjBA,CCiBC,GAAG,ADjBA,CCiBC,ADjBA,AMRoC,CAAC,ELyBlC,CAAC,CAAA,AIlBC,CAAC,CCPqC,CAAC,CAAC,CDOnC,CCPqC,ADOpC,CCPqC,ADOpC,CCPqC,GDOjC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAA;AJmBnD,AETA,ADXA,AGEA,SCR8D,EAAQ,KL0BlE,ACpBA,CDoBC,EETE,AETA,IFSI,AETA,CFSA,AETA,CJkBE,ACpBA,CDoBC,ACpBA,CFEK,ECkBF,CAAC,ECpBE,CDoBC,CAAC,ADlBI,CEFH,CFEK,AEFJ,EACpB,EDmBwB,CAAC,GCnBnB,CDmBuB,EAAE,CCnBrB,EDmBwB,CAAC,ECnBpB,CAAC,8BAA8B,CAAC,CAAA;SCWtD,AETA,QLD+B,EAAE,UAAC,GAAG;AMRoC,CAE7E,UFfoB,gBJqB0B,GIrBP,GJqBa,CAAC,GAAG,CAAC;ACkBX,AAGvC,ACtBmD,AAGnD,gBDmBI,ACnBA,CFF8C,CAAC,AEE7C,CFF6C,EEE1C,EDmBE,CCnBC,EDmBE,ACnBA,CDmBC,ACnBD,MDmBO,KAAK,UAAU,EAChC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA,KACf,IAAI,GAAG,CAAC,MAAM,KAAK,IAAI,EACxB,GAAG,CAAC,MAAM,GAAG,IAAI,CAAA;ACrBrB,aFFC,CAAC,CAAA,CEEE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,SAAS,EACtC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,EAAE,CAAA;AIVxC,AAGD,AJQQ,IIRJ,GAAG,ENKF,CMLK,CAAC,KJQC,CAAC,CE1BQ,YF0BK,CAAC,IAAI,CAAC,CAAC,AE1BO,IF0BH,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAA;ADmBtC,AAGrB,ACrBA,IJhBF,WAAW,CGqCL,CAAC,ECrBE,EAAE,CAAA,EDqBG,CAAC,iBAAiB,EAAE,GAAG,CAAC,CAAA;SCpBvC,KJjBC,WAAW,MKuBL,IETI,GFSE,CETE,CFSA,CETE;AJyBd,AEfA,AGjBG,gBHiBC,CAAC,EFeE,IAAI,CAAA,AEfC,GAAG,OAAM,CAAA;AACrB,AETA,ICNa,KL8BhB,OIxBO,GFSG,AGfqB,IHejB,CAAA,CETE,CAAC,MAAM,KAAK,CAAC,EACtB,MAAM,IAAI,KAAK,CAAC,yCAAyC,CAAC,CAAA;SFSjE,IGhBgB,eAAe;ARNhC,aAJE,WAAW,GAIE,GQME,eAAe;ADOkC,AAG9D,gBAAI,IAAI,CAAC,SPpBX,CEgBc,GKIU,CAAC,IAAI,CAAC,CPpBnB,IOoBwB,SAAS,EACtC,MAAM,IAAI,KAAK,CAAC,kCAAkC,CAAC,CAAA;oCHD9C,IAAI,EAAE,EAAE,EAAE;iBIVN,eAAe,sCRV9B,WAAW;AIsBT,AGDuD,AAGvD,KPlBH,WIgBO,AGEA,CAAC,QHFQ,CAAC,EDqBb,EInBiB,CJmBd,AInBe,CHFC,CDqBd,EInBiB,CAAC,CHFC,AGEA,CHFC,EACtB,AGCwB,EAAE,CAAA,GHDpB,CFPL,GEOS,EFPJ,GEOS,CAAC,0CAA0C,CAAC,CAAA;AFP1D,AKSL,gBAAI,IAAI,CLTE,AKSD,SFIN,IEJmB,CAAC,GFIZ,CEJgB,CFId,AEJe,CAAC,MAAM,KAAK,CAAC,EACrC,OAAO,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAA;AACnC,WP3BF,QO2BS,GP3BE,CO2BE,CAAA;AHJoD,AAG/D,GJzBJ,MO2BC,OHFO,CAAC,GAAG,CAAC,CAAC,CAAA,eIdC,gORV4B;AG2CvC,AD5BA,AMJA,AJcA,gBDkBI,AKhCA,CNIC,AMJA,AJcA,CFVC,EC4BE,CAAC,AClBA,CAAC,CIdC,ENIE,AEUA,CDkBC,AD5BA,AMJA,AJcA,EDkBE,AKhCA,AJcA,CIdA,AJcC,GAAG,CDkBC,GD5BN,AEUS,CAAC,EDkBE,CD5BR,CC6Bf,CD7BoB,KC6Bd,GCnB4B,CDmBxB,ACnByB,IAAI,CDmBxB,ACnByB,CDmBxB,ACnByB,MAAM,EAAE,CAAC,EAAE,EAAE,uBDmBF,CAAC,CAAA;AD5BrD,AGaJ,ADHI,SIdP,OHiBO,IHbI,AEUA,ICGI,ADHA,CAAC,ECGE,IAAI,CAAC,CHbC,GAAG,EGaE,ADHA,CCGA,ADHC,CFVC,CAAC,EEUE,CAAC,CAAC,CFVC,AEUA,CFVC,AEUA,CAAC,EAAE,GFVG,CAAC,CEUC,EAAE,EFVE,AEUA,IFVI,GAAG,eAAK,IAAI,CAAC,IAAI,CAAC,GAAG,CAAE,IAAI,CAAE,CAAA;AAC5E,AGaJ,ADHQ,gBCGJ,KDHK,ECGE,CDHC,CAAC,CAAA,GFVI,CAAC,CGaC,KAAK,CHbC,CAAC,MGaM,EAC5B,EHduB,KGchB,OHd4B,CGcpB,CHdyB,AGczB;AFasC,AAGzD,AD7BQ,AEUA,gBDmBJ,GAAG,OCnBM,CFVA,IC6BN,CAAA,ED7Ba,CAAC,kBAAkB,EAAE,YAAY,CAAC,CAAA;AC8BtD,AD7BQ,AFVhB,MAAM,CAAC,OAAO,EGuCF,CCnBC,AJpBI,MGuCE,CD7BC,EC6BE,CD7BC,CFVK,CAAA,CEUF,CC6BC,MD7BM,CAAC,GC6BG,EAAE,OD7BO,CAAC,CAAA;AAC/B,AGWW,AAGnB,aDJC,GCIG,QAAQ,GHdC,EGcI,CHdD,CAAC,CKSZ,GLTgB,CKSZ,CFKgB,CHdD,AKSF,CFMlB,CHfsB,CAAC,CAAA,IGehB,kBAAQ,OAAO,CAAC,QAAQ,CAAC,CAAA;AFehC,ACnBJ,gBAAI,CFVC,AEUA,CFVC,CAAA,CC6BE,CAAC,CCnBC,CAAC,CAAC,EACR,EDkBY,CAAC,GAAG,AClBV,CDkBW,GAAG,AClBV,CDkBW,CAAC,GClBP,CAAC,GDkBa,CAAC,AIrBpB,MAAM,IJqBe,MAAM,EAAK,aClBS,CAAC,CAAA;ADmBhD,AItBM,aLPb,CAAC,CAAA,OKOkB,IJsBP,GAAG,AKpCd,CLoCe,MAAM,CAAC,CAAA;AD5BxB,AGYoC,AAGpC,AGtBA,gBHsBI,CFcC,CAAC,CAAA,AD7BC,AMPA,CHsBC,CAAC,EHfE,AMPA,CNOA,AMPC,KAAK,CAAC,CHsBC,CAAC,GGtBG,CAAC,IHsBI,AGtBA,CHsBC,CGtBC,IHsBI,KGtBK,CAAC,CAAA,EHsBG,EACvC,MAAM,IAAI,KAAK,gCAA8B,QAAQ,CAAG,CAAA;AFcxD,ACrBoD,AAGxD,SFXH,AMPA,OJkBO,CAAC,GDkBG,CAAC,OAAO,CAAC,CClBC,CAAC,IDkBI,AClBA,CDkBC,AClBA,CAAC,EDkBE,CAAC,CAAA,EClBG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;ADmBjC,SClBP,cDkBc,IAAI,CAAA;AEf6C,AAG5D,AEXA,aJwBC,GEbG,AEXA,GJyBC,CEdG,CAAC,EFcA,EIzBI,CAAC,GFWG,CFcD,EIzBI,CJyBD,CEdG,CEXC,CAAC,EJyBA,AEdE,AEVtB,EFUwB,IEVlB,EJwBsB,EAC5B,AIzBU,GJyBP,EIzBY,CJyBT,AIzBU,IJyBN,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAA,KACvB,GI1B0C,CJ0BtC,AI1BuC,CAAA,OJ0BhC,GAAG,yCAAH,GAAG,OAAK,QAAQ,EAC5B,GAAG,GAAG,GAAG,CAAA,KAET,MAAM,IAAI,KAAK,CAAC,6DAA6D,CAAC,CAAA;WDvErE,iBAAiB;AGqD1B,wBAAI,GAAG,GAAG,mBAAS,CAAA;AFkB2D,AAGlF,AEpBI,AEZ4C,AAGhD,gBJ6BI,AI7BA,CJ6BC,GI7BG,CJ6BC,AI7BA,CJ6BC,CEpBH,CAAC,CFoBK,CAAC,GAAG,CAAC,AEpBJ,CAAC,EFoBM,CAAC,AI7BA,CAAC,CJ8BnB,EErBgB,CETO,CAAC,EJ8BlB,GErBiB,AETM,CJ8BnB,AErBc,CAAA,IFqBT,CAAC,EI9BsB,EACtC,MAAM,IAAI,IJ6BwB,CAAC,AI7BpB,CJ6BoB,0CI7BqB,IAAI,CAAG,CAAA;AFS/D,kBHvDS,SGuDJ,GAAG,AGzBT,CHyBU,GGzBN,CN9BuB,CM8BrB,EHyBW,AGzBT,CHyBU,CGzBR,GAAG,EAAE,IHyBI,GAAG,EAAK;AACtB,2BAAG,CAAC,IDPP,GCOc,CAAC,ADPX,EAAa,CCOC,CAAC,MAAM,CAAC,CAAA;AFmBQ,AAGvC,AK9CA,ADcmE,AAGnE,gBJ6BI,AK9CA,ADiBA,CJ6BC,AI7BA,GAAG,CFQH,CAAC,CAAA,CFqBM,AI7BA,CJ6BC,AK9CA,ADiBA,CCjBC,MAAM,GAAG,CAAC,EACpB,ADgBsB,CAAC,GJ6BG,CI7BC,CJ6BC,AK7CtB,ADgBsB,CAAC,CHAnB,AGAoB,CJ6BC,AI7BA,CJ6BC,AK7CtB,ADgBqB,IHAf,CIhBD,CAAC,0BAA0B,CAAC,CAAA;AHyB3C,ADTU,AGCd,mBAAO,CAAC,CAAC,CHDW,C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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/*\n**  Microkernel -- Microkernel for Server Applications\n**  Copyright (c) 2015 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nimport aggregation from \"aggregation/es6\"\n\nimport Version     from \"./microkernel-1-version\"\nimport Manifest    from \"./microkernel-2-manifest\"\nimport Loader      from \"./microkernel-3-loader\"\nimport State       from \"./microkernel-4-state\"\nimport Hook        from \"./microkernel-5-hook\"\nimport Event       from \"./microkernel-6-event\"\nimport Service     from \"./microkernel-7-service\"\nimport Resource    from \"./microkernel-8-resource\"\n\n/*  the API class  */\nclass Microkernel extends\n    aggregation(Version, Manifest, Loader, State,\n                Hook, Event, Service, Resource) {\n    /*  initialize the microkernel instance  */\n    constructor () {\n        super()\n    }\n}\n\n/*  export the traditional way for interoperability reasons\n    (as Babel would export an object with a 'default' field)  */\nmodule.exports = Microkernel\n\n","/*\n**  Microkernel -- Microkernel for Server Applications\n**  Copyright (c) 2015 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n/* global 0: false */\n/* global 9: false */\n/* global 20: false */\n/* global 20151128:  false */\n\n/*  the mixin class  */\nexport default class MicrokernelVersion {\n    version () {\n        return {\n            major: 0,\n            minor: 9,\n            micro: 20,\n            date:  20151128\n        }\n    }\n}\n\n","/*\n**  Microkernel -- Microkernel for Server Applications\n**  Copyright (c) 2015 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nimport Promise from \"core-js/library/es6/promise\"\nimport glob from \"glob\"\n\n/*  the mixin class  */\nexport default class MicrokernelLoader {\n    /*  load source files as a procedure\n        (and hence execute them with the microkernel as context)  */\n    exec (...files) {\n        return new Promise((resolve, reject) => {\n            let seq = Promise.resolve()\n            files.forEach((file) => {\n                let filesExpanded = file.match(/[*?]/) !== null ? glob.sync(file) : [ file ]\n                if (filesExpanded.length === 0)\n                    throw new Error(\"no files found\")\n                filesExpanded.forEach((fileExpanded) => {\n                    this.publish(\"microkernel:exec\", fileExpanded)\n                    let mod = require(fileExpanded)\n                    if (typeof mod !== \"function\")\n                        throw new Error(\"file has not exported a function\")\n                    seq = seq.then(() => mod(this))\n                })\n            })\n            seq.then(() => resolve(), (err) => reject(err))\n        })\n    }\n\n    /*  load source files as module definition\n        (and hence instanciate and add them to microkernel)  */\n    load (...files) {\n        files.forEach((file) => {\n            let filesExpanded = file.match(/[*?]/) !== null ? glob.sync(file) : [ file ]\n            filesExpanded.forEach((fileExpanded) => {\n                this.publish(\"microkernel:load\", fileExpanded)\n                let mod = require(fileExpanded)\n                this.add(new mod())\n            })\n        })\n        return this\n    }\n}\n\n","/*\n**  Microkernel -- Microkernel for Server Applications\n**  Copyright (c) 2015 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n/*  the mixin class  */\nexport default class MicrokernelManifest {\n    /*  initialize the mixin  */\n    initializer () {\n        this.cls2mod  = new Map()\n        this.name2mod = new Map()\n        this.mod      = new Set()\n        this.modOrder = null\n    }\n\n    /*  add module to microkernel  */\n    add (arg) {\n        /*  sanity check situation  */\n        if (this.state() !== \"dead\")\n            throw new Error(\"microkernel is not in lowest state\")\n\n        /*  handle various variants of arguments  */\n        let mod\n        if (typeof arg === \"function\") {\n            /*  on-the-fly instanciate class  */\n            mod = new arg()\n            if (!this.cls2mod.has(arg))\n                this.cls2mod.set(arg, [])\n            this.cls2mod.get(arg).push(mod)\n        }\n        else if (typeof arg === \"object\")\n            mod = arg\n        else\n            throw new Error(\"invalid module (neither function/class nor object)\")\n\n        /*  sanity check module  */\n        if (typeof mod.module !== \"object\")\n            throw new Error(\"invalid module (no \\\"module\\\" object property)\")\n        if (typeof mod.module.name !== \"string\")\n            throw new Error(\"invalid module (no \\\"module.name\\\" string property)\")\n        if (this.name2mod.has(mod.module.name))\n            throw new Error(`module of name ${mod.module.name} already added`)\n\n        /*  take module into our management  */\n        this.mod.add(mod)\n        this.name2mod.set(mod.module.name, mod)\n\n        /*  optionally give module a link back to us  */\n        if (typeof mod.kernel === \"function\")\n            mod.kernel(this)\n        else if (mod.kernel === null)\n            mod.kernel = this\n\n        /*  publish an internal event (for use by an application)  */\n        this.publish(\"microkernel:add\", mod)\n\n        return this\n    }\n\n    /*  delete module from microkernel  */\n    del (arg) {\n        /*  sanity check situation  */\n        if (this.state() !== \"dead\")\n            throw new Error(\"microkernel is not in lowest state\")\n\n        /*  handle various variants of arguments  */\n        let mod\n        if (typeof arg === \"function\") {\n            /*  delete all instances of a class  */\n            this.cls2mod.get(arg).forEach((module) => {\n                this.del(module)\n            })\n            this.cls2mod.delete(arg)\n            return this\n        }\n        else if (typeof arg === \"string\")\n            mod = this.name2mod(arg)\n        else if (typeof arg === \"object\")\n            mod = arg\n        else\n            throw new Error(\"invalid module (neither function/class nor object nor name)\")\n\n        /*  sanity check module  */\n        if (!this.mod.has(mod))\n            throw new Error(\"module not found\")\n\n        /*  publish an internal event (for use by an application)  */\n        this.publish(\"microkernel:del\", mod)\n\n        /*  optionally remove link back to us  */\n        if (typeof mod.kernel === \"function\")\n            mod.kernel(null)\n        else if (typeof mod.kernel === \"object\")\n            mod.kernel = null\n\n        /*  remove module from our management  */\n        this.name2mod.delete(mod.module.name)\n        this.mod.delete(mod)\n\n        return this\n    }\n\n    /*  lookup module from microkernel  */\n    get (name) {\n        if (!this.name2mod.has(name))\n            throw new Error(\"module not found\")\n        return this.name2mod.get(name)\n    }\n}\n\n","/*\n**  Microkernel -- Microkernel for Server Applications\n**  Copyright (c) 2015 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nimport Promise from \"core-js/library/es6/promise\"\n\n/*  internal registration counter  */\nvar cnt = 0\n\n/*  the mixin class  */\nexport default class MicrokernelEvent {\n    /*  initialize the mixin  */\n    initializer () {\n        this._subscription = {}\n    }\n\n    /*  convenience method  */\n    on () {\n        return this.subscribe.apply(this, arguments)\n    }\n\n    /*  subscribe for event  */\n    subscribe (name, cb, ctx) {\n        /*  sanity check arguments  */\n        if (arguments.length < 2)\n            throw new Error(\"subscribe: missing arguments\")\n\n        /*  store subscription  */\n        let id = cnt++\n        if (this._subscription[name] === undefined)\n            this._subscription[name] = []\n        this._subscription[name].push({ id: id, cb: cb, ctx: ctx })\n        return id\n    }\n\n    /*  unsubscribe from event  */\n    unsubscribe (name, id) {\n        /*  sanity check arguments  */\n        if (arguments.length !== 2)\n            throw new Error(\"unsubscribe: invalid number of arguments\")\n\n        /*  search for subscription  */\n        let k = -1\n        for (let i = 0; i < this._subscription[name].length; i++) {\n            if (this._subscription[name][i].id === id) {\n                k = i\n                break\n            }\n        }\n        if (k === -1)\n            throw new Error(\"unsubscribe: no such subscription\")\n\n        /*  remove subscription  */\n        this._subscription[name].splice(k, 1)\n    }\n\n    /*  publish event  */\n    publish (name, ...params) {\n        /*  sanity check arguments  */\n        if (arguments.length < 1)\n            throw new Error(\"publish: missing argument\")\n\n        /*  special case: no subscriber at all  */\n        if (this._subscription[name] === undefined)\n            return Promise.resolve()\n\n        /*  return outer promise  */\n        let promises = []\n        this._subscription[name].forEach((s) => {\n            promises.push(new Promise((resolve /*, reject */) => {\n                /* global setTimeout: true */\n                setTimeout(() => {\n                    resolve(s.cb.apply(s.ctx, params))\n                }, 0)\n            }))\n        })\n        return Promise.all(promises)\n    }\n}\n\n","/*\n**  Microkernel -- Microkernel for Server Applications\n**  Copyright (c) 2015 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nimport Promise from \"core-js/library/es6/promise\"\nimport GDO from \"gdo\"\n\n/*  the mixin class  */\nexport default class MicrokernelState {\n    /*  initialize the microkernel instance  */\n    initializer () {\n        this._state = \"dead\"\n        this._num2state = []\n        this._state2num = {}\n        this._groups = []\n        this.transitions([\n            { state: \"dead\",       enter: null,        leave: null },\n            { state: \"booted\",     enter: \"boot\",      leave: \"shutdown\" },\n            { state: \"latched\",    enter: \"latch\",     leave: \"unlatch\" },\n            { state: \"configured\", enter: \"configure\", leave: \"reset\" },\n            { state: \"prepared\",   enter: \"prepare\",   leave: \"release\" },\n            { state: \"started\",    enter: \"start\",     leave: \"stop\" }\n        ])\n        this.groups([\n            \"BOOT\", \"BASE\", \"RESOURCE\", \"SERVICE\", \"IDENT\", \"USECASE\"\n        ])\n    }\n\n    /*  (re)configure state transitions  */\n    transitions (transitions) {\n        this._num2state = transitions\n        let i = 0\n        transitions.forEach((state) => {\n            this._state2num[state.state] = i++\n        })\n        return this\n    }\n\n    /*  (re)configure module groups  */\n    groups (groups) {\n        this._groups = groups\n        return this\n    }\n\n    /*  retrieve current state or request transition to new state  */\n    state (stateNew) {\n        /*  special case: retrieve state only  */\n        let stateOld = this._state\n        if (typeof stateNew !== \"string\")\n            return stateOld\n\n        /*  special case: transit to same state  */\n        if (stateNew === stateOld)\n            return Promise.resolve(stateNew)\n\n        /*  sanity check new state  */\n        if (this._state2num[stateNew] === undefined)\n            throw new Error(`state: invalid new state: ${stateNew}`)\n\n        /*  perform deferred topological sorting of modules  */\n        if (this.modOrder === null) {\n            let gdo = new GDO()\n            gdo.groups(this._groups)\n            this.mod.forEach((mod) => {\n                gdo.element(mod.module)\n            })\n            this._modOrder = gdo.order()\n            this.publish(\"microkernel:state:toposort\", this._modOrder, this.mod)\n        }\n\n        /*  create outer promise chain  */\n        let promise = new Promise((resolve, reject) => {\n            /*  determine indexes of states  */\n            let stateOldIdx = this._state2num[stateOld]\n            let stateNewIdx = this._state2num[stateNew]\n\n            /*  create inner promise chain  */\n            let seq = Promise.resolve()\n\n            /*  publish internal event (for use by an application)  */\n            let publishEvent = (when, from, to, method) => {\n                seq = seq.then(() => {\n                    this.publish(\n                        `microkernel:state:transit:${when}`,\n                        this._num2state[from].state,\n                        this._num2state[to].state,\n                        method\n                    )\n                })\n            }\n\n            /*  helper function for transitioning  */\n            let transit = (stateFrom, stateTo, methodType, reverse, step) => {\n                /*  determine modulesdto call (in expected order)  */\n                let names = this._modOrder\n                if (reverse)\n                   names = names.reverse()\n\n                /*  loop until state is reached  */\n                while (stateFrom !== stateTo) {\n                    /*  determine method to call  */\n                    let methodName = this._num2state[\n                        methodType === \"enter\" ? stateFrom + 1 : stateFrom\n                    ][methodType]\n                    publishEvent(\"before\", stateFrom, stateFrom + step, methodName)\n\n                    /*  call method on all modules  */\n                    names.forEach((name) => {\n                        let mod = this.name2mod.get(name)\n                        if (typeof mod[methodName] === \"function\")\n                            seq = seq.then(() => mod[methodName].call(mod, this))\n                    })\n\n                    /*  go to new state  */\n                    stateFrom += step\n                    this._state = this._num2state[stateFrom].state\n                    publishEvent(\"after\", stateFrom - step, stateFrom, methodName)\n                }\n            }\n\n            /*  determine whether we perform upgrade or downgrade transition  */\n            if (stateOldIdx < stateNewIdx)\n                transit(stateOldIdx, stateNewIdx, \"enter\", false,  1) /*  upgrade    */\n            else if (stateOldIdx > stateNewIdx)\n                transit(stateOldIdx, stateNewIdx, \"leave\", true,  -1) /*  downgrade  */\n\n            /*  finally let inner promise chain either resolve or reject outer promise chain  */\n            seq.then(() => {\n                resolve(stateNew)\n            }, (err) => {\n                reject(err)\n            })\n        })\n\n        /*  reset module order in case we reached the dead state (again)  */\n        promise = promise.then((state) => {\n            if (state === \"dead\")\n                this._modOrder = null\n            return state\n        })\n\n        return promise\n    }\n}\n\n","/*\n**  Microkernel -- Microkernel for Server Applications\n**  Copyright (c) 2015 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n/*  the mixin class  */\nexport default class MicrokernelResource {\n    /*  initialize the mixin  */\n    initializer () {\n        this._resource = {}\n    }\n\n    /*  convenience method  */\n    rs () {\n        return this.resource.apply(this, arguments)\n    }\n\n    /*  get/set resource  */\n    resource (key, value) {\n        if (arguments.length > 2)\n            throw new Error(\"resource: invalid number of arguments\")\n        if (arguments.length === 2)\n            this._resource[key] = value\n        return this._resource[key]\n    }\n}\n\n","/*\n**  Microkernel -- Microkernel for Server Applications\n**  Copyright (c) 2015 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n/*  the mixin class  */\nexport default class MicrokernelService {\n    /*  initialize the mixin  */\n    initializer () {\n        this._registration = {}\n    }\n\n    /*  convenience method  */\n    sv () {\n        return this.service.apply(this, arguments)\n    }\n\n    /*  register service  */\n    register (name, cb, ctx) {\n        /*  sanity check arguments  */\n        if (arguments.length < 2)\n            throw new Error(\"register: missing arguments\")\n\n        /*  store registration  */\n        if (this._registration[name] === undefined)\n            this._registration[name] = []\n        this._registration[name].push({ cb: cb, ctx: ctx })\n        return this\n    }\n\n    /*  unregister service  */\n    unregister (name) {\n        /*  sanity check arguments  */\n        if (arguments.length !== 1)\n            throw new Error(\"unregister: invalid number of arguments\")\n\n        /*  sanity check situation  */\n        if (this._registration[name] === undefined)\n            throw new Error(\"unregister: no such registration\")\n\n        /*  remove registration  */\n        this._registration[name].pop()\n        if (this._registration[name].length === 0)\n            delete this._registration[name]\n        return this\n    }\n\n    /*  call service  */\n    service (name, ...params) {\n        /*  sanity check arguments  */\n        if (arguments.length < 1)\n            throw new Error(\"service: missing argument\")\n\n        /*  sanity check situation  */\n        if (this._registration[name] === undefined)\n            throw new Error(`service: no such service registered: ${name}`)\n\n        /*  call registered function  */\n        let r = this._registration[name][0]\n        return r.cb.apply(r.ctx, params)\n    }\n}\n\n","/*\n**  Microkernel -- Microkernel for Server Applications\n**  Copyright (c) 2015 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n/*  internal hook processing  */\nvar hookProc = {\n    /* jscs: disable */\n    \"none\":   { init: undefined,   step: (    ) => {}                        },\n    \"pass\":   { init: (a) => a[0], step: (o, n) => n                         },\n    \"or\":     { init: false,       step: (o, n) => o || n                    },\n    \"and\":    { init: true,        step: (o, n) => o && n                    },\n    \"mult\":   { init: 1,           step: (o, n) => o * n                     },\n    \"add\":    { init: 0,           step: (o, n) => o + n                     },\n    \"append\": { init: \"\",          step: (o, n) => o + n                     },\n    \"push\":   { init: [],          step: (o, n) => { o.push(n); return o }   },\n    \"concat\": { init: [],          step: (o, n) => o.concat(n)               },\n    \"set\":    { init: {},          step: (o, n) => { o[n] = true; return o } },\n    \"insert\": { init: new Set(),   step: (o, n) => o.add(n)                  },\n    \"assign\": { init: {},          step: (o, n) => Object.assign(o, n)       }\n    /* jscs: enable */\n}\n\n/*  internal registration counter  */\nvar cnt = 0\n\n/*  the mixin class  */\nexport default class MicrokernelHook {\n    /*  initialize the mixin  */\n    initializer () {\n        this._hooks = {}\n    }\n\n    /*  convenience method  */\n    at () {\n        return this.latch.apply(this, arguments)\n    }\n\n    /*  latch into hook  */\n    latch (name, cb, ctx) {\n        /*  sanity check arguments  */\n        if (arguments.length < 2)\n            throw new Error(\"latch: missing arguments\")\n\n        /*  on-the-fly create hook callback registry  */\n        if (typeof this._hooks[name] === \"undefined\")\n            this._hooks[name] = []\n\n        /*  store callback in hook callback registry  */\n        let id = cnt++\n        this._hooks[name].push({ id: id, cb: cb, ctx: ctx })\n        return id\n    }\n\n    /*  unlatch from hook  */\n    unlatch (name, id) {\n        /*  sanity check arguments  */\n        if (arguments.length !== 2)\n            throw new Error(\"unlatch: invalid number of arguments\")\n        if (typeof this._hooks[name] === \"undefined\")\n            throw new Error(`unlatch: no such hook: ${name}`)\n\n        /*  search for callback in hook callback registry  */\n        let k = -1\n        for (let i = 0; i < this._hooks[name].length; i++) {\n            if (this._hooks[name][i].id === id) {\n                k = i\n                break\n            }\n        }\n        if (k === -1)\n            throw new Error(\"unlatch: no such latched callback\")\n\n        /*  remove callback from hook callback registry  */\n        this._hooks[name].splice(k, 1)\n\n        return this\n    }\n\n    /*  provide hook  */\n    hook (name, proc, ...params) {\n        /*  sanity check arguments  */\n        if (arguments.length < 2)\n            throw new Error(\"hook: missing argument\")\n        if (typeof hookProc[proc] === \"undefined\")\n            throw new Error(\"hook: no such result processing defined\")\n\n        /*  start result with the initial value  */\n        let result = hookProc[proc].init\n        if (typeof result === \"function\")\n            result = result.call(null, params)\n\n        /*  give all registered callbacks a chance to\n            execute and modify the current result  */\n        if (typeof this._hooks[name] !== \"undefined\") {\n            this._hooks[name].forEach((l) => {\n                /*  call latched callback  */\n                let r = l.cb.apply(l.ctx, params.concat([ result ]))\n\n                /*  process/merge results  */\n                result = hookProc[proc].step.call(null, result, r)\n            })\n        }\n\n        /*  return the final result  */\n        return result\n    }\n}\n\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _aggregationEs = require(\"./src/aggregation-es6.js\");\n\nvar _aggregationEs2 = _interopRequireDefault(_aggregationEs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _aggregationEs2.default;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlczYuanMiLCJzb3VyY2VzQ29udGVudCI6W119","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nmodule.exports = require('../modules/$.core').Promise;","/*\n**  Aggregation -- Aggregation of Base Class and Mixin Classes\n**  Copyright (c) 2015 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n/*  ==== ECMAScript 6 variant ====  */\n\nvar aggregation = (base, ...mixins) => {\n\n    /*  create aggregation class  */\n    let aggregate = class __Aggregate extends base {\n        constructor (...args) {\n            /*  call base class constructor  */\n            super(...args)\n\n            /*  call mixin's initializer  */\n            mixins.forEach((mixin) => {\n                if (typeof mixin.prototype.initializer === \"function\")\n                    mixin.prototype.initializer.call(this)\n            })\n        }\n    };\n\n    /*  copy properties  */\n    let copyProps = (target, source) => {\n        Object.getOwnPropertyNames(source)\n            .concat(Object.getOwnPropertySymbols(source))\n            .forEach((prop) => {\n            if (prop.match(/^(?:initializer|constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/))\n                return\n            Object.defineProperty(target, prop, Object.getOwnPropertyDescriptor(source, prop))\n        })\n    }\n\n    /*  copy all properties of all mixins into aggregation class  */\n    mixins.forEach((mixin) => {\n        copyProps(aggregate.prototype, mixin.prototype)\n        copyProps(aggregate, mixin)\n    })\n\n    return aggregate\n}\n\nexport default aggregation\n\n","'use strict';\nvar $at  = require('./$.string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./$.iter-define')(String, 'String', function(iterated){\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , index = this._i\n    , point;\n  if(index >= O.length)return {value: undefined, done: true};\n  point = $at(O, index);\n  this._i += point.length;\n  return {value: point, done: false};\n});","'use strict';\nvar $          = require('./$')\n  , LIBRARY    = require('./$.library')\n  , global     = require('./$.global')\n  , ctx        = require('./$.ctx')\n  , classof    = require('./$.classof')\n  , $export    = require('./$.export')\n  , isObject   = require('./$.is-object')\n  , anObject   = require('./$.an-object')\n  , aFunction  = require('./$.a-function')\n  , strictNew  = require('./$.strict-new')\n  , forOf      = require('./$.for-of')\n  , setProto   = require('./$.set-proto').set\n  , same       = require('./$.same-value')\n  , SPECIES    = require('./$.wks')('species')\n  , speciesConstructor = require('./$.species-constructor')\n  , asap       = require('./$.microtask')\n  , PROMISE    = 'Promise'\n  , process    = global.process\n  , isNode     = classof(process) == 'process'\n  , P          = global[PROMISE]\n  , Wrapper;\n\nvar testResolve = function(sub){\n  var test = new P(function(){});\n  if(sub)test.constructor = Object;\n  return P.resolve(test) === test;\n};\n\nvar USE_NATIVE = function(){\n  var works = false;\n  function P2(x){\n    var self = new P(x);\n    setProto(self, P2.prototype);\n    return self;\n  }\n  try {\n    works = P && P.resolve && testResolve();\n    setProto(P2, P);\n    P2.prototype = $.create(P.prototype, {constructor: {value: P2}});\n    // actual Firefox has broken subclass support, test that\n    if(!(P2.resolve(5).then(function(){}) instanceof P2)){\n      works = false;\n    }\n    // actual V8 bug, https://code.google.com/p/v8/issues/detail?id=4162\n    if(works && require('./$.descriptors')){\n      var thenableThenGotten = false;\n      P.resolve($.setDesc({}, 'then', {\n        get: function(){ thenableThenGotten = true; }\n      }));\n      works = thenableThenGotten;\n    }\n  } catch(e){ works = false; }\n  return works;\n}();\n\n// helpers\nvar sameConstructor = function(a, b){\n  // library wrapper special case\n  if(LIBRARY && a === P && b === Wrapper)return true;\n  return same(a, b);\n};\nvar getConstructor = function(C){\n  var S = anObject(C)[SPECIES];\n  return S != undefined ? S : C;\n};\nvar isThenable = function(it){\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar PromiseCapability = function(C){\n  var resolve, reject;\n  this.promise = new C(function($$resolve, $$reject){\n    if(resolve !== undefined || reject !== undefined)throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject  = $$reject;\n  });\n  this.resolve = aFunction(resolve),\n  this.reject  = aFunction(reject)\n};\nvar perform = function(exec){\n  try {\n    exec();\n  } catch(e){\n    return {error: e};\n  }\n};\nvar notify = function(record, isReject){\n  if(record.n)return;\n  record.n = true;\n  var chain = record.c;\n  asap(function(){\n    var value = record.v\n      , ok    = record.s == 1\n      , i     = 0;\n    var run = function(reaction){\n      var handler = ok ? reaction.ok : reaction.fail\n        , resolve = reaction.resolve\n        , reject  = reaction.reject\n        , result, then;\n      try {\n        if(handler){\n          if(!ok)record.h = true;\n          result = handler === true ? value : handler(value);\n          if(result === reaction.promise){\n            reject(TypeError('Promise-chain cycle'));\n          } else if(then = isThenable(result)){\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch(e){\n        reject(e);\n      }\n    };\n    while(chain.length > i)run(chain[i++]); // variable length - can't use forEach\n    chain.length = 0;\n    record.n = false;\n    if(isReject)setTimeout(function(){\n      var promise = record.p\n        , handler, console;\n      if(isUnhandled(promise)){\n        if(isNode){\n          process.emit('unhandledRejection', value, promise);\n        } else if(handler = global.onunhandledrejection){\n          handler({promise: promise, reason: value});\n        } else if((console = global.console) && console.error){\n          console.error('Unhandled promise rejection', value);\n        }\n      } record.a = undefined;\n    }, 1);\n  });\n};\nvar isUnhandled = function(promise){\n  var record = promise._d\n    , chain  = record.a || record.c\n    , i      = 0\n    , reaction;\n  if(record.h)return false;\n  while(chain.length > i){\n    reaction = chain[i++];\n    if(reaction.fail || !isUnhandled(reaction.promise))return false;\n  } return true;\n};\nvar $reject = function(value){\n  var record = this;\n  if(record.d)return;\n  record.d = true;\n  record = record.r || record; // unwrap\n  record.v = value;\n  record.s = 2;\n  record.a = record.c.slice();\n  notify(record, true);\n};\nvar $resolve = function(value){\n  var record = this\n    , then;\n  if(record.d)return;\n  record.d = true;\n  record = record.r || record; // unwrap\n  try {\n    if(record.p === value)throw TypeError(\"Promise can't be resolved itself\");\n    if(then = isThenable(value)){\n      asap(function(){\n        var wrapper = {r: record, d: false}; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch(e){\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      record.v = value;\n      record.s = 1;\n      notify(record, false);\n    }\n  } catch(e){\n    $reject.call({r: record, d: false}, e); // wrap\n  }\n};\n\n// constructor polyfill\nif(!USE_NATIVE){\n  // 25.4.3.1 Promise(executor)\n  P = function Promise(executor){\n    aFunction(executor);\n    var record = this._d = {\n      p: strictNew(this, P, PROMISE),         // <- promise\n      c: [],                                  // <- awaiting reactions\n      a: undefined,                           // <- checked in isUnhandled reactions\n      s: 0,                                   // <- state\n      d: false,                               // <- done\n      v: undefined,                           // <- value\n      h: false,                               // <- handled rejection\n      n: false                                // <- notify\n    };\n    try {\n      executor(ctx($resolve, record, 1), ctx($reject, record, 1));\n    } catch(err){\n      $reject.call(record, err);\n    }\n  };\n  require('./$.redefine-all')(P.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected){\n      var reaction = new PromiseCapability(speciesConstructor(this, P))\n        , promise  = reaction.promise\n        , record   = this._d;\n      reaction.ok   = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      record.c.push(reaction);\n      if(record.a)record.a.push(reaction);\n      if(record.s)notify(record, false);\n      return promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function(onRejected){\n      return this.then(undefined, onRejected);\n    }\n  });\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Promise: P});\nrequire('./$.set-to-string-tag')(P, PROMISE);\nrequire('./$.set-species')(PROMISE);\nWrapper = require('./$.core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r){\n    var capability = new PromiseCapability(this)\n      , $$reject   = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (!USE_NATIVE || testResolve(true)), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x){\n    // instanceof instead of internal slot check because we should fix it without replacement native Promise core\n    if(x instanceof P && sameConstructor(x.constructor, this))return x;\n    var capability = new PromiseCapability(this)\n      , $$resolve  = capability.resolve;\n    $$resolve(x);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./$.iter-detect')(function(iter){\n  P.all(iter)['catch'](function(){});\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable){\n    var C          = getConstructor(this)\n      , capability = new PromiseCapability(C)\n      , resolve    = capability.resolve\n      , reject     = capability.reject\n      , values     = [];\n    var abrupt = perform(function(){\n      forOf(iterable, false, values.push, values);\n      var remaining = values.length\n        , results   = Array(remaining);\n      if(remaining)$.each.call(values, function(promise, index){\n        var alreadyCalled = false;\n        C.resolve(promise).then(function(value){\n          if(alreadyCalled)return;\n          alreadyCalled = true;\n          results[index] = value;\n          --remaining || resolve(results);\n        }, reject);\n      });\n      else resolve(results);\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable){\n    var C          = getConstructor(this)\n      , capability = new PromiseCapability(C)\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      forOf(iterable, false, function(promise){\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  }\n});","require('./es6.array.iterator');\nvar Iterators = require('./$.iterators');\nIterators.NodeList = Iterators.HTMLCollection = Iterators.Array;","var core = module.exports = {version: '1.2.6'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef","var toInteger = require('./$.to-integer')\n  , defined   = require('./$.defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function(TO_STRING){\n  return function(that, pos){\n    var s = String(defined(that))\n      , i = toInteger(pos)\n      , l = s.length\n      , a, b;\n    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};","'use strict';\nvar LIBRARY        = require('./$.library')\n  , $export        = require('./$.export')\n  , redefine       = require('./$.redefine')\n  , hide           = require('./$.hide')\n  , has            = require('./$.has')\n  , Iterators      = require('./$.iterators')\n  , $iterCreate    = require('./$.iter-create')\n  , setToStringTag = require('./$.set-to-string-tag')\n  , getProto       = require('./$').getProto\n  , ITERATOR       = require('./$.wks')('iterator')\n  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n  , FF_ITERATOR    = '@@iterator'\n  , KEYS           = 'keys'\n  , VALUES         = 'values';\n\nvar returnThis = function(){ return this; };\n\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function(kind){\n    if(!BUGGY && kind in proto)return proto[kind];\n    switch(kind){\n      case KEYS: return function keys(){ return new Constructor(this, kind); };\n      case VALUES: return function values(){ return new Constructor(this, kind); };\n    } return function entries(){ return new Constructor(this, kind); };\n  };\n  var TAG        = NAME + ' Iterator'\n    , DEF_VALUES = DEFAULT == VALUES\n    , VALUES_BUG = false\n    , proto      = Base.prototype\n    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n    , $default   = $native || getMethod(DEFAULT)\n    , methods, key;\n  // Fix native\n  if($native){\n    var IteratorPrototype = getProto($default.call(new Base));\n    // Set @@toStringTag to native iterators\n    setToStringTag(IteratorPrototype, TAG, true);\n    // FF fix\n    if(!LIBRARY && has(proto, FF_ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n    // fix Array#{values, @@iterator}.name in V8 / FF\n    if(DEF_VALUES && $native.name !== VALUES){\n      VALUES_BUG = true;\n      $default = function values(){ return $native.call(this); };\n    }\n  }\n  // Define iterator\n  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG]  = returnThis;\n  if(DEFAULT){\n    methods = {\n      values:  DEF_VALUES  ? $default : getMethod(VALUES),\n      keys:    IS_SET      ? $default : getMethod(KEYS),\n      entries: !DEF_VALUES ? $default : getMethod('entries')\n    };\n    if(FORCED)for(key in methods){\n      if(!(key in proto))redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};","var $Object = Object;\nmodule.exports = {\n  create:     $Object.create,\n  getProto:   $Object.getPrototypeOf,\n  isEnum:     {}.propertyIsEnumerable,\n  getDesc:    $Object.getOwnPropertyDescriptor,\n  setDesc:    $Object.defineProperty,\n  setDescs:   $Object.defineProperties,\n  getKeys:    $Object.keys,\n  getNames:   $Object.getOwnPropertyNames,\n  getSymbols: $Object.getOwnPropertySymbols,\n  each:       [].forEach\n};","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef","module.exports = true;","// optional / simple context binding\nvar aFunction = require('./$.a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./$.cof')\n  , TAG = require('./$.wks')('toStringTag')\n  // ES3 wrong here\n  , ARG = cof(function(){ return arguments; }()) == 'Arguments';\n\nmodule.exports = function(it){\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = (O = Object(it))[TAG]) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};","var global    = require('./$.global')\n  , core      = require('./$.core')\n  , ctx       = require('./$.ctx')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && key in target;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(param){\n        return this instanceof C ? new C(param) : C(param);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    if(IS_PROTO)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;\n  }\n};\n// type bitmap\n$export.F = 1;  // forced\n$export.G = 2;  // global\n$export.S = 4;  // static\n$export.P = 8;  // proto\n$export.B = 16; // bind\n$export.W = 32; // wrap\nmodule.exports = $export;","module.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};","module.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};","var isObject = require('./$.is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};","module.exports = function(it, Constructor, name){\n  if(!(it instanceof Constructor))throw TypeError(name + \": use the 'new' operator!\");\n  return it;\n};","var ctx         = require('./$.ctx')\n  , call        = require('./$.iter-call')\n  , isArrayIter = require('./$.is-array-iter')\n  , anObject    = require('./$.an-object')\n  , toLength    = require('./$.to-length')\n  , getIterFn   = require('./core.get-iterator-method');\nmodule.exports = function(iterable, entries, fn, that){\n  var iterFn = getIterFn(iterable)\n    , f      = ctx(fn, that, entries ? 2 : 1)\n    , index  = 0\n    , length, step, iterator;\n  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){\n    entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){\n    call(iterator, f, step.value, entries);\n  }\n};","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar getDesc  = require('./$').getDesc\n  , isObject = require('./$.is-object')\n  , anObject = require('./$.an-object');\nvar check = function(O, proto){\n  anObject(O);\n  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function(test, buggy, set){\n      try {\n        set = require('./$.ctx')(Function.call, getDesc(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch(e){ buggy = true; }\n      return function setPrototypeOf(O, proto){\n        check(O, proto);\n        if(buggy)O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};","// 7.2.9 SameValue(x, y)\nmodule.exports = Object.is || function is(x, y){\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};","var store  = require('./$.shared')('wks')\n  , uid    = require('./$.uid')\n  , Symbol = require('./$.global').Symbol;\nmodule.exports = function(name){\n  return store[name] || (store[name] =\n    Symbol && Symbol[name] || (Symbol || uid)('Symbol.' + name));\n};","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject  = require('./$.an-object')\n  , aFunction = require('./$.a-function')\n  , SPECIES   = require('./$.wks')('species');\nmodule.exports = function(O, D){\n  var C = anObject(O).constructor, S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};","var global    = require('./$.global')\n  , macrotask = require('./$.task').set\n  , Observer  = global.MutationObserver || global.WebKitMutationObserver\n  , process   = global.process\n  , Promise   = global.Promise\n  , isNode    = require('./$.cof')(process) == 'process'\n  , head, last, notify;\n\nvar flush = function(){\n  var parent, domain, fn;\n  if(isNode && (parent = process.domain)){\n    process.domain = null;\n    parent.exit();\n  }\n  while(head){\n    domain = head.domain;\n    fn     = head.fn;\n    if(domain)domain.enter();\n    fn(); // <- currently we use it only for Promise - try / catch not required\n    if(domain)domain.exit();\n    head = head.next;\n  } last = undefined;\n  if(parent)parent.enter();\n};\n\n// Node.js\nif(isNode){\n  notify = function(){\n    process.nextTick(flush);\n  };\n// browsers with MutationObserver\n} else if(Observer){\n  var toggle = 1\n    , node   = document.createTextNode('');\n  new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new\n  notify = function(){\n    node.data = toggle = -toggle;\n  };\n// environments with maybe non-completely correct, but existent Promise\n} else if(Promise && Promise.resolve){\n  notify = function(){\n    Promise.resolve().then(flush);\n  };\n// for other environments - macrotask based on:\n// - setImmediate\n// - MessageChannel\n// - window.postMessag\n// - onreadystatechange\n// - setTimeout\n} else {\n  notify = function(){\n    // strange IE + webpack dev server bug - use .call(global)\n    macrotask.call(global, flush);\n  };\n}\n\nmodule.exports = function asap(fn){\n  var task = {fn: fn, next: undefined, domain: isNode && process.domain};\n  if(last)last.next = task;\n  if(!head){\n    head = task;\n    notify();\n  } last = task;\n};","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./$.fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});","var redefine = require('./$.redefine');\nmodule.exports = function(target, src){\n  for(var key in src)redefine(target, key, src[key]);\n  return target;\n};","var def = require('./$').setDesc\n  , has = require('./$.has')\n  , TAG = require('./$.wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};","'use strict';\nvar core        = require('./$.core')\n  , $           = require('./$')\n  , DESCRIPTORS = require('./$.descriptors')\n  , SPECIES     = require('./$.wks')('species');\n\nmodule.exports = function(KEY){\n  var C = core[KEY];\n  if(DESCRIPTORS && C && !C[SPECIES])$.setDesc(C, SPECIES, {\n    configurable: true,\n    get: function(){ return this; }\n  });\n};","var ITERATOR     = require('./$.wks')('iterator')\n  , SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function(){ SAFE_CLOSING = true; };\n  Array.from(riter, function(){ throw 2; });\n} catch(e){ /* empty */ }\n\nmodule.exports = function(exec, skipClosing){\n  if(!skipClosing && !SAFE_CLOSING)return false;\n  var safe = false;\n  try {\n    var arr  = [7]\n      , iter = arr[ITERATOR]();\n    iter.next = function(){ safe = true; };\n    arr[ITERATOR] = function(){ return iter; };\n    exec(arr);\n  } catch(e){ /* empty */ }\n  return safe;\n};","'use strict';\nvar addToUnscopables = require('./$.add-to-unscopables')\n  , step             = require('./$.iter-step')\n  , Iterators        = require('./$.iterators')\n  , toIObject        = require('./$.to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./$.iter-define')(Array, 'Array', function(iterated, kind){\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , kind  = this._k\n    , index = this._i++;\n  if(!O || index >= O.length){\n    this._t = undefined;\n    return step(1);\n  }\n  if(kind == 'keys'  )return step(0, index);\n  if(kind == 'values')return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');","module.exports = {};","// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};","module.exports = require('./$.hide');","var $          = require('./$')\n  , createDesc = require('./$.property-desc');\nmodule.exports = require('./$.descriptors') ? function(object, key, value){\n  return $.setDesc(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};","'use strict';\nvar $              = require('./$')\n  , descriptor     = require('./$.property-desc')\n  , setToStringTag = require('./$.set-to-string-tag')\n  , IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./$.hide')(IteratorPrototype, require('./$.wks')('iterator'), function(){ return this; });\n\nmodule.exports = function(Constructor, NAME, next){\n  Constructor.prototype = $.create(IteratorPrototype, {next: descriptor(1, next)});\n  setToStringTag(Constructor, NAME + ' Iterator');\n};","var toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};","// call something on iterator step with safe closing on error\nvar anObject = require('./$.an-object');\nmodule.exports = function(iterator, fn, value, entries){\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch(e){\n    var ret = iterator['return'];\n    if(ret !== undefined)anObject(ret.call(iterator));\n    throw e;\n  }\n};","// check on default Array iterator\nvar Iterators  = require('./$.iterators')\n  , ITERATOR   = require('./$.wks')('iterator')\n  , ArrayProto = Array.prototype;\n\nmodule.exports = function(it){\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};","// 7.1.15 ToLength\nvar toInteger = require('./$.to-integer')\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};","var classof   = require('./$.classof')\n  , ITERATOR  = require('./$.wks')('iterator')\n  , Iterators = require('./$.iterators');\nmodule.exports = require('./$.core').getIteratorMethod = function(it){\n  if(it != undefined)return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};","var global = require('./$.global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};","var id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};","var ctx                = require('./$.ctx')\n  , invoke             = require('./$.invoke')\n  , html               = require('./$.html')\n  , cel                = require('./$.dom-create')\n  , global             = require('./$.global')\n  , process            = global.process\n  , setTask            = global.setImmediate\n  , clearTask          = global.clearImmediate\n  , MessageChannel     = global.MessageChannel\n  , counter            = 0\n  , queue              = {}\n  , ONREADYSTATECHANGE = 'onreadystatechange'\n  , defer, channel, port;\nvar run = function(){\n  var id = +this;\n  if(queue.hasOwnProperty(id)){\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listner = function(event){\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif(!setTask || !clearTask){\n  setTask = function setImmediate(fn){\n    var args = [], i = 1;\n    while(arguments.length > i)args.push(arguments[i++]);\n    queue[++counter] = function(){\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id){\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if(require('./$.cof')(process) == 'process'){\n    defer = function(id){\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if(MessageChannel){\n    channel = new MessageChannel;\n    port    = channel.port2;\n    channel.port1.onmessage = listner;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if(global.addEventListener && typeof postMessage == 'function' && !global.importScripts){\n    defer = function(id){\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listner, false);\n  // IE8-\n  } else if(ONREADYSTATECHANGE in cel('script')){\n    defer = function(id){\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function(){\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function(id){\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set:   setTask,\n  clear: clearTask\n};","module.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};","module.exports = function(){ /* empty */ };","module.exports = function(done, value){\n  return {value: value, done: !!done};\n};","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./$.iobject')\n  , defined = require('./$.defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};","module.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function(fn, args, that){\n  var un = that === undefined;\n  switch(args.length){\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return              fn.apply(that, args);\n};","var isObject = require('./$.is-object')\n  , document = require('./$.global').document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};","module.exports = require('./$.global').document && document.documentElement;","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./$.cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};"]}