/*
**  Microkernel -- Microkernel for Server Applications
**  Copyright (c) 2015 Ralf S. Engelschall <rse@engelschall.com>
**
**  Permission is hereby granted, free of charge, to any person obtaining
**  a copy of this software and associated documentation files (the
**  "Software"), to deal in the Software without restriction, including
**  without limitation the rights to use, copy, modify, merge, publish,
**  distribute, sublicense, and/or sell copies of the Software, and to
**  permit persons to whom the Software is furnished to do so, subject to
**  the following conditions:
**
**  The above copyright notice and this permission notice shall be included
**  in all copies or substantial portions of the Software.
**
**  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/

(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Microkernel = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){
"use strict";module.exports=_dereq_("./src/aggregation-es6.js");
},{"./src/aggregation-es6.js":2}],2:[function(_dereq_,module,exports){
"use strict";var _classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},_get=function t(e,r,o){var n=Object.getOwnPropertyDescriptor(e,r);if(void 0===n){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,r,o)}if("value"in n)return n.value;var i=n.get;return void 0===i?void 0:i.call(o)},_inherits=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)};Object.defineProperty(exports,"__esModule",{value:!0});var aggregation=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),o=1;e>o;o++)r[o-1]=arguments[o];var n=function(t){function e(){for(var t=this,o=arguments.length,n=Array(o),a=0;o>a;a++)n[a]=arguments[a];_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,n),r.forEach(function(e){"function"==typeof e.prototype.initializer&&e.prototype.initializer.call(t)})}return _inherits(e,t),e}(t),a=function(t,e){Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)).forEach(function(r){r.match(/^(?:initializer|constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)||Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})};return r.forEach(function(t){a(n.prototype,t.prototype),a(n,t)}),n};exports["default"]=aggregation,module.exports=exports["default"];
},{}],3:[function(_dereq_,module,exports){
module.exports={"default":_dereq_("core-js/library/fn/map"),__esModule:!0};
},{"core-js/library/fn/map":15}],4:[function(_dereq_,module,exports){
module.exports={"default":_dereq_("core-js/library/fn/object/assign"),__esModule:!0};
},{"core-js/library/fn/object/assign":16}],5:[function(_dereq_,module,exports){
module.exports={"default":_dereq_("core-js/library/fn/object/create"),__esModule:!0};
},{"core-js/library/fn/object/create":17}],6:[function(_dereq_,module,exports){
module.exports={"default":_dereq_("core-js/library/fn/object/define-property"),__esModule:!0};
},{"core-js/library/fn/object/define-property":18}],7:[function(_dereq_,module,exports){
module.exports={"default":_dereq_("core-js/library/fn/object/get-own-property-descriptor"),__esModule:!0};
},{"core-js/library/fn/object/get-own-property-descriptor":19}],8:[function(_dereq_,module,exports){
module.exports={"default":_dereq_("core-js/library/fn/promise"),__esModule:!0};
},{"core-js/library/fn/promise":20}],9:[function(_dereq_,module,exports){
module.exports={"default":_dereq_("core-js/library/fn/set"),__esModule:!0};
},{"core-js/library/fn/set":21}],10:[function(_dereq_,module,exports){
"use strict";exports["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},exports.__esModule=!0;
},{}],11:[function(_dereq_,module,exports){
"use strict";var _Object$defineProperty=_dereq_("babel-runtime/core-js/object/define-property")["default"];exports["default"]=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),_Object$defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),exports.__esModule=!0;
},{"babel-runtime/core-js/object/define-property":6}],12:[function(_dereq_,module,exports){
"use strict";var _Object$getOwnPropertyDescriptor=_dereq_("babel-runtime/core-js/object/get-own-property-descriptor")["default"];exports["default"]=function(e,r,t){for(var o=!0;o;){a=n=c=void 0,o=!1;var i=e,u=r,v=t,a=_Object$getOwnPropertyDescriptor(i,u);if(void 0!==a){if("value"in a)return a.value;var c=a.get;return void 0===c?void 0:c.call(v)}var n=Object.getPrototypeOf(i);if(null===n)return void 0;e=n,r=u,t=v,o=!0}},exports.__esModule=!0;
},{"babel-runtime/core-js/object/get-own-property-descriptor":7}],13:[function(_dereq_,module,exports){
"use strict";var _Object$create=_dereq_("babel-runtime/core-js/object/create")["default"];exports["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=_Object$create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},exports.__esModule=!0;
},{"babel-runtime/core-js/object/create":5}],14:[function(_dereq_,module,exports){
"use strict";exports["default"]=function(e){if(e&&e.__esModule)return e;var t={};if("object"==typeof e&&null!==e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t},exports.__esModule=!0;
},{}],15:[function(_dereq_,module,exports){
_dereq_("../modules/es6.object.to-string"),_dereq_("../modules/es6.string.iterator"),_dereq_("../modules/web.dom.iterable"),_dereq_("../modules/es6.map"),_dereq_("../modules/es7.map.to-json"),module.exports=_dereq_("../modules/$").core.Map;
},{"../modules/$":38,"../modules/es6.map":47,"../modules/es6.object.to-string":50,"../modules/es6.string.iterator":53,"../modules/es7.map.to-json":54,"../modules/web.dom.iterable":56}],16:[function(_dereq_,module,exports){
_dereq_("../../modules/es6.object.assign"),module.exports=_dereq_("../../modules/$").core.Object.assign;
},{"../../modules/$":38,"../../modules/es6.object.assign":48}],17:[function(_dereq_,module,exports){
var $=_dereq_("../../modules/$");module.exports=function(e,r){return $.create(e,r)};
},{"../../modules/$":38}],18:[function(_dereq_,module,exports){
var $=_dereq_("../../modules/$");module.exports=function(e,r,u){return $.setDesc(e,r,u)};
},{"../../modules/$":38}],19:[function(_dereq_,module,exports){
var $=_dereq_("../../modules/$");_dereq_("../../modules/es6.object.statics-accept-primitives"),module.exports=function(e,r){return $.getDesc(e,r)};
},{"../../modules/$":38,"../../modules/es6.object.statics-accept-primitives":49}],20:[function(_dereq_,module,exports){
_dereq_("../modules/es6.object.to-string"),_dereq_("../modules/es6.string.iterator"),_dereq_("../modules/web.dom.iterable"),_dereq_("../modules/es6.promise"),module.exports=_dereq_("../modules/$").core.Promise;
},{"../modules/$":38,"../modules/es6.object.to-string":50,"../modules/es6.promise":51,"../modules/es6.string.iterator":53,"../modules/web.dom.iterable":56}],21:[function(_dereq_,module,exports){
_dereq_("../modules/es6.object.to-string"),_dereq_("../modules/es6.string.iterator"),_dereq_("../modules/web.dom.iterable"),_dereq_("../modules/es6.set"),_dereq_("../modules/es7.set.to-json"),module.exports=_dereq_("../modules/$").core.Set;
},{"../modules/$":38,"../modules/es6.object.to-string":50,"../modules/es6.set":52,"../modules/es6.string.iterator":53,"../modules/es7.set.to-json":55,"../modules/web.dom.iterable":56}],22:[function(_dereq_,module,exports){
function assert(r,t,e){if(!r)throw TypeError(e?t+e:t)}var $=_dereq_("./$");assert.def=$.assertDefined,assert.fn=function(r){if(!$.isFunction(r))throw TypeError(r+" is not a function!");return r},assert.obj=function(r){if(!$.isObject(r))throw TypeError(r+" is not an object!");return r},assert.inst=function(r,t,e){if(!(r instanceof t))throw TypeError(e+": use the 'new' operator!");return r},module.exports=assert;
},{"./$":38}],23:[function(_dereq_,module,exports){
var $=_dereq_("./$"),enumKeys=_dereq_("./$.enum-keys");module.exports=Object.assign||function(e,r){for(var n=Object($.assertDefined(e)),t=arguments.length,s=1;t>s;)for(var u,a=$.ES5Object(arguments[s++]),m=enumKeys(a),g=m.length,i=0;g>i;)n[u=m[i++]]=a[u];return n};
},{"./$":38,"./$.enum-keys":30}],24:[function(_dereq_,module,exports){
function cof(o){return toString.call(o).slice(8,-1)}var $=_dereq_("./$"),TAG=_dereq_("./$.wks")("toStringTag"),toString={}.toString;cof.classof=function(o){var t,r;return void 0==o?void 0===o?"Undefined":"Null":"string"==typeof(r=(t=Object(o))[TAG])?r:cof(t)},cof.set=function(o,t,r){o&&!$.has(o=r?o:o.prototype,TAG)&&$.hide(o,TAG,t)},module.exports=cof;
},{"./$":38,"./$.wks":45}],25:[function(_dereq_,module,exports){
"use strict";function fastKey(e,t){if(!isObject(e))return("string"==typeof e?"S":"P")+e;if(isFrozen(e))return"F";if(!has(e,ID)){if(!t)return"E";hide(e,ID,++id)}return"O"+e[ID]}function getEntry(e,t){var r,i=fastKey(t);if("F"!=i)return e[O1][i];for(r=e[FIRST];r;r=r.n)if(r.k==t)return r}var $=_dereq_("./$"),ctx=_dereq_("./$.ctx"),safe=_dereq_("./$.uid").safe,assert=_dereq_("./$.assert"),forOf=_dereq_("./$.for-of"),step=_dereq_("./$.iter").step,has=$.has,set=$.set,isObject=$.isObject,hide=$.hide,isFrozen=Object.isFrozen||$.core.Object.isFrozen,ID=safe("id"),O1=safe("O1"),LAST=safe("last"),FIRST=safe("first"),ITER=safe("iter"),SIZE=$.DESC?safe("size"):"size",id=0;module.exports={getConstructor:function(e,t,r){function i(){var s=assert.inst(this,i,e),n=arguments[0];set(s,O1,$.create(null)),set(s,SIZE,0),set(s,LAST,void 0),set(s,FIRST,void 0),void 0!=n&&forOf(n,t,s[r],s)}return $.mix(i.prototype,{clear:function(){for(var e=this,t=e[O1],r=e[FIRST];r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete t[r.i];e[FIRST]=e[LAST]=void 0,e[SIZE]=0},"delete":function(e){var t=this,r=getEntry(t,e);if(r){var i=r.n,s=r.p;delete t[O1][r.i],r.r=!0,s&&(s.n=i),i&&(i.p=s),t[FIRST]==r&&(t[FIRST]=i),t[LAST]==r&&(t[LAST]=s),t[SIZE]--}return!!r},forEach:function(e){for(var t,r=ctx(e,arguments[1],3);t=t?t.n:this[FIRST];)for(r(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!getEntry(this,e)}}),$.DESC&&$.setDesc(i.prototype,"size",{get:function(){return assert.def(this[SIZE])}}),i},def:function(e,t,r){var i,s,n=getEntry(e,t);return n?n.v=r:(e[LAST]=n={i:s=fastKey(t,!0),k:t,v:r,p:i=e[LAST],n:void 0,r:!1},e[FIRST]||(e[FIRST]=n),i&&(i.n=n),e[SIZE]++,"F"!=s&&(e[O1][s]=n)),e},getEntry:getEntry,setIter:function(e,t,r){_dereq_("./$.iter-define")(e,t,function(e,t){set(this,ITER,{o:e,k:t})},function(){for(var e=this[ITER],t=e.k,r=e.l;r&&r.r;)r=r.p;return e.o&&(e.l=r=r?r.n:e.o[FIRST])?"keys"==t?step(0,r.k):"values"==t?step(0,r.v):step(0,[r.k,r.v]):(e.o=void 0,step(1))},r?"entries":"values",!r,!0)}};
},{"./$":38,"./$.assert":22,"./$.ctx":28,"./$.for-of":31,"./$.iter":37,"./$.iter-define":35,"./$.uid":43}],26:[function(_dereq_,module,exports){
var $def=_dereq_("./$.def"),forOf=_dereq_("./$.for-of");module.exports=function(f){$def($def.P,f,{toJSON:function(){var f=[];return forOf(this,!1,f.push,f),f}})};
},{"./$.def":29,"./$.for-of":31}],27:[function(_dereq_,module,exports){
"use strict";var $=_dereq_("./$"),$def=_dereq_("./$.def"),BUGGY=_dereq_("./$.iter").BUGGY,forOf=_dereq_("./$.for-of"),species=_dereq_("./$.species"),assertInstance=_dereq_("./$.assert").inst;module.exports=function(e,r,t,s,i){function n(e,r){var t=f[e];$.FW&&(f[e]=function(e,s){var i=t.call(this,0===e?0:e,s);return r?this:i})}var o=$.g[e],c=o,u=s?"set":"add",f=c&&c.prototype,a={};if($.isFunction(c)&&(i||!BUGGY&&f.forEach&&f.entries)){var d,p=new c,q=p[u](i?{}:-0,1);_dereq_("./$.iter-detect")(function(e){new c(e)})||(c=function(){assertInstance(this,c,e);var r=new o,t=arguments[0];return void 0!=t&&forOf(t,s,r[u],r),r},c.prototype=f,$.FW&&(f.constructor=c)),i||p.forEach(function(e,r){d=1/r===-(1/0)}),d&&(n("delete"),n("has"),s&&n("get")),(d||q!==p)&&n(u,!0)}else c=t.getConstructor(e,s,u),$.mix(c.prototype,r);return _dereq_("./$.cof").set(c,e),a[e]=c,$def($def.G+$def.W+$def.F*(c!=o),a),species(c),species($.core[e]),i||t.setIter(c,e,s),c};
},{"./$":38,"./$.assert":22,"./$.cof":24,"./$.def":29,"./$.for-of":31,"./$.iter":37,"./$.iter-detect":36,"./$.species":40}],28:[function(_dereq_,module,exports){
var assertFunction=_dereq_("./$.assert").fn;module.exports=function(r,n,t){if(assertFunction(r),~t&&void 0===n)return r;switch(t){case 1:return function(t){return r.call(n,t)};case 2:return function(t,e){return r.call(n,t,e)};case 3:return function(t,e,u){return r.call(n,t,e,u)}}return function(){return r.apply(n,arguments)}};
},{"./$.assert":22}],29:[function(_dereq_,module,exports){
function ctx(e,n){return function(){return e.apply(n,arguments)}}function $def(e,n,o){var t,f,i,r,c=e&$def.G,d=c?global:e&$def.S?global[n]:(global[n]||{}).prototype,u=c?core:core[n]||(core[n]={});c&&(o=n);for(t in o)f=!(e&$def.F)&&d&&t in d,f&&t in u||(i=f?d[t]:o[t],c&&!isFunction(d[t])?r=o[t]:e&$def.B&&f?r=ctx(i,global):e&$def.W&&d[t]==i?!function(e){r=function(n){return this instanceof e?new e(n):e(n)},r.prototype=e.prototype}(i):r=e&$def.P&&isFunction(i)?ctx(Function.call,i):i,$.hide(u,t,r))}var $=_dereq_("./$"),global=$.g,core=$.core,isFunction=$.isFunction;$def.F=1,$def.G=2,$def.S=4,$def.P=8,$def.B=16,$def.W=32,module.exports=$def;
},{"./$":38}],30:[function(_dereq_,module,exports){
var $=_dereq_("./$");module.exports=function(e){var r=$.getKeys(e),t=$.getDesc,u=$.getSymbols;return u&&$.each.call(u(e),function(u){t(e,u).enumerable&&r.push(u)}),r};
},{"./$":38}],31:[function(_dereq_,module,exports){
var ctx=_dereq_("./$.ctx"),get=_dereq_("./$.iter").get,call=_dereq_("./$.iter-call");module.exports=function(e,r,t,l){for(var c,a=get(e),i=ctx(t,l,r?2:1);!(c=a.next()).done;)if(call(a,i,c.value,r)===!1)return call.close(a)};
},{"./$.ctx":28,"./$.iter":37,"./$.iter-call":34}],32:[function(_dereq_,module,exports){
module.exports=function(e){return e.FW=!1,e.path=e.core,e};
},{}],33:[function(_dereq_,module,exports){
module.exports=function(e,r,l){var a=void 0===l;switch(r.length){case 0:return a?e():e.call(l);case 1:return a?e(r[0]):e.call(l,r[0]);case 2:return a?e(r[0],r[1]):e.call(l,r[0],r[1]);case 3:return a?e(r[0],r[1],r[2]):e.call(l,r[0],r[1],r[2]);case 4:return a?e(r[0],r[1],r[2],r[3]):e.call(l,r[0],r[1],r[2],r[3]);case 5:return a?e(r[0],r[1],r[2],r[3],r[4]):e.call(l,r[0],r[1],r[2],r[3],r[4])}return e.apply(l,r)};
},{}],34:[function(_dereq_,module,exports){
function close(e){var c=e["return"];void 0!==c&&assertObject(c.call(e))}function call(e,c,r,t){try{return t?c(assertObject(r)[0],r[1]):c(r)}catch(l){throw close(e),l}}var assertObject=_dereq_("./$.assert").obj;call.close=close,module.exports=call;
},{"./$.assert":22}],35:[function(_dereq_,module,exports){
var $def=_dereq_("./$.def"),$=_dereq_("./$"),cof=_dereq_("./$.cof"),$iter=_dereq_("./$.iter"),SYMBOL_ITERATOR=_dereq_("./$.wks")("iterator"),FF_ITERATOR="@@iterator",VALUES="values",Iterators=$iter.Iterators;module.exports=function(e,r,t,i,o,s,a){function f(e){return function(){return new t(this,e)}}$iter.create(t,r,i);var n,u,I=r+" Iterator",R=e.prototype,T=R[SYMBOL_ITERATOR]||R[FF_ITERATOR]||o&&R[o],A=T||f(o);if(T){var E=$.getProto(A.call(new e));cof.set(E,I,!0),$.FW&&$.has(R,FF_ITERATOR)&&$iter.set(E,$.that)}if($.FW&&$iter.set(R,A),Iterators[r]=A,Iterators[I]=$.that,o)if(n={keys:s?A:f("keys"),values:o==VALUES?A:f(VALUES),entries:o!=VALUES?A:f("entries")},a)for(u in n)u in R||$.hide(R,u,n[u]);else $def($def.P+$def.F*$iter.BUGGY,r,n)};
},{"./$":38,"./$.cof":24,"./$.def":29,"./$.iter":37,"./$.wks":45}],36:[function(_dereq_,module,exports){
var SYMBOL_ITERATOR=_dereq_("./$.wks")("iterator"),SAFE_CLOSING=!1;try{var riter=[7][SYMBOL_ITERATOR]();riter["return"]=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}module.exports=function(r){if(!SAFE_CLOSING)return!1;var t=!1;try{var n=[7],e=n[SYMBOL_ITERATOR]();e.next=function(){t=!0},n[SYMBOL_ITERATOR]=function(){return e},r(n)}catch(i){}return t};
},{"./$.wks":45}],37:[function(_dereq_,module,exports){
"use strict";function setIterator(t,e){$.hide(t,SYMBOL_ITERATOR,e),FF_ITERATOR in[]&&$.hide(t,FF_ITERATOR,e)}var $=_dereq_("./$"),cof=_dereq_("./$.cof"),assertObject=_dereq_("./$.assert").obj,SYMBOL_ITERATOR=_dereq_("./$.wks")("iterator"),FF_ITERATOR="@@iterator",Iterators={},IteratorPrototype={};setIterator(IteratorPrototype,$.that),module.exports={BUGGY:"keys"in[]&&!("next"in[].keys()),Iterators:Iterators,step:function(t,e){return{value:e,done:!!t}},is:function(t){var e=Object(t),r=$.g.Symbol,o=r&&r.iterator||FF_ITERATOR;return o in e||SYMBOL_ITERATOR in e||$.has(Iterators,cof.classof(e))},get:function(t){var e=$.g.Symbol,r=t[e&&e.iterator||FF_ITERATOR],o=r||t[SYMBOL_ITERATOR]||Iterators[cof.classof(t)];return assertObject(o.call(t))},set:setIterator,create:function(t,e,r,o){t.prototype=$.create(o||IteratorPrototype,{next:$.desc(1,r)}),cof.set(t,e+" Iterator")}};
},{"./$":38,"./$.assert":22,"./$.cof":24,"./$.wks":45}],38:[function(_dereq_,module,exports){
"use strict";function toInteger(e){return isNaN(e=+e)?0:(e>0?floor:ceil)(e)}function desc(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function simpleSet(e,t,n){return e[t]=n,e}function createDefiner(e){return DESC?function(t,n,r){return $.setDesc(t,n,desc(e,r))}:simpleSet}function isObject(e){return null!==e&&("object"==typeof e||"function"==typeof e)}function isFunction(e){return"function"==typeof e}function assertDefined(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}var global="undefined"!=typeof self?self:Function("return this")(),core={},defineProperty=Object.defineProperty,hasOwnProperty={}.hasOwnProperty,ceil=Math.ceil,floor=Math.floor,max=Math.max,min=Math.min,DESC=!!function(){try{return 2==defineProperty({},"a",{get:function(){return 2}}).a}catch(e){}}(),hide=createDefiner(1),$=module.exports=_dereq_("./$.fw")({g:global,core:core,html:global.document&&document.documentElement,isObject:isObject,isFunction:isFunction,it:function(e){return e},that:function(){return this},toInteger:toInteger,toLength:function(e){return e>0?min(toInteger(e),9007199254740991):0},toIndex:function(e,t){return e=toInteger(e),0>e?max(e+t,0):min(e,t)},has:function(e,t){return hasOwnProperty.call(e,t)},create:Object.create,getProto:Object.getPrototypeOf,DESC:DESC,desc:desc,getDesc:Object.getOwnPropertyDescriptor,setDesc:defineProperty,setDescs:Object.defineProperties,getKeys:Object.keys,getNames:Object.getOwnPropertyNames,getSymbols:Object.getOwnPropertySymbols,assertDefined:assertDefined,ES5Object:Object,toObject:function(e){return $.ES5Object(assertDefined(e))},hide:hide,def:createDefiner(0),set:global.Symbol?simpleSet:hide,mix:function(e,t){for(var n in t)hide(e,n,t[n]);return e},each:[].forEach});"undefined"!=typeof __e&&(__e=core),"undefined"!=typeof __g&&(__g=global);
},{"./$.fw":32}],39:[function(_dereq_,module,exports){
function check(t,e){assert.obj(t),assert(null===e||$.isObject(e),e,": can't set as prototype!")}var $=_dereq_("./$"),assert=_dereq_("./$.assert");module.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e){try{e=_dereq_("./$.ctx")(Function.call,$.getDesc(Object.prototype,"__proto__").set,2),e({},[])}catch(r){t=!0}return function(r,c){return check(r,c),t?r.__proto__=c:e(r,c),r}}():void 0),check:check};
},{"./$":38,"./$.assert":22,"./$.ctx":28}],40:[function(_dereq_,module,exports){
var $=_dereq_("./$"),SPECIES=_dereq_("./$.wks")("species");module.exports=function(e){!$.DESC||SPECIES in e||$.setDesc(e,SPECIES,{configurable:!0,get:$.that})};
},{"./$":38,"./$.wks":45}],41:[function(_dereq_,module,exports){
"use strict";var $=_dereq_("./$");module.exports=function(e){return function(r){var t,n,i=String($.assertDefined(this)),o=$.toInteger(r),c=i.length;return 0>o||o>=c?e?"":void 0:(t=i.charCodeAt(o),55296>t||t>56319||o+1===c||(n=i.charCodeAt(o+1))<56320||n>57343?e?i.charAt(o):t:e?i.slice(o,o+2):(t-55296<<10)+(n-56320)+65536)}};
},{"./$":38}],42:[function(_dereq_,module,exports){
"use strict";function run(){var e=+this;if($.has(queue,e)){var n=queue[e];delete queue[e],n()}}function listner(e){run.call(e.data)}var $=_dereq_("./$"),ctx=_dereq_("./$.ctx"),cof=_dereq_("./$.cof"),invoke=_dereq_("./$.invoke"),global=$.g,isFunction=$.isFunction,html=$.html,document=global.document,process=global.process,setTask=global.setImmediate,clearTask=global.clearImmediate,postMessage=global.postMessage,addEventListener=global.addEventListener,MessageChannel=global.MessageChannel,counter=0,queue={},ONREADYSTATECHANGE="onreadystatechange",defer,channel,port;isFunction(setTask)&&isFunction(clearTask)||(setTask=function(e){for(var n=[],t=1;arguments.length>t;)n.push(arguments[t++]);return queue[++counter]=function(){invoke(isFunction(e)?e:Function(e),n)},defer(counter),counter},clearTask=function(e){delete queue[e]},"process"==cof(process)?defer=function(e){process.nextTick(ctx(run,e,1))}:addEventListener&&isFunction(postMessage)&&!global.importScripts?(defer=function(e){postMessage(e,"*")},addEventListener("message",listner,!1)):isFunction(MessageChannel)?(channel=new MessageChannel,port=channel.port2,channel.port1.onmessage=listner,defer=ctx(port.postMessage,port,1)):defer=document&&ONREADYSTATECHANGE in document.createElement("script")?function(e){html.appendChild(document.createElement("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this),run.call(e)}}:function(e){setTimeout(ctx(run,e,1),0)}),module.exports={set:setTask,clear:clearTask};
},{"./$":38,"./$.cof":24,"./$.ctx":28,"./$.invoke":33}],43:[function(_dereq_,module,exports){
function uid(i){return"Symbol("+i+")_"+(++sid+Math.random()).toString(36)}var sid=0;uid.safe=_dereq_("./$").g.Symbol||uid,module.exports=uid;
},{"./$":38}],44:[function(_dereq_,module,exports){
var $=_dereq_("./$"),UNSCOPABLES=_dereq_("./$.wks")("unscopables");!$.FW||UNSCOPABLES in[]||$.hide(Array.prototype,UNSCOPABLES,{}),module.exports=function(e){$.FW&&([][UNSCOPABLES][e]=!0)};
},{"./$":38,"./$.wks":45}],45:[function(_dereq_,module,exports){
var global=_dereq_("./$").g,store={};module.exports=function(o){return store[o]||(store[o]=global.Symbol&&global.Symbol[o]||_dereq_("./$.uid").safe("Symbol."+o))};
},{"./$":38,"./$.uid":43}],46:[function(_dereq_,module,exports){
var $=_dereq_("./$"),setUnscope=_dereq_("./$.unscope"),ITER=_dereq_("./$.uid").safe("iter"),$iter=_dereq_("./$.iter"),step=$iter.step,Iterators=$iter.Iterators;_dereq_("./$.iter-define")(Array,"Array",function(e,r){$.set(this,ITER,{o:$.toObject(e),i:0,k:r})},function(){var e=this[ITER],r=e.o,t=e.k,s=e.i++;return!r||s>=r.length?(e.o=void 0,step(1)):"keys"==t?step(0,s):"values"==t?step(0,r[s]):step(0,[s,r[s]])},"values"),Iterators.Arguments=Iterators.Array,setUnscope("keys"),setUnscope("values"),setUnscope("entries");
},{"./$":38,"./$.iter":37,"./$.iter-define":35,"./$.uid":43,"./$.unscope":44}],47:[function(_dereq_,module,exports){
"use strict";var strong=_dereq_("./$.collection-strong");_dereq_("./$.collection")("Map",{get:function(t){var r=strong.getEntry(this,t);return r&&r.v},set:function(t,r){return strong.def(this,0===t?0:t,r)}},strong,!0);
},{"./$.collection":27,"./$.collection-strong":25}],48:[function(_dereq_,module,exports){
var $def=_dereq_("./$.def");$def($def.S,"Object",{assign:_dereq_("./$.assign")});
},{"./$.assign":23,"./$.def":29}],49:[function(_dereq_,module,exports){
function wrapObjectMethod(e,t){var r=($.core.Object||{})[e]||Object[e],c=0,o={};o[e]=1==t?function(e){return isObject(e)?r(e):e}:2==t?function(e){return isObject(e)?r(e):!0}:3==t?function(e){return isObject(e)?r(e):!1}:4==t?function(e,t){return r(toObject(e),t)}:5==t?function(e){return r(Object($.assertDefined(e)))}:function(e){return r(toObject(e))};try{r("z")}catch(n){c=1}$def($def.S+$def.F*c,"Object",o)}var $=_dereq_("./$"),$def=_dereq_("./$.def"),isObject=$.isObject,toObject=$.toObject;wrapObjectMethod("freeze",1),wrapObjectMethod("seal",1),wrapObjectMethod("preventExtensions",1),wrapObjectMethod("isFrozen",2),wrapObjectMethod("isSealed",2),wrapObjectMethod("isExtensible",3),wrapObjectMethod("getOwnPropertyDescriptor",4),wrapObjectMethod("getPrototypeOf",5),wrapObjectMethod("keys"),wrapObjectMethod("getOwnPropertyNames");
},{"./$":38,"./$.def":29}],50:[function(_dereq_,module,exports){
"use strict";var $=_dereq_("./$"),cof=_dereq_("./$.cof"),tmp={};tmp[_dereq_("./$.wks")("toStringTag")]="z",$.FW&&"z"!=cof(tmp)&&$.hide(Object.prototype,"toString",function(){return"[object "+cof.classof(this)+"]"});
},{"./$":38,"./$.cof":24,"./$.wks":45}],51:[function(_dereq_,module,exports){
"use strict";function P2(e){var t=new P(e);return setProto(t,P2.prototype),t}function getConstructor(e){var t=assertObject(e)[SPECIES];return void 0!=t?t:e}function isThenable(e){var t;return isObject(e)&&(t=e.then),isFunction(t)?t:!1}function notify(e){var t=e.c;t.length&&asap(function(){for(var r=e.v,n=1==e.s,s=0;t.length>s;)!function(t){var s,o,i=n?t.ok:t.fail;try{i?(n||(e.h=!0),s=i===!0?r:i(r),s===t.P?t.rej(TypeError("Promise-chain cycle")):(o=isThenable(s))?o.call(s,t.res,t.rej):t.res(s)):t.rej(r)}catch(c){t.rej(c)}}(t[s++]);t.length=0})}function isUnhandled(e){var t,r=e[RECORD],n=r.a,s=0;if(r.h)return!1;for(;n.length>s;)if(t=n[s++],t.fail||!isUnhandled(t.P))return!1;return!0}function $reject(e){var t,r=this;r.d||(r.d=!0,r=r.r||r,r.v=e,r.s=2,asap(function(){setTimeout(function(){isUnhandled(t=r.p)&&("process"==cof(process)?process.emit("unhandledRejection",e,t):global.console&&isFunction(console.error)&&console.error("Unhandled promise rejection",e))},1)}),notify(r))}function $resolve(e){var t,r,n=this;if(!n.d){n.d=!0,n=n.r||n;try{(t=isThenable(e))?(r={r:n,d:!1},t.call(e,ctx($resolve,r,1),ctx($reject,r,1))):(n.v=e,n.s=1,notify(n))}catch(s){$reject.call(r||{r:n,d:!1},s)}}}var $=_dereq_("./$"),ctx=_dereq_("./$.ctx"),cof=_dereq_("./$.cof"),$def=_dereq_("./$.def"),assert=_dereq_("./$.assert"),forOf=_dereq_("./$.for-of"),setProto=_dereq_("./$.set-proto").set,species=_dereq_("./$.species"),SPECIES=_dereq_("./$.wks")("species"),RECORD=_dereq_("./$.uid").safe("record"),PROMISE="Promise",global=$.g,process=global.process,asap=process&&process.nextTick||_dereq_("./$.task").set,P=global[PROMISE],isFunction=$.isFunction,isObject=$.isObject,assertFunction=assert.fn,assertObject=assert.obj,test,useNative=isFunction(P)&&isFunction(P.resolve)&&P.resolve(test=new P(function(){}))==test;if(useNative)try{setProto(P2,P),P2.prototype=$.create(P.prototype,{constructor:{value:P2}}),P2.resolve(5).then(function(){})instanceof P2||(useNative=!1)}catch(e){useNative=!1}useNative||(P=function(e){assertFunction(e);var t={p:assert.inst(this,P,PROMISE),c:[],a:[],s:0,d:!1,v:void 0,h:!1};$.hide(this,RECORD,t);try{e(ctx($resolve,t,1),ctx($reject,t,1))}catch(r){$reject.call(t,r)}},$.mix(P.prototype,{then:function(e,t){var r=assertObject(assertObject(this).constructor)[SPECIES],n={ok:isFunction(e)?e:!0,fail:isFunction(t)?t:!1},s=n.P=new(void 0!=r?r:P)(function(e,t){n.res=assertFunction(e),n.rej=assertFunction(t)}),o=this[RECORD];return o.a.push(n),o.c.push(n),o.s&&notify(o),s},"catch":function(e){return this.then(void 0,e)}})),$def($def.G+$def.W+$def.F*!useNative,{Promise:P}),cof.set(P,PROMISE),species(P),species($.core[PROMISE]),$def($def.S+$def.F*!useNative,PROMISE,{reject:function(e){return new(getConstructor(this))(function(t,r){r(e)})},resolve:function(e){return isObject(e)&&RECORD in e&&$.getProto(e)===this.prototype?e:new(getConstructor(this))(function(t){t(e)})}}),$def($def.S+$def.F*!(useNative&&_dereq_("./$.iter-detect")(function(e){P.all(e)["catch"](function(){})})),PROMISE,{all:function(e){var t=getConstructor(this),r=[];return new t(function(n,s){forOf(e,!1,r.push,r);var o=r.length,i=Array(o);o?$.each.call(r,function(e,r){t.resolve(e).then(function(e){i[r]=e,--o||n(i)},s)}):n(i)})},race:function(e){var t=getConstructor(this);return new t(function(r,n){forOf(e,!1,function(e){t.resolve(e).then(r,n)})})}});
},{"./$":38,"./$.assert":22,"./$.cof":24,"./$.ctx":28,"./$.def":29,"./$.for-of":31,"./$.iter-detect":36,"./$.set-proto":39,"./$.species":40,"./$.task":42,"./$.uid":43,"./$.wks":45}],52:[function(_dereq_,module,exports){
"use strict";var strong=_dereq_("./$.collection-strong");_dereq_("./$.collection")("Set",{add:function(r){return strong.def(this,r=0===r?0:r,r)}},strong);
},{"./$.collection":27,"./$.collection-strong":25}],53:[function(_dereq_,module,exports){
var set=_dereq_("./$").set,at=_dereq_("./$.string-at")(!0),ITER=_dereq_("./$.uid").safe("iter"),$iter=_dereq_("./$.iter"),step=$iter.step;_dereq_("./$.iter-define")(String,"String",function(e){set(this,ITER,{o:String(e),i:0})},function(){var e,t=this[ITER],i=t.o,r=t.i;return r>=i.length?step(1):(e=at.call(i,r),t.i+=e.length,step(0,e))});
},{"./$":38,"./$.iter":37,"./$.iter-define":35,"./$.string-at":41,"./$.uid":43}],54:[function(_dereq_,module,exports){
_dereq_("./$.collection-to-json")("Map");
},{"./$.collection-to-json":26}],55:[function(_dereq_,module,exports){
_dereq_("./$.collection-to-json")("Set");
},{"./$.collection-to-json":26}],56:[function(_dereq_,module,exports){
_dereq_("./es6.array.iterator");var $=_dereq_("./$"),Iterators=_dereq_("./$.iter").Iterators,ITERATOR=_dereq_("./$.wks")("iterator"),ArrayValues=Iterators.Array,NodeList=$.g.NodeList;!$.FW||!NodeList||ITERATOR in NodeList.prototype||$.hide(NodeList.prototype,ITERATOR,ArrayValues),Iterators.NodeList=ArrayValues;
},{"./$":38,"./$.iter":37,"./$.wks":45,"./es6.array.iterator":46}],57:[function(_dereq_,module,exports){
"use strict";var _createClass=_dereq_("babel-runtime/helpers/create-class")["default"],_classCallCheck=_dereq_("babel-runtime/helpers/class-call-check")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var MicrokernelVersion=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"version",value:function(){return{major:0,minor:9,micro:15,date:20150425}}}]),e}();exports["default"]=MicrokernelVersion,module.exports=exports["default"];
},{"babel-runtime/helpers/class-call-check":10,"babel-runtime/helpers/create-class":11}],58:[function(_dereq_,module,exports){
"use strict";var _createClass=_dereq_("babel-runtime/helpers/create-class")["default"],_classCallCheck=_dereq_("babel-runtime/helpers/class-call-check")["default"],_Map=_dereq_("babel-runtime/core-js/map")["default"],_Set=_dereq_("babel-runtime/core-js/set")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var MicrokernelManifest=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"initializer",value:function(){this.cls2mod=new _Map,this.name2mod=new _Map,this.mod=new _Set,this.modOrder=null}},{key:"add",value:function(e){if("dead"!==this.state())throw new Error("microkernel is not in lowest state");var t=void 0;if("function"==typeof e)t=new e,this.cls2mod.has(e)||this.cls2mod.set(e,[]),this.cls2mod.get(e).push(t);else{if("object"!=typeof e)throw new Error("invalid module (neither function/class nor object)");t=e}if("object"!=typeof t.module)throw new Error('invalid module (no "module" object property)');if("string"!=typeof t.module.name)throw new Error('invalid module (no "module.name" string property)');if(this.name2mod.has(t.module.name))throw new Error("module of name "+t.module.name+" already added");return this.mod.add(t),this.name2mod.set(t.module.name,t),"function"==typeof t.kernel?t.kernel(this):null===t.kernel&&(t.kernel=this),this.publish("microkernel:add",t),this}},{key:"del",value:function(e){var t=this;if("dead"!==this.state())throw new Error("microkernel is not in lowest state");var o=void 0;if("function"==typeof e)return this.cls2mod.get(e).forEach(function(e){t.del(e)}),this.cls2mod["delete"](e),this;if("string"==typeof e)o=this.name2mod(e);else{if("object"!=typeof e)throw new Error("invalid module (neither function/class nor object nor name)");o=e}if(!this.mod.has(o))throw new Error("module not found");return this.publish("microkernel:del",o),"function"==typeof o.kernel?o.kernel(null):"object"==typeof o.kernel&&(o.kernel=null),this.name2mod["delete"](o.module.name),this.mod["delete"](o),this}},{key:"get",value:function(e){if(!this.name2mod.has(e))throw new Error("module not found");return this.name2mod.get(e)}}]),e}();exports["default"]=MicrokernelManifest,module.exports=exports["default"];
},{"babel-runtime/core-js/map":3,"babel-runtime/core-js/set":9,"babel-runtime/helpers/class-call-check":10,"babel-runtime/helpers/create-class":11}],59:[function(_dereq_,module,exports){
"use strict";var _createClass=_dereq_("babel-runtime/helpers/create-class")["default"],_classCallCheck=_dereq_("babel-runtime/helpers/class-call-check")["default"],_Promise=_dereq_("babel-runtime/core-js/promise")["default"],_interopRequireWildcard=_dereq_("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var _glob=_dereq_("glob"),_glob2=_interopRequireWildcard(_glob),MicrokernelLoader=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"exec",value:function(){for(var e=this,r=arguments.length,n=Array(r),t=0;r>t;t++)n[t]=arguments[t];return new _Promise(function(r,t){var l=_Promise.resolve();n.forEach(function(r){var n=null!==r.match(/[*?]/)?_glob2["default"].sync(r):[r];if(0===n.length)throw new Error("no files found");n.forEach(function(r){e.publish("microkernel:exec",r);var n=_dereq_(r);if("function"!=typeof n)throw new Error("file has not exported a function");l=l.then(function(){return n(e)})})}),l.then(function(){return r()},function(e){return t(e)})})}},{key:"load",value:function(){for(var e=this,r=arguments.length,n=Array(r),t=0;r>t;t++)n[t]=arguments[t];return n.forEach(function(r){var n=null!==r.match(/[*?]/)?_glob2["default"].sync(r):[r];n.forEach(function(r){e.publish("microkernel:load",r);var n=_dereq_(r);e.add(new n)})}),this}}]),e}();exports["default"]=MicrokernelLoader,module.exports=exports["default"];
},{"babel-runtime/core-js/promise":8,"babel-runtime/helpers/class-call-check":10,"babel-runtime/helpers/create-class":11,"babel-runtime/helpers/interop-require-wildcard":14,"glob":"glob"}],60:[function(_dereq_,module,exports){
"use strict";var _createClass=_dereq_("babel-runtime/helpers/create-class")["default"],_classCallCheck=_dereq_("babel-runtime/helpers/class-call-check")["default"],_Promise=_dereq_("babel-runtime/core-js/promise")["default"],_interopRequireWildcard=_dereq_("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var _GDO=_dereq_("gdo"),_GDO2=_interopRequireWildcard(_GDO),MicrokernelState=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"initializer",value:function(){this._state="dead",this._num2state=[],this._state2num={},this._groups=[],this.transitions([{state:"dead",enter:null,leave:null},{state:"booted",enter:"boot",leave:"shutdown"},{state:"latched",enter:"latch",leave:"unlatch"},{state:"configured",enter:"configure",leave:"reset"},{state:"prepared",enter:"prepare",leave:"release"},{state:"started",enter:"start",leave:"stop"}]),this.groups(["BOOT","BASE","RESOURCE","SERVICE","IDENT","USECASE"])}},{key:"transitions",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=this;this._num2state=e;var r=0;return e.forEach(function(e){t._state2num[e.state]=r++}),this})},{key:"groups",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return this._groups=e,this})},{key:"state",value:function(e){var t=this,r=this._state;if("string"!=typeof e)return r;if(e===r)return _Promise.resolve(e);if(void 0===this._state2num[e])throw new Error("state: invalid new state: "+e);null===this.modOrder&&!function(){var e=new _GDO2["default"];e.groups(t._groups),t.mod.forEach(function(t){e.element(t.module)}),t._modOrder=e.order(),t.publish("microkernel:state:toposort",t._modOrder,t.mod)}();var n=new _Promise(function(n,a){var s=t._state2num[r],i=t._state2num[e],u=_Promise.resolve(),o=function(e,r,n,a){u=u.then(function(){t.publish("microkernel:state:transit:"+e,t._num2state[r].state,t._num2state[n].state,a)})},l=function(e,r,n,a,s){var i=t._modOrder;a&&(i=i.reverse());for(var l=function(){var r=t._num2state["enter"===n?e+1:e][n];o("before",e,e+s,r),i.forEach(function(e){var n=t.name2mod.get(e);"function"==typeof n[r]&&(u=u.then(function(){return n[r].call(n,t)}))}),e+=s,t._state=t._num2state[e].state,o("after",e-s,e,r)};e!==r;)l()};i>s?l(s,i,"enter",!1,1):s>i&&l(s,i,"leave",!0,-1),u.then(function(){n(e)},function(e){a(e)})});return n=n.then(function(e){return"dead"===e&&(t._modOrder=null),e})}}]),e}();exports["default"]=MicrokernelState,module.exports=exports["default"];
},{"babel-runtime/core-js/promise":8,"babel-runtime/helpers/class-call-check":10,"babel-runtime/helpers/create-class":11,"babel-runtime/helpers/interop-require-wildcard":14,"gdo":"gdo"}],61:[function(_dereq_,module,exports){
"use strict";var _createClass=_dereq_("babel-runtime/helpers/create-class")["default"],_classCallCheck=_dereq_("babel-runtime/helpers/class-call-check")["default"],_Set=_dereq_("babel-runtime/core-js/set")["default"],_Object$assign=_dereq_("babel-runtime/core-js/object/assign")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var hookProc={none:{init:void 0,step:function(){}},pass:{init:function(t){return t[0]},step:function(t,e){return e}},or:{init:!1,step:function(t,e){return t||e}},and:{init:!0,step:function(t,e){return t&&e}},mult:{init:1,step:function(t,e){return t*e}},add:{init:0,step:function(t,e){return t+e}},append:{init:"",step:function(t,e){return t+e}},push:{init:[],step:function(t,e){return t.push(e),t}},concat:{init:[],step:function(t,e){return t.concat(e)}},set:{init:{},step:function(t,e){return t[e]=!0,t}},insert:{init:new _Set,step:function(t,e){return t.add(e)}},assign:{init:{},step:function(t,e){return _Object$assign(t,e)}}},cnt=0,MicrokernelHook=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"initializer",value:function(){this._hooks={}}},{key:"at",value:function(){return this.latch.apply(this,arguments)}},{key:"latch",value:function(t,e,n){if(arguments.length<2)throw new Error("latch: missing arguments");"undefined"==typeof this._hooks[t]&&(this._hooks[t]=[]);var r=cnt++;return this._hooks[t].push({id:r,cb:e,ctx:n}),r}},{key:"unlatch",value:function(t,e){if(2!==arguments.length)throw new Error("unlatch: invalid number of arguments");if("undefined"==typeof this._hooks[t])throw new Error("unlatch: no such hook: "+t);for(var n=-1,r=0;r<this._hooks[t].length;r++)if(this._hooks[t][r].id===e){n=r;break}if(-1===n)throw new Error("unlatch: no such latched callback");return this._hooks[t]=this._hooks[t].splice(n,1),this}},{key:"hook",value:function(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;n>o;o++)r[o-2]=arguments[o];if(arguments.length<2)throw new Error("hook: missing argument");if("undefined"==typeof hookProc[e])throw new Error("hook: no such result processing defined");var i=hookProc[e].init;return"function"==typeof i&&(i=i.call(null,r)),"undefined"!=typeof this._hooks[t]&&this._hooks[t].forEach(function(t){var n=t.cb.apply(t.ctx,r.concat([i]));i=hookProc[e].step.call(null,i,n)}),i}}]),t}();exports["default"]=MicrokernelHook,module.exports=exports["default"];
},{"babel-runtime/core-js/object/assign":4,"babel-runtime/core-js/set":9,"babel-runtime/helpers/class-call-check":10,"babel-runtime/helpers/create-class":11}],62:[function(_dereq_,module,exports){
"use strict";var _createClass=_dereq_("babel-runtime/helpers/create-class")["default"],_classCallCheck=_dereq_("babel-runtime/helpers/class-call-check")["default"],_Promise=_dereq_("babel-runtime/core-js/promise")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var cnt=0,MicrokernelEvent=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"initializer",value:function(){this._subscription={}}},{key:"on",value:function(){return this.subscribe.apply(this,arguments)}},{key:"subscribe",value:function(e,r,s){if(arguments.length<2)throw new Error("subscribe: missing arguments");var i=cnt++;return void 0===this._subscription[e]&&(this._subscription[e]=[]),this._subscription[e].push({id:i,cb:r,ctx:s}),i}},{key:"unsubscribe",value:function(e,r){if(2!==arguments.length)throw new Error("unsubscribe: invalid number of arguments");for(var s=-1,i=0;i<this._subscription[e].length;i++)if(this._subscription[e][i].id===r){s=i;break}if(-1===s)throw new Error("unsubscribe: no such subscription");this._subscription[e]=this._subscription[e].splice(s,1)}},{key:"publish",value:function(e){for(var r=arguments.length,s=Array(r>1?r-1:0),i=1;r>i;i++)s[i-1]=arguments[i];if(arguments.length<1)throw new Error("publish: missing argument");if(void 0===this._subscription[e])return _Promise.resolve();var t=[];return this._subscription[e].forEach(function(e){t.push(new _Promise(function(r){setTimeout(function(){r(e.cb.apply(e.ctx,s))},0)}))}),_Promise.all(t)}}]),e}();exports["default"]=MicrokernelEvent,module.exports=exports["default"];
},{"babel-runtime/core-js/promise":8,"babel-runtime/helpers/class-call-check":10,"babel-runtime/helpers/create-class":11}],63:[function(_dereq_,module,exports){
"use strict";var _createClass=_dereq_("babel-runtime/helpers/create-class")["default"],_classCallCheck=_dereq_("babel-runtime/helpers/class-call-check")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var MicrokernelService=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"initializer",value:function(){this._registration={}}},{key:"sv",value:function(){return this.service.apply(this,arguments)}},{key:"register",value:function(e,r,t){if(arguments.length<2)throw new Error("register: missing arguments");return void 0===this._registration[e]&&(this._registration[e]=[]),this._registration[e].push({cb:r,ctx:t}),this}},{key:"unregister",value:function(e){if(1!==arguments.length)throw new Error("unregister: invalid number of arguments");if(void 0===this._registration[e])throw new Error("unregister: no such registration");return this._registration[e].pop(),0===this._registration[e].length&&delete this._registration[e],this}},{key:"service",value:function(e){for(var r=arguments.length,t=Array(r>1?r-1:0),i=1;r>i;i++)t[i-1]=arguments[i];if(arguments.length<1)throw new Error("service: missing argument");if(void 0===this._registration[e])throw new Error("service: no such service registered: "+e);var s=this._registration[e][0];return s.cb.apply(s.ctx,t)}}]),e}();exports["default"]=MicrokernelService,module.exports=exports["default"];
},{"babel-runtime/helpers/class-call-check":10,"babel-runtime/helpers/create-class":11}],64:[function(_dereq_,module,exports){
"use strict";var _createClass=_dereq_("babel-runtime/helpers/create-class")["default"],_classCallCheck=_dereq_("babel-runtime/helpers/class-call-check")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var MicrokernelResource=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"initializer",value:function(){this._resource={}}},{key:"rs",value:function(){return this.resource.apply(this,arguments)}},{key:"resource",value:function(e,r){if(arguments.length>2)throw new Error("resource: invalid number of arguments");return 2===arguments.length&&(this._resource[e]=r),this._resource[e]}}]),e}();exports["default"]=MicrokernelResource,module.exports=exports["default"];
},{"babel-runtime/helpers/class-call-check":10,"babel-runtime/helpers/create-class":11}],65:[function(_dereq_,module,exports){
"use strict";var _inherits=_dereq_("babel-runtime/helpers/inherits")["default"],_get=_dereq_("babel-runtime/helpers/get")["default"],_classCallCheck=_dereq_("babel-runtime/helpers/class-call-check")["default"],_interopRequireWildcard=_dereq_("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var _aggregation2=_dereq_("aggregation/es6"),_aggregation3=_interopRequireWildcard(_aggregation2),_Version=_dereq_("./microkernel-1-version"),_Version2=_interopRequireWildcard(_Version),_Manifest=_dereq_("./microkernel-2-manifest"),_Manifest2=_interopRequireWildcard(_Manifest),_Loader=_dereq_("./microkernel-3-loader"),_Loader2=_interopRequireWildcard(_Loader),_State=_dereq_("./microkernel-4-state"),_State2=_interopRequireWildcard(_State),_Hook=_dereq_("./microkernel-5-hook"),_Hook2=_interopRequireWildcard(_Hook),_Event=_dereq_("./microkernel-6-event"),_Event2=_interopRequireWildcard(_Event),_Service=_dereq_("./microkernel-7-service"),_Service2=_interopRequireWildcard(_Service),_Resource=_dereq_("./microkernel-8-resource"),_Resource2=_interopRequireWildcard(_Resource),Microkernel=function(e){function r(){_classCallCheck(this,r),_get(Object.getPrototypeOf(r.prototype),"constructor",this).call(this)}return _inherits(r,e),r}(_aggregation3["default"](_Version2["default"],_Manifest2["default"],_Loader2["default"],_State2["default"],_Hook2["default"],_Event2["default"],_Service2["default"],_Resource2["default"]));exports["default"]=Microkernel,module.exports=exports["default"];
},{"./microkernel-1-version":57,"./microkernel-2-manifest":58,"./microkernel-3-loader":59,"./microkernel-4-state":60,"./microkernel-5-hook":61,"./microkernel-6-event":62,"./microkernel-7-service":63,"./microkernel-8-resource":64,"aggregation/es6":1,"babel-runtime/helpers/class-call-check":10,"babel-runtime/helpers/get":12,"babel-runtime/helpers/inherits":13,"babel-runtime/helpers/interop-require-wildcard":14}]},{},[65])(65)
});


//# sourceMappingURL=microkernel.map