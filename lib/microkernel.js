/*
**  Microkernel -- Microkernel for Server Applications
**  Copyright (c) 2015 Ralf S. Engelschall <rse@engelschall.com>
**
**  Permission is hereby granted, free of charge, to any person obtaining
**  a copy of this software and associated documentation files (the
**  "Software"), to deal in the Software without restriction, including
**  without limitation the rights to use, copy, modify, merge, publish,
**  distribute, sublicense, and/or sell copies of the Software, and to
**  permit persons to whom the Software is furnished to do so, subject to
**  the following conditions:
**
**  The above copyright notice and this permission notice shall be included
**  in all copies or substantial portions of the Software.
**
**  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/

(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Microkernel = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){
"use strict";module.exports=_dereq_("./src/aggregation-es6.js");
},{"./src/aggregation-es6.js":2}],2:[function(_dereq_,module,exports){
"use strict";var _classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},_get=function t(e,r,o){var n=Object.getOwnPropertyDescriptor(e,r);if(void 0===n){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,r,o)}if("value"in n)return n.value;var i=n.get;return void 0===i?void 0:i.call(o)},_inherits=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)};Object.defineProperty(exports,"__esModule",{value:!0});var aggregation=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),o=1;e>o;o++)r[o-1]=arguments[o];var n=function(t){function e(){for(var t=this,o=arguments.length,n=Array(o),a=0;o>a;a++)n[a]=arguments[a];_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,n),r.forEach(function(e){"function"==typeof e.prototype.initializer&&e.prototype.initializer.call(t)})}return _inherits(e,t),e}(t),a=function(t,e){Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)).forEach(function(r){r.match(/^(?:initializer|constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)||Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})};return r.forEach(function(t){a(n.prototype,t.prototype),a(n,t)}),n};exports["default"]=aggregation,module.exports=exports["default"];
},{}],3:[function(_dereq_,module,exports){
module.exports={"default":_dereq_("core-js/library"),__esModule:!0};
},{"core-js/library":10}],4:[function(_dereq_,module,exports){
"use strict";exports["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},exports.__esModule=!0;
},{}],5:[function(_dereq_,module,exports){
"use strict";var _core=_dereq_("babel-runtime/core-js")["default"];exports["default"]=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),_core.Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),exports.__esModule=!0;
},{"babel-runtime/core-js":3}],6:[function(_dereq_,module,exports){
"use strict";var _core=_dereq_("babel-runtime/core-js")["default"];exports["default"]=function(e,r,t){for(var o=!0;o;){a=l=c=void 0,o=!1;var i=e,u=r,v=t,a=_core.Object.getOwnPropertyDescriptor(i,u);if(void 0!==a){if("value"in a)return a.value;var c=a.get;return void 0===c?void 0:c.call(v)}var l=_core.Object.getPrototypeOf(i);if(null===l)return void 0;e=l,r=u,t=v,o=!0}},exports.__esModule=!0;
},{"babel-runtime/core-js":3}],7:[function(_dereq_,module,exports){
"use strict";var _core=_dereq_("babel-runtime/core-js")["default"];exports["default"]=function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=_core.Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(e.__proto__=r)},exports.__esModule=!0;
},{"babel-runtime/core-js":3}],8:[function(_dereq_,module,exports){
"use strict";exports["default"]=function(e){return e&&e.__esModule?e:{"default":e}},exports.__esModule=!0;
},{}],9:[function(_dereq_,module,exports){
"use strict";var _core=_dereq_("babel-runtime/core-js")["default"];exports["default"]=function(r,e){if(_core.Array.isArray(r))return r;if(_core.isIterable(Object(r))){var t=[],a=!0,n=!1,o=void 0;try{for(var i,u=_core.getIterator(r);!(a=(i=u.next()).done)&&(t.push(i.value),!e||t.length!==e);a=!0);}catch(l){n=!0,o=l}finally{try{!a&&u["return"]&&u["return"]()}finally{if(n)throw o}}return t}throw new TypeError("Invalid attempt to destructure non-iterable instance")},exports.__esModule=!0;
},{"babel-runtime/core-js":3}],10:[function(_dereq_,module,exports){
_dereq_("./shim"),_dereq_("./modules/core.dict"),_dereq_("./modules/core.iter-helpers"),_dereq_("./modules/core.$for"),_dereq_("./modules/core.delay"),_dereq_("./modules/core.binding"),_dereq_("./modules/core.object"),_dereq_("./modules/core.array.turn"),_dereq_("./modules/core.number.iterator"),_dereq_("./modules/core.number.math"),_dereq_("./modules/core.string.escape-html"),_dereq_("./modules/core.date"),_dereq_("./modules/core.global"),_dereq_("./modules/core.log"),module.exports=_dereq_("./modules/$").core;
},{"./modules/$":24,"./modules/core.$for":36,"./modules/core.array.turn":37,"./modules/core.binding":38,"./modules/core.date":39,"./modules/core.delay":40,"./modules/core.dict":41,"./modules/core.global":42,"./modules/core.iter-helpers":43,"./modules/core.log":44,"./modules/core.number.iterator":45,"./modules/core.number.math":46,"./modules/core.object":47,"./modules/core.string.escape-html":48,"./shim":92}],11:[function(_dereq_,module,exports){
"use strict";var $=_dereq_("./$");module.exports=function(r){return function(t){var e,n=$.toObject(this),u=$.toLength(n.length),i=$.toIndex(arguments[1],u);if(r&&t!=t){for(;u>i;)if(e=n[i++],e!=e)return!0}else for(;u>i;i++)if((r||i in n)&&n[i]===t)return r||i;return!r&&-1}};
},{"./$":24}],12:[function(_dereq_,module,exports){
"use strict";var $=_dereq_("./$"),ctx=_dereq_("./$.ctx");module.exports=function(e){var r=1==e,t=2==e,n=3==e,s=4==e,i=6==e,u=5==e||i;return function(c){for(var a,f,o=Object($.assertDefined(this)),h=$.ES5Object(o),l=ctx(c,arguments[1],3),v=$.toLength(h.length),x=0,d=r?Array(v):t?[]:void 0;v>x;x++)if((u||x in h)&&(a=h[x],f=l(a,x,o),e))if(r)d[x]=f;else if(f)switch(e){case 3:return!0;case 5:return a;case 6:return x;case 2:d.push(a)}else if(s)return!1;return i?-1:n||s?s:d}};
},{"./$":24,"./$.ctx":19}],13:[function(_dereq_,module,exports){
function assert(r,t,e){if(!r)throw TypeError(e?t+e:t)}var $=_dereq_("./$");assert.def=$.assertDefined,assert.fn=function(r){if(!$.isFunction(r))throw TypeError(r+" is not a function!");return r},assert.obj=function(r){if(!$.isObject(r))throw TypeError(r+" is not an object!");return r},assert.inst=function(r,t,e){if(!(r instanceof t))throw TypeError(e+": use the 'new' operator!");return r},module.exports=assert;
},{"./$":24}],14:[function(_dereq_,module,exports){
var $=_dereq_("./$");module.exports=Object.assign||function(e,r){for(var t=Object($.assertDefined(e)),n=arguments.length,s=1;n>s;)for(var a,g=$.ES5Object(arguments[s++]),u=$.getKeys(g),o=u.length,c=0;o>c;)t[a=u[c++]]=g[a];return t};
},{"./$":24}],15:[function(_dereq_,module,exports){
function cof(o){return toString.call(o).slice(8,-1)}var $=_dereq_("./$"),TAG=_dereq_("./$.wks")("toStringTag"),toString={}.toString;cof.classof=function(o){var t,r;return void 0==o?void 0===o?"Undefined":"Null":"string"==typeof(r=(t=Object(o))[TAG])?r:cof(t)},cof.set=function(o,t,r){o&&!$.has(o=r?o:o.prototype,TAG)&&$.hide(o,TAG,t)},module.exports=cof;
},{"./$":24,"./$.wks":35}],16:[function(_dereq_,module,exports){
"use strict";function fastKey(e,t){if(!isObject(e))return("string"==typeof e?"S":"P")+e;if(isFrozen(e))return"F";if(!has(e,ID)){if(!t)return"E";hide(e,ID,++id)}return"O"+e[ID]}function getEntry(e,t){var r,i=fastKey(t);if("F"!=i)return e[O1][i];for(r=e[FIRST];r;r=r.n)if(r.k==t)return r}var $=_dereq_("./$"),ctx=_dereq_("./$.ctx"),safe=_dereq_("./$.uid").safe,assert=_dereq_("./$.assert"),$iter=_dereq_("./$.iter"),has=$.has,set=$.set,isObject=$.isObject,hide=$.hide,step=$iter.step,isFrozen=Object.isFrozen||$.core.Object.isFrozen,ID=safe("id"),O1=safe("O1"),LAST=safe("last"),FIRST=safe("first"),ITER=safe("iter"),SIZE=$.DESC?safe("size"):"size",id=0;module.exports={getConstructor:function(e,t,r){function i(s){var n=assert.inst(this,i,e);set(n,O1,$.create(null)),set(n,SIZE,0),set(n,LAST,void 0),set(n,FIRST,void 0),void 0!=s&&$iter.forOf(s,t,n[r],n)}return $.mix(i.prototype,{clear:function(){for(var e=this,t=e[O1],r=e[FIRST];r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete t[r.i];e[FIRST]=e[LAST]=void 0,e[SIZE]=0},"delete":function(e){var t=this,r=getEntry(t,e);if(r){var i=r.n,s=r.p;delete t[O1][r.i],r.r=!0,s&&(s.n=i),i&&(i.p=s),t[FIRST]==r&&(t[FIRST]=i),t[LAST]==r&&(t[LAST]=s),t[SIZE]--}return!!r},forEach:function(e){for(var t,r=ctx(e,arguments[1],3);t=t?t.n:this[FIRST];)for(r(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!getEntry(this,e)}}),$.DESC&&$.setDesc(i.prototype,"size",{get:function(){return assert.def(this[SIZE])}}),i},def:function(e,t,r){var i,s,n=getEntry(e,t);return n?n.v=r:(e[LAST]=n={i:s=fastKey(t,!0),k:t,v:r,p:i=e[LAST],n:void 0,r:!1},e[FIRST]||(e[FIRST]=n),i&&(i.n=n),e[SIZE]++,"F"!=s&&(e[O1][s]=n)),e},getEntry:getEntry,getIterConstructor:function(){return function(e,t){set(this,ITER,{o:e,k:t})}},next:function(){for(var e=this[ITER],t=e.k,r=e.l;r&&r.r;)r=r.p;return e.o&&(e.l=r=r?r.n:e.o[FIRST])?"key"==t?step(0,r.k):"value"==t?step(0,r.v):step(0,[r.k,r.v]):(e.o=void 0,step(1))}};
},{"./$":24,"./$.assert":13,"./$.ctx":19,"./$.iter":23,"./$.uid":33}],17:[function(_dereq_,module,exports){
"use strict";function findFrozen(e,r){return find.call(e.array,function(e){return e[0]===r})}function leakStore(e){return e[LEAK]||hide(e,LEAK,{array:[],get:function(e){var r=findFrozen(this,e);return r?r[1]:void 0},has:function(e){return!!findFrozen(this,e)},set:function(e,r){var t=findFrozen(this,e);t?t[1]=r:this.array.push([e,r])},"delete":function(e){var r=findIndex.call(this.array,function(r){return r[0]===e});return~r&&this.array.splice(r,1),!!~r}})[LEAK]}var $=_dereq_("./$"),safe=_dereq_("./$.uid").safe,assert=_dereq_("./$.assert"),forOf=_dereq_("./$.iter").forOf,has=$.has,isObject=$.isObject,hide=$.hide,isFrozen=Object.isFrozen||$.core.Object.isFrozen,id=0,ID=safe("id"),WEAK=safe("weak"),LEAK=safe("leak"),method=_dereq_("./$.array-methods"),find=method(5),findIndex=method(6);module.exports={getConstructor:function(e,r,t){function i(n){$.set(assert.inst(this,i,e),ID,id++),void 0!=n&&forOf(n,r,this[t],this)}return $.mix(i.prototype,{"delete":function(e){return isObject(e)?isFrozen(e)?leakStore(this)["delete"](e):has(e,WEAK)&&has(e[WEAK],this[ID])&&delete e[WEAK][this[ID]]:!1},has:function(e){return isObject(e)?isFrozen(e)?leakStore(this).has(e):has(e,WEAK)&&has(e[WEAK],this[ID]):!1}}),i},def:function(e,r,t){return isFrozen(assert.obj(r))?leakStore(e).set(r,t):(has(r,WEAK)||hide(r,WEAK,{}),r[WEAK][e[ID]]=t),e},leakStore:leakStore,WEAK:WEAK,ID:ID};
},{"./$":24,"./$.array-methods":12,"./$.assert":13,"./$.iter":23,"./$.uid":33}],18:[function(_dereq_,module,exports){
"use strict";var $=_dereq_("./$"),$def=_dereq_("./$.def"),$iter=_dereq_("./$.iter"),assertInstance=_dereq_("./$.assert").inst;module.exports=function(e,t,r,i,n){function s(e,t){var r=c[e];$.FW&&(c[e]=function(e,i){var n=r.call(this,0===e?0:e,i);return t?this:n})}var o=$.g[e],u=o,a=i?"set":"add",c=u&&u.prototype,f={};if($.isFunction(u)&&(n||!$iter.BUGGY&&c.forEach&&c.entries)){var d,v=new u,l=v[a](n?{}:-0,1);($iter.fail(function(e){new u(e)})||$iter.DANGER_CLOSING)&&(u=function(t){assertInstance(this,u,e);var r=new o;return void 0!=t&&$iter.forOf(t,i,r[a],r),r},u.prototype=c,$.FW&&(c.constructor=u)),n||v.forEach(function(e,t){d=1/t===-(1/0)}),d&&(s("delete"),s("has"),i&&s("get")),(d||l!==v)&&s(a,!0)}else u=r.getConstructor(e,i,a),$.mix(u.prototype,t);return _dereq_("./$.cof").set(u,e),_dereq_("./$.species")(u),f[e]=u,$def($def.G+$def.W+$def.F*(u!=o),f),n||$iter.std(u,e,r.getIterConstructor(),r.next,i?"key+value":"value",!i,!0),u};
},{"./$":24,"./$.assert":13,"./$.cof":15,"./$.def":20,"./$.iter":23,"./$.species":30}],19:[function(_dereq_,module,exports){
var assertFunction=_dereq_("./$.assert").fn;module.exports=function(r,n,t){if(assertFunction(r),~t&&void 0===n)return r;switch(t){case 1:return function(t){return r.call(n,t)};case 2:return function(t,e){return r.call(n,t,e)};case 3:return function(t,e,u){return r.call(n,t,e,u)}}return function(){return r.apply(n,arguments)}};
},{"./$.assert":13}],20:[function(_dereq_,module,exports){
function ctx(e,n){return function(){return e.apply(n,arguments)}}function $def(e,n,o){var t,f,i,r,c=e&$def.G,d=c?global:e&$def.S?global[n]:(global[n]||{}).prototype,u=c?core:core[n]||(core[n]={});c&&(o=n);for(t in o)f=!(e&$def.F)&&d&&t in d,f&&t in u||(i=f?d[t]:o[t],c&&!isFunction(d[t])?r=o[t]:e&$def.B&&f?r=ctx(i,global):e&$def.W&&d[t]==i?!function(e){r=function(n){return this instanceof e?new e(n):e(n)},r.prototype=e.prototype}(i):r=e&$def.P&&isFunction(i)?ctx(Function.call,i):i,$.hide(u,t,r))}var $=_dereq_("./$"),global=$.g,core=$.core,isFunction=$.isFunction;$def.F=1,$def.G=2,$def.S=4,$def.P=8,$def.B=16,$def.W=32,module.exports=$def;
},{"./$":24}],21:[function(_dereq_,module,exports){
module.exports=function(e){return e.FW=!1,e.path=e.core,e};
},{}],22:[function(_dereq_,module,exports){
module.exports=function(e,r,l){var a=void 0===l;switch(r.length){case 0:return a?e():e.call(l);case 1:return a?e(r[0]):e.call(l,r[0]);case 2:return a?e(r[0],r[1]):e.call(l,r[0],r[1]);case 3:return a?e(r[0],r[1],r[2]):e.call(l,r[0],r[1],r[2]);case 4:return a?e(r[0],r[1],r[2],r[3]):e.call(l,r[0],r[1],r[2],r[3]);case 5:return a?e(r[0],r[1],r[2],r[3],r[4]):e.call(l,r[0],r[1],r[2],r[3],r[4])}return e.apply(l,r)};
},{}],23:[function(_dereq_,module,exports){
"use strict";function setIterator(t,e){$.hide(t,SYMBOL_ITERATOR,e),FF_ITERATOR in[]&&$.hide(t,FF_ITERATOR,e)}function defineIterator(t,e,r,o){var a=t.prototype,n=a[SYMBOL_ITERATOR]||a[FF_ITERATOR]||o&&a[o]||r;if($.FW&&setIterator(a,n),n!==r){var s=$.getProto(n.call(new t));cof.set(s,e+" Iterator",!0),$.FW&&$.has(a,FF_ITERATOR)&&setIterator(s,$.that)}return Iterators[e]=n,Iterators[e+" Iterator"]=$.that,n}function getIterator(t){var e=$.g.Symbol,r=t[e&&e.iterator||FF_ITERATOR],o=r||t[SYMBOL_ITERATOR]||Iterators[cof.classof(t)];return assertObject(o.call(t))}function closeIterator(t){var e=t["return"];void 0!==e&&assertObject(e.call(t))}function stepCall(t,e,r,o){try{return o?e(assertObject(r)[0],r[1]):e(r)}catch(a){throw closeIterator(t),a}}var $=_dereq_("./$"),ctx=_dereq_("./$.ctx"),cof=_dereq_("./$.cof"),$def=_dereq_("./$.def"),assertObject=_dereq_("./$.assert").obj,SYMBOL_ITERATOR=_dereq_("./$.wks")("iterator"),FF_ITERATOR="@@iterator",Iterators={},IteratorPrototype={},BUGGY="keys"in[]&&!("next"in[].keys());setIterator(IteratorPrototype,$.that);var DANGER_CLOSING=!0;!function(){try{var t=[1].keys();t["return"]=function(){DANGER_CLOSING=!1},Array.from(t,function(){throw 2})}catch(e){}}();var $iter=module.exports={BUGGY:BUGGY,DANGER_CLOSING:DANGER_CLOSING,fail:function(t){var e=!0;try{var r=[[{},1]],o=r[SYMBOL_ITERATOR](),a=o.next;o.next=function(){return e=!1,a.call(this)},r[SYMBOL_ITERATOR]=function(){return o},t(r)}catch(n){}return e},Iterators:Iterators,prototype:IteratorPrototype,step:function(t,e){return{value:e,done:!!t}},stepCall:stepCall,close:closeIterator,is:function(t){var e=Object(t),r=$.g.Symbol,o=r&&r.iterator||FF_ITERATOR;return o in e||SYMBOL_ITERATOR in e||$.has(Iterators,cof.classof(e))},get:getIterator,set:setIterator,create:function(t,e,r,o){t.prototype=$.create(o||$iter.prototype,{next:$.desc(1,r)}),cof.set(t,e+" Iterator")},define:defineIterator,std:function(t,e,r,o,a,n,s){function i(t){return function(){return new r(this,t)}}$iter.create(r,e,o);var c,I,u=i("key+value"),f=i("value"),l=t.prototype;if("value"==a?f=defineIterator(t,e,f,"values"):u=defineIterator(t,e,u,"entries"),a&&(c={entries:u,keys:n?f:i("key"),values:f},$def($def.P+$def.F*BUGGY,e,c),s))for(I in c)I in l||$.hide(l,I,c[I])},forOf:function(t,e,r,o){for(var a,n=getIterator(t),s=ctx(r,o,e?2:1);!(a=n.next()).done;)if(stepCall(n,s,a.value,e)===!1)return closeIterator(n)}};
},{"./$":24,"./$.assert":13,"./$.cof":15,"./$.ctx":19,"./$.def":20,"./$.wks":35}],24:[function(_dereq_,module,exports){
"use strict";function toInteger(e){return isNaN(e=+e)?0:(e>0?floor:ceil)(e)}function desc(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function simpleSet(e,t,n){return e[t]=n,e}function createDefiner(e){return DESC?function(t,n,r){return $.setDesc(t,n,desc(e,r))}:simpleSet}function isObject(e){return null!==e&&("object"==typeof e||"function"==typeof e)}function isFunction(e){return"function"==typeof e}function assertDefined(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}var global="undefined"!=typeof self?self:Function("return this")(),core={},defineProperty=Object.defineProperty,hasOwnProperty={}.hasOwnProperty,ceil=Math.ceil,floor=Math.floor,max=Math.max,min=Math.min,DESC=!!function(){try{return 2==defineProperty({},"a",{get:function(){return 2}}).a}catch(e){}}(),hide=createDefiner(1),$=module.exports=_dereq_("./$.fw")({g:global,core:core,html:global.document&&document.documentElement,isObject:isObject,isFunction:isFunction,it:function(e){return e},that:function(){return this},toInteger:toInteger,toLength:function(e){return e>0?min(toInteger(e),9007199254740991):0},toIndex:function(e,t){return e=toInteger(e),0>e?max(e+t,0):min(e,t)},has:function(e,t){return hasOwnProperty.call(e,t)},create:Object.create,getProto:Object.getPrototypeOf,DESC:DESC,desc:desc,getDesc:Object.getOwnPropertyDescriptor,setDesc:defineProperty,getKeys:Object.keys,getNames:Object.getOwnPropertyNames,getSymbols:Object.getOwnPropertySymbols,assertDefined:assertDefined,ES5Object:Object,toObject:function(e){return $.ES5Object(assertDefined(e))},hide:hide,def:createDefiner(0),set:global.Symbol?simpleSet:hide,mix:function(e,t){for(var n in t)hide(e,n,t[n]);return e},each:[].forEach});"undefined"!=typeof __e&&(__e=core),"undefined"!=typeof __g&&(__g=global);
},{"./$.fw":21}],25:[function(_dereq_,module,exports){
var $=_dereq_("./$");module.exports=function(e,r){for(var t,o=$.toObject(e),n=$.getKeys(o),u=n.length,f=0;u>f;)if(o[t=n[f++]]===r)return t};
},{"./$":24}],26:[function(_dereq_,module,exports){
var $=_dereq_("./$"),assertObject=_dereq_("./$.assert").obj;module.exports=function(e){return assertObject(e),$.getSymbols?$.getNames(e).concat($.getSymbols(e)):$.getNames(e)};
},{"./$":24,"./$.assert":13}],27:[function(_dereq_,module,exports){
"use strict";var $=_dereq_("./$"),invoke=_dereq_("./$.invoke"),assertFunction=_dereq_("./$.assert").fn;module.exports=function(){for(var r=assertFunction(this),e=arguments.length,n=Array(e),t=0,s=$.path._,u=!1;e>t;)(n[t]=arguments[t++])===s&&(u=!0);return function(){var t,i=this,a=arguments.length,o=0,f=0;if(!u&&!a)return invoke(r,n,i);if(t=n.slice(),u)for(;e>o;o++)t[o]===s&&(t[o]=arguments[f++]);for(;a>f;)t.push(arguments[f++]);return invoke(r,t,i)}};
},{"./$":24,"./$.assert":13,"./$.invoke":22}],28:[function(_dereq_,module,exports){
"use strict";module.exports=function(t,r,n){var e=r===Object(r)?function(t){return r[t]}:r;return function(r){return String(n?r:this).replace(t,e)}};
},{}],29:[function(_dereq_,module,exports){
var $=_dereq_("./$"),assert=_dereq_("./$.assert");module.exports=Object.setPrototypeOf||("__proto__"in{}?function(t,e){try{e=_dereq_("./$.ctx")(Function.call,$.getDesc(Object.prototype,"__proto__").set,2),e({},[])}catch(r){t=!0}return function(r,o){return assert.obj(r),assert(null===o||$.isObject(o),o,": can't set as prototype!"),t?r.__proto__=o:e(r,o),r}}():void 0);
},{"./$":24,"./$.assert":13,"./$.ctx":19}],30:[function(_dereq_,module,exports){
var $=_dereq_("./$");module.exports=function(e){$.DESC&&$.FW&&$.setDesc(e,_dereq_("./$.wks")("species"),{configurable:!0,get:$.that})};
},{"./$":24,"./$.wks":35}],31:[function(_dereq_,module,exports){
"use strict";var $=_dereq_("./$");module.exports=function(e){return function(r){var t,n,i=String($.assertDefined(this)),o=$.toInteger(r),c=i.length;return 0>o||o>=c?e?"":void 0:(t=i.charCodeAt(o),55296>t||t>56319||o+1===c||(n=i.charCodeAt(o+1))<56320||n>57343?e?i.charAt(o):t:e?i.slice(o,o+2):(t-55296<<10)+(n-56320)+65536)}};
},{"./$":24}],32:[function(_dereq_,module,exports){
"use strict";function run(){var e=+this;if($.has(queue,e)){var n=queue[e];delete queue[e],n()}}function listner(e){run.call(e.data)}var $=_dereq_("./$"),ctx=_dereq_("./$.ctx"),cof=_dereq_("./$.cof"),invoke=_dereq_("./$.invoke"),global=$.g,isFunction=$.isFunction,setTask=global.setImmediate,clearTask=global.clearImmediate,postMessage=global.postMessage,addEventListener=global.addEventListener,MessageChannel=global.MessageChannel,counter=0,queue={},ONREADYSTATECHANGE="onreadystatechange",defer,channel,port;isFunction(setTask)&&isFunction(clearTask)||(setTask=function(e){for(var n=[],t=1;arguments.length>t;)n.push(arguments[t++]);return queue[++counter]=function(){invoke(isFunction(e)?e:Function(e),n)},defer(counter),counter},clearTask=function(e){delete queue[e]},"process"==cof(global.process)?defer=function(e){global.process.nextTick(ctx(run,e,1))}:addEventListener&&isFunction(postMessage)&&!$.g.importScripts?(defer=function(e){postMessage(e,"*")},addEventListener("message",listner,!1)):isFunction(MessageChannel)?(channel=new MessageChannel,port=channel.port2,channel.port1.onmessage=listner,defer=ctx(port.postMessage,port,1)):defer=$.g.document&&ONREADYSTATECHANGE in document.createElement("script")?function(e){$.html.appendChild(document.createElement("script"))[ONREADYSTATECHANGE]=function(){$.html.removeChild(this),run.call(e)}}:function(e){setTimeout(ctx(run,e,1),0)}),module.exports={set:setTask,clear:clearTask};
},{"./$":24,"./$.cof":15,"./$.ctx":19,"./$.invoke":22}],33:[function(_dereq_,module,exports){
function uid(i){return"Symbol("+i+")_"+(++sid+Math.random()).toString(36)}var sid=0;uid.safe=_dereq_("./$").g.Symbol||uid,module.exports=uid;
},{"./$":24}],34:[function(_dereq_,module,exports){
var $=_dereq_("./$"),UNSCOPABLES=_dereq_("./$.wks")("unscopables");!$.FW||UNSCOPABLES in[]||$.hide(Array.prototype,UNSCOPABLES,{}),module.exports=function(e){$.FW&&([][UNSCOPABLES][e]=!0)};
},{"./$":24,"./$.wks":35}],35:[function(_dereq_,module,exports){
var global=_dereq_("./$").g,store={};module.exports=function(o){return store[o]||(store[o]=global.Symbol&&global.Symbol[o]||_dereq_("./$.uid").safe("Symbol."+o))};
},{"./$":24,"./$.uid":33}],36:[function(_dereq_,module,exports){
"use strict";function $for(t,r){return this instanceof $for?(this[ITER]=getIterator(t),void(this[ENTRIES]=!!r)):new $for(t,r)}function createChainIterator(t){function r(t,r,e){this[ITER]=getIterator(t),this[ENTRIES]=t[ENTRIES],this[FN]=ctx(r,e,t[ENTRIES]?2:1)}return createIterator(r,"Chain",t,$forProto),setIterator(r.prototype,$.that),r}var $=_dereq_("./$"),ctx=_dereq_("./$.ctx"),safe=_dereq_("./$.uid").safe,$def=_dereq_("./$.def"),$iter=_dereq_("./$.iter"),ENTRIES=safe("entries"),FN=safe("fn"),ITER=safe("iter"),forOf=$iter.forOf,stepCall=$iter.stepCall,getIterator=$iter.get,setIterator=$iter.set,createIterator=$iter.create;createIterator($for,"Wrapper",function(){return this[ITER].next()});var $forProto=$for.prototype;setIterator($forProto,function(){return this[ITER]});var MapIter=createChainIterator(function(){var t=this[ITER].next();return t.done?t:$iter.step(0,stepCall(this[ITER],this[FN],t.value,this[ENTRIES]))}),FilterIter=createChainIterator(function(){for(;;){var t=this[ITER].next();if(t.done||stepCall(this[ITER],this[FN],t.value,this[ENTRIES]))return t}});$.mix($forProto,{of:function(t,r){forOf(this,this[ENTRIES],t,r)},array:function(t,r){var e=[];return forOf(void 0!=t?this.map(t,r):this,!1,e.push,e),e},filter:function(t,r){return new FilterIter(this,t,r)},map:function(t,r){return new MapIter(this,t,r)}}),$for.isIterable=$iter.is,$for.getIterator=getIterator,$def($def.G+$def.F,{$for:$for});
},{"./$":24,"./$.ctx":19,"./$.def":20,"./$.iter":23,"./$.uid":33}],37:[function(_dereq_,module,exports){
"use strict";var $=_dereq_("./$"),$def=_dereq_("./$.def"),assertFunction=_dereq_("./$.assert").fn;$def($def.P+$def.F,"Array",{turn:function(e,r){assertFunction(e);for(var t=void 0==r?[]:Object(r),n=$.ES5Object(this),u=$.toLength(n.length),i=0;u>i&&e(t,n[i],i++,this)!==!1;);return t}}),_dereq_("./$.unscope")("turn");
},{"./$":24,"./$.assert":13,"./$.def":20,"./$.unscope":34}],38:[function(_dereq_,module,exports){
"use strict";function tie(t){var e=this,r={};return hide(e,_,function(t){return void 0!==t&&t in e?$.has(r,t)?r[t]:r[t]=ctx(e[t],e,-1):toLocaleString.call(e)})[_](t)}var $=_dereq_("./$"),ctx=_dereq_("./$.ctx"),$def=_dereq_("./$.def"),invoke=_dereq_("./$.invoke"),hide=$.hide,assertFunction=_dereq_("./$.assert").fn,_=$.DESC?_dereq_("./$.uid")("tie"):"toLocaleString",toLocaleString={}.toLocaleString;$.core._=$.path._=$.path._||{},$def($def.P+$def.F,"Function",{part:_dereq_("./$.partial"),only:function(t,e){var r=assertFunction(this),i=$.toLength(t),n=arguments.length>1;return function(){for(var t=Math.min(i,arguments.length),o=Array(t),a=0;t>a;)o[a]=arguments[a++];return invoke(r,o,n?e:this)}}}),hide($.path._,"toString",function(){return _}),hide(Object.prototype,_,tie),$.DESC||hide(Array.prototype,_,tie);
},{"./$":24,"./$.assert":13,"./$.ctx":19,"./$.def":20,"./$.invoke":22,"./$.partial":27,"./$.uid":33}],39:[function(_dereq_,module,exports){
function lz(e){return e>9?e:"0"+e}function createFormat(e){return function(r,a){function t(r){return n[e+r]()}var n=this,c=locales[$.has(locales,a)?a:current];return String(r).replace(formatRegExp,function(e){switch(e){case"s":return t(SECONDS);case"ss":return lz(t(SECONDS));case"m":return t(MINUTES);case"mm":return lz(t(MINUTES));case"h":return t(HOURS);case"hh":return lz(t(HOURS));case"D":return t(DATE);case"DD":return lz(t(DATE));case"W":return c[0][t("Day")];case"N":return t(MONTH)+1;case"NN":return lz(t(MONTH)+1);case"M":return c[2][t(MONTH)];case"MM":return c[1][t(MONTH)];case"Y":return t(YEAR);case"YY":return lz(t(YEAR)%100)}return e})}}function addLocale(e,r){function a(e){var a=[];return $.each.call(r.months.split(","),function(r){a.push(r.replace(flexioRegExp,"$"+e))}),a}return locales[e]=[r.weekdays.split(","),a(1),a(2)],core}var $=_dereq_("./$"),$def=_dereq_("./$.def"),core=$.core,formatRegExp=/\b\w\w?\b/g,flexioRegExp=/:(.*)\|(.*)$/,locales={},current="en",SECONDS="Seconds",MINUTES="Minutes",HOURS="Hours",DATE="Date",MONTH="Month",YEAR="FullYear";$def($def.P+$def.F,DATE,{format:createFormat("get"),formatUTC:createFormat("getUTC")}),addLocale(current,{weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",months:"January,February,March,April,May,June,July,August,September,October,November,December"}),addLocale("ru",{weekdays:"Воскресенье,Понедельник,Вторник,Среда,Четверг,Пятница,Суббота",months:"Январ:я|ь,Феврал:я|ь,Март:а|,Апрел:я|ь,Ма:я|й,Июн:я|ь,Июл:я|ь,Август:а|,Сентябр:я|ь,Октябр:я|ь,Ноябр:я|ь,Декабр:я|ь"}),core.locale=function(e){return $.has(locales,e)?current=e:current},core.addLocale=addLocale;
},{"./$":24,"./$.def":20}],40:[function(_dereq_,module,exports){
var $=_dereq_("./$"),$def=_dereq_("./$.def"),partial=_dereq_("./$.partial");$def($def.G+$def.F,{delay:function(e){return new($.core.Promise||$.g.Promise)(function(r){setTimeout(partial.call(r,!0),e)})}});
},{"./$":24,"./$.def":20,"./$.partial":27}],41:[function(_dereq_,module,exports){
function Dict(e){var t=$.create(null);return void 0!=e&&($iter.is(e)?$iter.forOf(e,!0,function(e,r){t[e]=r}):assign(t,e)),t}function DictIterator(e,t){$.set(this,ITER,{o:toObject(e),a:getKeys(e),i:0,k:t})}function createDictIter(e){return function(t){return new DictIterator(t,e)}}function generic(e,t){return"function"==typeof e?e:t}function createDictMethod(e){var t=1==e,r=4==e;return function(i,c,n){var a,o,s,u=ctx(c,n,3),f=toObject(i),d=t||7==e||2==e?new(generic(this,Dict)):void 0;for(a in f)if(has(f,a)&&(o=f[a],s=u(o,a,i),e))if(t)d[a]=s;else if(s)switch(e){case 2:d[a]=o;break;case 3:return!0;case 5:return o;case 6:return a;case 7:d[s[0]]=s[1]}else if(r)return!1;return 3==e||r?r:d}}function createDictReduce(e){return function(t,r,i){assert.fn(r);var c,n,a,o=toObject(t),s=getKeys(o),u=s.length,f=0;for(e?c=void 0==i?new(generic(this,Dict)):Object(i):arguments.length<3?(assert(u,"Reduce of empty object with no initial value"),c=o[s[f++]]):c=Object(i);u>f;)if(has(o,n=s[f++]))if(a=r(c,o[n],n,t),e){if(a===!1)break}else c=a;return c}}var $=_dereq_("./$"),ctx=_dereq_("./$.ctx"),$def=_dereq_("./$.def"),assign=_dereq_("./$.assign"),keyOf=_dereq_("./$.keyof"),ITER=_dereq_("./$.uid").safe("iter"),assert=_dereq_("./$.assert"),$iter=_dereq_("./$.iter"),step=$iter.step,getKeys=$.getKeys,toObject=$.toObject,has=$.has;Dict.prototype=null,$iter.create(DictIterator,"Dict",function(){var e,t=this[ITER],r=t.o,i=t.a,c=t.k;do if(t.i>=i.length)return t.o=void 0,step(1);while(!has(r,e=i[t.i++]));return"key"==c?step(0,e):"value"==c?step(0,r[e]):step(0,[e,r[e]])});var findKey=createDictMethod(6);$def($def.G+$def.F,{Dict:$.mix(Dict,{keys:createDictIter("key"),values:createDictIter("value"),entries:createDictIter("key+value"),forEach:createDictMethod(0),map:createDictMethod(1),filter:createDictMethod(2),some:createDictMethod(3),every:createDictMethod(4),find:createDictMethod(5),findKey:findKey,mapPairs:createDictMethod(7),reduce:createDictReduce(!1),turn:createDictReduce(!0),keyOf:keyOf,includes:function(e,t){return void 0!==(t==t?keyOf(e,t):findKey(e,function(e){return e!=e}))},has:has,get:function(e,t){return has(e,t)?e[t]:void 0},set:$.def,isDict:function(e){return $.isObject(e)&&$.getProto(e)===Dict.prototype}})});
},{"./$":24,"./$.assert":13,"./$.assign":14,"./$.ctx":19,"./$.def":20,"./$.iter":23,"./$.keyof":25,"./$.uid":33}],42:[function(_dereq_,module,exports){
var $def=_dereq_("./$.def");$def($def.G+$def.F,{global:_dereq_("./$").g});
},{"./$":24,"./$.def":20}],43:[function(_dereq_,module,exports){
var core=_dereq_("./$").core,$iter=_dereq_("./$.iter");core.isIterable=$iter.is,core.getIterator=$iter.get;
},{"./$":24,"./$.iter":23}],44:[function(_dereq_,module,exports){
var $=_dereq_("./$"),$def=_dereq_("./$.def"),log={},enabled=!0;$.each.call("assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,isIndependentlyComposed,log,markTimeline,profile,profileEnd,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(","),function(e){log[e]=function(){return enabled&&$.g.console&&$.isFunction(console[e])?Function.apply.call(console[e],console,arguments):void 0}}),$def($def.G+$def.F,{log:_dereq_("./$.assign")(log.log,log,{enable:function(){enabled=!0},disable:function(){enabled=!1}})});
},{"./$":24,"./$.assign":14,"./$.def":20}],45:[function(_dereq_,module,exports){
"use strict";function NumberIterator(e){$.set(this,ITER,{l:$.toLength(e),i:0})}var $=_dereq_("./$"),ITER=_dereq_("./$.uid").safe("iter"),$iter=_dereq_("./$.iter"),step=$iter.step,NUMBER="Number";$iter.create(NumberIterator,NUMBER,function(){var e=this[ITER],r=e.i++;return r<e.l?step(0,r):step(1)}),$iter.define(Number,NUMBER,function(){return new NumberIterator(this)});
},{"./$":24,"./$.iter":23,"./$.uid":33}],46:[function(_dereq_,module,exports){
"use strict";var $=_dereq_("./$"),$def=_dereq_("./$.def"),invoke=_dereq_("./$.invoke"),methods={};methods.random=function(n){var t=+this,a=void 0==n?0:+n,e=Math.min(t,a);return Math.random()*(Math.max(t,a)-e)+e},$.FW&&$.each.call("round,floor,ceil,abs,sin,asin,cos,acos,tan,atan,exp,sqrt,max,min,pow,atan2,acosh,asinh,atanh,cbrt,clz32,cosh,expm1,hypot,imul,log1p,log10,log2,sign,sinh,tanh,trunc".split(","),function(n){var t=Math[n];t&&(methods[n]=function(){for(var n=[+this],a=0;arguments.length>a;)n.push(arguments[a++]);return invoke(t,n)})}),$def($def.P+$def.F,"Number",methods);
},{"./$":24,"./$.def":20,"./$.invoke":22}],47:[function(_dereq_,module,exports){
function define(e,r){for(var f,n=ownKeys($.toObject(r)),t=n.length,c=0;t>c;)$.setDesc(e,f=n[c++],$.getDesc(r,f));return e}var $=_dereq_("./$"),$def=_dereq_("./$.def"),ownKeys=_dereq_("./$.own-keys");$def($def.S+$def.F,"Object",{isObject:$.isObject,classof:_dereq_("./$.cof").classof,define:define,make:function(e,r){return define($.create(e),r)}});
},{"./$":24,"./$.cof":15,"./$.def":20,"./$.own-keys":26}],48:[function(_dereq_,module,exports){
var $def=_dereq_("./$.def"),replacer=_dereq_("./$.replacer"),escapeHTMLDict={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"},unescapeHTMLDict={},key;for(key in escapeHTMLDict)unescapeHTMLDict[escapeHTMLDict[key]]=key;$def($def.P+$def.F,"String",{escapeHTML:replacer(/[&<>"']/g,escapeHTMLDict),unescapeHTML:replacer(/&(?:amp|lt|gt|quot|apos);/g,unescapeHTMLDict)});
},{"./$.def":20,"./$.replacer":28}],49:[function(_dereq_,module,exports){
function createGetKeys(e,t){return function(r){var n,i=toObject(r),o=0,c=[];for(n in i)n!=IE_PROTO&&has(i,n)&&c.push(n);for(;t>o;)has(i,n=e[o++])&&(~indexOf.call(c,n)||c.push(n));return c}}function isPrimitive(e){return!$.isObject(e)}function Empty(){}function arrayMethodFix(e){return function(){return e.apply($.ES5Object(this),arguments)}}function createArrayReduce(e){return function(t,r){assert.fn(t);var n=toObject(this),i=toLength(n.length),o=e?i-1:0,c=e?-1:1;if(arguments.length<2)for(;;){if(o in n){r=n[o],o+=c;break}o+=c,assert(e?o>=0:i>o,"Reduce of empty array with no initial value")}for(;e?o>=0:i>o;o+=c)o in n&&(r=t(r,n[o],o,this));return r}}function lz(e){return e>9?e:"0"+e}var $=_dereq_("./$"),cof=_dereq_("./$.cof"),$def=_dereq_("./$.def"),invoke=_dereq_("./$.invoke"),arrayMethod=_dereq_("./$.array-methods"),IE_PROTO=_dereq_("./$.uid").safe("__proto__"),assert=_dereq_("./$.assert"),assertObject=assert.obj,ObjectProto=Object.prototype,A=[],slice=A.slice,indexOf=A.indexOf,classof=cof.classof,defineProperties=Object.defineProperties,has=$.has,defineProperty=$.setDesc,getOwnDescriptor=$.getDesc,isFunction=$.isFunction,toObject=$.toObject,toLength=$.toLength,IE8_DOM_DEFINE=!1;if(!$.DESC){try{IE8_DOM_DEFINE=8==defineProperty(document.createElement("div"),"x",{get:function(){return 8}}).x}catch(e){}$.setDesc=function(e,t,r){if(IE8_DOM_DEFINE)try{return defineProperty(e,t,r)}catch(n){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(assertObject(e)[t]=r.value),e},$.getDesc=function(e,t){if(IE8_DOM_DEFINE)try{return getOwnDescriptor(e,t)}catch(r){}return has(e,t)?$.desc(!ObjectProto.propertyIsEnumerable.call(e,t),e[t]):void 0},defineProperties=function(e,t){assertObject(e);for(var r,n=$.getKeys(t),i=n.length,o=0;i>o;)$.setDesc(e,r=n[o++],t[r]);return e}}$def($def.S+$def.F*!$.DESC,"Object",{getOwnPropertyDescriptor:$.getDesc,defineProperty:$.setDesc,defineProperties:defineProperties});var keys1="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),keys2=keys1.concat("length","prototype"),keysLen1=keys1.length,createDict=function(){var e,t=document.createElement("iframe"),r=keysLen1;for(t.style.display="none",$.html.appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object</script>"),e.close(),createDict=e.F;r--;)delete createDict.prototype[keys1[r]];return createDict()};$def($def.S,"Object",{getPrototypeOf:$.getProto=$.getProto||function(e){return e=Object(assert.def(e)),has(e,IE_PROTO)?e[IE_PROTO]:isFunction(e.constructor)&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?ObjectProto:null},getOwnPropertyNames:$.getNames=$.getNames||createGetKeys(keys2,keys2.length,!0),create:$.create=$.create||function(e,t){var r;return null!==e?(Empty.prototype=assertObject(e),r=new Empty,Empty.prototype=null,r[IE_PROTO]=e):r=createDict(),void 0===t?r:defineProperties(r,t)},keys:$.getKeys=$.getKeys||createGetKeys(keys1,keysLen1,!1),seal:$.it,freeze:$.it,preventExtensions:$.it,isSealed:isPrimitive,isFrozen:isPrimitive,isExtensible:$.isObject}),$def($def.P,"Function",{bind:function(e){function t(){var i=n.concat(slice.call(arguments));return invoke(r,i,this instanceof t?$.create(r.prototype):e)}var r=assert.fn(this),n=slice.call(arguments,1);return r.prototype&&(t.prototype=r.prototype),t}}),0 in Object("z")&&"z"=="z"[0]||($.ES5Object=function(e){return"String"==cof(e)?e.split(""):Object(e)}),$def($def.P+$def.F*($.ES5Object!=Object),"Array",{slice:arrayMethodFix(slice),join:arrayMethodFix(A.join)}),$def($def.S,"Array",{isArray:function(e){return"Array"==cof(e)}}),$def($def.P,"Array",{forEach:$.each=$.each||arrayMethod(0),map:arrayMethod(1),filter:arrayMethod(2),some:arrayMethod(3),every:arrayMethod(4),reduce:createArrayReduce(!1),reduceRight:createArrayReduce(!0),indexOf:indexOf=indexOf||_dereq_("./$.array-includes")(!1),lastIndexOf:function(e,t){var r=toObject(this),n=toLength(r.length),i=n-1;for(arguments.length>1&&(i=Math.min(i,$.toInteger(t))),0>i&&(i=toLength(n+i));i>=0;i--)if(i in r&&r[i]===e)return i;return-1}}),$def($def.P,"String",{trim:_dereq_("./$.replacer")(/^\s*([\s\S]*\S)?\s*$/,"$1")}),$def($def.S,"Date",{now:function(){return+new Date}}),$def($def.P,"Date",{toISOString:function(){if(!isFinite(this))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),r=e.getUTCMilliseconds(),n=0>t?"-":t>9999?"+":"";return n+("00000"+Math.abs(t)).slice(n?-6:-4)+"-"+lz(e.getUTCMonth()+1)+"-"+lz(e.getUTCDate())+"T"+lz(e.getUTCHours())+":"+lz(e.getUTCMinutes())+":"+lz(e.getUTCSeconds())+"."+(r>99?r:"0"+lz(r))+"Z"}}),"Object"==classof(function(){return arguments}())&&(cof.classof=function(e){var t=classof(e);return"Object"==t&&isFunction(e.callee)?"Arguments":t});
},{"./$":24,"./$.array-includes":11,"./$.array-methods":12,"./$.assert":13,"./$.cof":15,"./$.def":20,"./$.invoke":22,"./$.replacer":28,"./$.uid":33}],50:[function(_dereq_,module,exports){
"use strict";var $=_dereq_("./$"),$def=_dereq_("./$.def"),toIndex=$.toIndex;$def($def.P,"Array",{copyWithin:function(e,t){var n=Object($.assertDefined(this)),r=$.toLength(n.length),i=toIndex(e,r),d=toIndex(t,r),o=arguments[2],u=void 0===o?r:toIndex(o,r),f=Math.min(u-d,r-i),s=1;for(i>d&&d+f>i&&(s=-1,d=d+f-1,i=i+f-1);f-->0;)d in n?n[i]=n[d]:delete n[i],i+=s,d+=s;return n}}),_dereq_("./$.unscope")("copyWithin");
},{"./$":24,"./$.def":20,"./$.unscope":34}],51:[function(_dereq_,module,exports){
"use strict";var $=_dereq_("./$"),$def=_dereq_("./$.def"),toIndex=$.toIndex;$def($def.P,"Array",{fill:function(e){for(var r=Object($.assertDefined(this)),t=$.toLength(r.length),n=toIndex(arguments[1],t),d=arguments[2],i=void 0===d?t:toIndex(d,t);i>n;)r[n++]=e;return r}}),_dereq_("./$.unscope")("fill");
},{"./$":24,"./$.def":20,"./$.unscope":34}],52:[function(_dereq_,module,exports){
var $def=_dereq_("./$.def");$def($def.P,"Array",{findIndex:_dereq_("./$.array-methods")(6)}),_dereq_("./$.unscope")("findIndex");
},{"./$.array-methods":12,"./$.def":20,"./$.unscope":34}],53:[function(_dereq_,module,exports){
var $def=_dereq_("./$.def");$def($def.P,"Array",{find:_dereq_("./$.array-methods")(5)}),_dereq_("./$.unscope")("find");
},{"./$.array-methods":12,"./$.def":20,"./$.unscope":34}],54:[function(_dereq_,module,exports){
var $=_dereq_("./$"),ctx=_dereq_("./$.ctx"),$def=_dereq_("./$.def"),$iter=_dereq_("./$.iter"),stepCall=$iter.stepCall;$def($def.S+$def.F*$iter.DANGER_CLOSING,"Array",{from:function(e){var t,r,i,n,f=Object($.assertDefined(e)),a=arguments[1],s=void 0!==a,o=s?ctx(a,arguments[2],2):void 0,u=0;if($iter.is(f))for(n=$iter.get(f),r=new("function"==typeof this?this:Array);!(i=n.next()).done;u++)r[u]=s?stepCall(n,o,[i.value,u],!0):i.value;else for(r=new("function"==typeof this?this:Array)(t=$.toLength(f.length));t>u;u++)r[u]=s?o(f[u],u):f[u];return r.length=u,r}});
},{"./$":24,"./$.ctx":19,"./$.def":20,"./$.iter":23}],55:[function(_dereq_,module,exports){
var $=_dereq_("./$"),setUnscope=_dereq_("./$.unscope"),ITER=_dereq_("./$.uid").safe("iter"),$iter=_dereq_("./$.iter"),step=$iter.step,Iterators=$iter.Iterators;$iter.std(Array,"Array",function(e,t){$.set(this,ITER,{o:$.toObject(e),i:0,k:t})},function(){var e=this[ITER],t=e.o,r=e.k,s=e.i++;return!t||s>=t.length?(e.o=void 0,step(1)):"key"==r?step(0,s):"value"==r?step(0,t[s]):step(0,[s,t[s]])},"value"),Iterators.Arguments=Iterators.Array,setUnscope("keys"),setUnscope("values"),setUnscope("entries");
},{"./$":24,"./$.iter":23,"./$.uid":33,"./$.unscope":34}],56:[function(_dereq_,module,exports){
var $def=_dereq_("./$.def");$def($def.S,"Array",{of:function(){for(var e=0,r=arguments.length,n=new("function"==typeof this?this:Array)(r);r>e;)n[e]=arguments[e++];return n.length=r,n}});
},{"./$.def":20}],57:[function(_dereq_,module,exports){
_dereq_("./$.species")(Array);
},{"./$.species":30}],58:[function(_dereq_,module,exports){
"use strict";var $=_dereq_("./$"),NAME="name",setDesc=$.setDesc,FunctionProto=Function.prototype;NAME in FunctionProto||$.FW&&$.DESC&&setDesc(FunctionProto,NAME,{configurable:!0,get:function(){var t=String(this).match(/^\s*function ([^ (]*)/),s=t?t[1]:"";return $.has(this,NAME)||setDesc(this,NAME,$.desc(5,s)),s},set:function(t){$.has(this,NAME)||setDesc(this,NAME,$.desc(0,t))}});
},{"./$":24}],59:[function(_dereq_,module,exports){
"use strict";var strong=_dereq_("./$.collection-strong");_dereq_("./$.collection")("Map",{get:function(t){var r=strong.getEntry(this,t);return r&&r.v},set:function(t,r){return strong.def(this,0===t?0:t,r)}},strong,!0);
},{"./$.collection":18,"./$.collection-strong":16}],60:[function(_dereq_,module,exports){
function asinh(n){return isFinite(n=+n)&&0!=n?0>n?-asinh(-n):log(n+sqrt(n*n+1)):n}function expm1(n){return 0==(n=+n)?n:n>-1e-6&&1e-6>n?n+n*n/2:exp(n)-1}var Infinity=1/0,$def=_dereq_("./$.def"),E=Math.E,pow=Math.pow,abs=Math.abs,exp=Math.exp,log=Math.log,sqrt=Math.sqrt,ceil=Math.ceil,floor=Math.floor,sign=Math.sign||function(n){return 0==(n=+n)||n!=n?n:0>n?-1:1};$def($def.S,"Math",{acosh:function(n){return(n=+n)<1?0/0:isFinite(n)?log(n/E+sqrt(n+1)*sqrt(n-1)/E)+1:n},asinh:asinh,atanh:function(n){return 0==(n=+n)?n:log((1+n)/(1-n))/2},cbrt:function(n){return sign(n=+n)*pow(abs(n),1/3)},clz32:function(n){return(n>>>=0)?32-n.toString(2).length:32},cosh:function(n){return(exp(n=+n)+exp(-n))/2},expm1:expm1,fround:function(n){return new Float32Array([n])[0]},hypot:function(n,t){for(var r,e=0,i=arguments.length,o=i,u=Array(i),f=-Infinity;i--;){if(r=u[i]=+arguments[i],r==Infinity||r==-Infinity)return Infinity;r>f&&(f=r)}for(f=r||1;o--;)e+=pow(u[o]/f,2);return f*sqrt(e)},imul:function(n,t){var r=65535,e=+n,i=+t,o=r&e,u=r&i;return 0|o*u+((r&e>>>16)*u+o*(r&i>>>16)<<16>>>0)},log1p:function(n){return(n=+n)>-1e-8&&1e-8>n?n-n*n/2:log(1+n)},log10:function(n){return log(n)/Math.LN10},log2:function(n){return log(n)/Math.LN2},sign:sign,sinh:function(n){return abs(n=+n)<1?(expm1(n)-expm1(-n))/2:(exp(n-1)-exp(-n-1))*(E/2)},tanh:function(n){var t=expm1(n=+n),r=expm1(-n);return t==Infinity?1:r==Infinity?-1:(t-r)/(exp(n)+exp(-n))},trunc:function(n){return(n>0?floor:ceil)(n)}});
},{"./$.def":20}],61:[function(_dereq_,module,exports){
"use strict";function toPrimitive(e){var t,r;if(isFunction(t=e.valueOf)&&!isObject(r=t.call(e)))return r;if(isFunction(t=e.toString)&&!isObject(r=t.call(e)))return r;throw TypeError("Can't convert object to number")}function toNumber(e){if(isObject(e)&&(e=toPrimitive(e)),"string"==typeof e&&e.length>2&&48==e.charCodeAt(0)){var t=!1;switch(e.charCodeAt(1)){case 66:case 98:t=!0;case 79:case 111:return parseInt(e.slice(2),t?2:8)}}return+e}var $=_dereq_("./$"),isObject=$.isObject,isFunction=$.isFunction,NUMBER="Number",Number=$.g[NUMBER],Base=Number,proto=Number.prototype;!$.FW||Number("0o1")&&Number("0b1")||(Number=function e(t){return this instanceof e?new Base(toNumber(t)):toNumber(t)},$.each.call($.DESC?$.getNames(Base):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),function(e){$.has(Base,e)&&!$.has(Number,e)&&$.setDesc(Number,e,$.getDesc(Base,e))}),Number.prototype=proto,proto.constructor=Number,$.hide($.g,NUMBER,Number));
},{"./$":24}],62:[function(_dereq_,module,exports){
function isInteger(e){return!$.isObject(e)&&isFinite(e)&&floor(e)===e}var $=_dereq_("./$"),$def=_dereq_("./$.def"),abs=Math.abs,floor=Math.floor,MAX_SAFE_INTEGER=9007199254740991;$def($def.S,"Number",{EPSILON:Math.pow(2,-52),isFinite:function(e){return"number"==typeof e&&isFinite(e)},isInteger:isInteger,isNaN:function(e){return e!=e},isSafeInteger:function(e){return isInteger(e)&&abs(e)<=MAX_SAFE_INTEGER},MAX_SAFE_INTEGER:MAX_SAFE_INTEGER,MIN_SAFE_INTEGER:-MAX_SAFE_INTEGER,parseFloat:parseFloat,parseInt:parseInt});
},{"./$":24,"./$.def":20}],63:[function(_dereq_,module,exports){
var $def=_dereq_("./$.def");$def($def.S,"Object",{assign:_dereq_("./$.assign")});
},{"./$.assign":14,"./$.def":20}],64:[function(_dereq_,module,exports){
var $def=_dereq_("./$.def");$def($def.S,"Object",{is:function(e,f){return e===f?0!==e||1/e===1/f:e!=e&&f!=f}});
},{"./$.def":20}],65:[function(_dereq_,module,exports){
var $def=_dereq_("./$.def");$def($def.S,"Object",{setPrototypeOf:_dereq_("./$.set-proto")});
},{"./$.def":20,"./$.set-proto":29}],66:[function(_dereq_,module,exports){
function wrapObjectMethod(e,t){var r=($.core.Object||{})[e]||Object[e],c=0,o={};o[e]=1==t?function(e){return isObject(e)?r(e):e}:2==t?function(e){return isObject(e)?r(e):!0}:3==t?function(e){return isObject(e)?r(e):!1}:4==t?function(e,t){return r(toObject(e),t)}:5==t?function(e){return r(Object($.assertDefined(e)))}:function(e){return r(toObject(e))};try{r("z")}catch(n){c=1}$def($def.S+$def.F*c,"Object",o)}var $=_dereq_("./$"),$def=_dereq_("./$.def"),isObject=$.isObject,toObject=$.toObject;wrapObjectMethod("freeze",1),wrapObjectMethod("seal",1),wrapObjectMethod("preventExtensions",1),wrapObjectMethod("isFrozen",2),wrapObjectMethod("isSealed",2),wrapObjectMethod("isExtensible",3),wrapObjectMethod("getOwnPropertyDescriptor",4),wrapObjectMethod("getPrototypeOf",5),wrapObjectMethod("keys"),wrapObjectMethod("getOwnPropertyNames");
},{"./$":24,"./$.def":20}],67:[function(_dereq_,module,exports){
"use strict";var $=_dereq_("./$"),cof=_dereq_("./$.cof"),tmp={};tmp[_dereq_("./$.wks")("toStringTag")]="z",$.FW&&"z"!=cof(tmp)&&$.hide(Object.prototype,"toString",function(){return"[object "+cof.classof(this)+"]"});
},{"./$":24,"./$.cof":15,"./$.wks":35}],68:[function(_dereq_,module,exports){
"use strict";function getConstructor(e){var r=assertObject(e)[SPECIES];return void 0!=r?r:e}var $=_dereq_("./$"),ctx=_dereq_("./$.ctx"),cof=_dereq_("./$.cof"),$def=_dereq_("./$.def"),assert=_dereq_("./$.assert"),$iter=_dereq_("./$.iter"),SPECIES=_dereq_("./$.wks")("species"),RECORD=_dereq_("./$.uid").safe("record"),forOf=$iter.forOf,PROMISE="Promise",global=$.g,process=global.process,asap=process&&process.nextTick||_dereq_("./$.task").set,Promise=global[PROMISE],Base=Promise,isFunction=$.isFunction,isObject=$.isObject,assertFunction=assert.fn,assertObject=assert.obj,test;isFunction(Promise)&&isFunction(Promise.resolve)&&Promise.resolve(test=new Promise(function(){}))==test||function(){function e(e){var r;return isObject(e)&&(r=e.then),isFunction(r)?r:!1}function r(e){var t,s=e[RECORD],n=s.c,i=0;if(s.h)return!0;for(;n.length>i;)if(t=n[i++],t.fail||r(t.P))return!0}function t(t,s){var n=t.c;(s||n.length)&&asap(function(){var i=t.p,o=t.v,c=1==t.s,u=0;if(s&&!r(i))setTimeout(function(){r(i)||("process"==cof(process)?process.emit("unhandledRejection",o,i):global.console&&isFunction(console.error)&&console.error("Unhandled promise rejection",o))},1e3);else for(;n.length>u;)!function(r){var s,n,i=c?r.ok:r.fail;try{i?(c||(t.h=!0),s=i===!0?o:i(o),s===r.P?r.rej(TypeError(PROMISE+"-chain cycle")):(n=e(s))?n.call(s,r.res,r.rej):r.res(s)):r.rej(o)}catch(u){r.rej(u)}}(n[u++]);n.length=0})}function s(e){var r=this;r.d||(r.d=!0,r=r.r||r,r.v=e,r.s=2,t(r,!0))}function n(r){var i,o,c=this;if(!c.d){c.d=!0,c=c.r||c;try{(i=e(r))?(o={r:c,d:!1},i.call(r,ctx(n,o,1),ctx(s,o,1))):(c.v=r,c.s=1,t(c))}catch(u){s.call(o||{r:c,d:!1},u)}}}Promise=function(e){assertFunction(e);var r={p:assert.inst(this,Promise,PROMISE),c:[],s:0,d:!1,v:void 0,h:!1};$.hide(this,RECORD,r);try{e(ctx(n,r,1),ctx(s,r,1))}catch(t){s.call(r,t)}},$.mix(Promise.prototype,{then:function(e,r){var s=assertObject(assertObject(this).constructor)[SPECIES],n={ok:isFunction(e)?e:!0,fail:isFunction(r)?r:!1},i=n.P=new(void 0!=s?s:Promise)(function(e,r){n.res=assertFunction(e),n.rej=assertFunction(r)}),o=this[RECORD];return o.c.push(n),o.s&&t(o),i},"catch":function(e){return this.then(void 0,e)}})}(),$def($def.G+$def.W+$def.F*(Promise!=Base),{Promise:Promise}),$def($def.S,PROMISE,{reject:function(e){return new(getConstructor(this))(function(r,t){t(e)})},resolve:function(e){return isObject(e)&&RECORD in e&&$.getProto(e)===this.prototype?e:new(getConstructor(this))(function(r){r(e)})}}),$def($def.S+$def.F*($iter.fail(function(e){Promise.all(e)["catch"](function(){})})||$iter.DANGER_CLOSING),PROMISE,{all:function(e){var r=getConstructor(this),t=[];return new r(function(s,n){forOf(e,!1,t.push,t);var i=t.length,o=Array(i);i?$.each.call(t,function(e,t){r.resolve(e).then(function(e){o[t]=e,--i||s(o)},n)}):s(o)})},race:function(e){var r=getConstructor(this);return new r(function(t,s){forOf(e,!1,function(e){r.resolve(e).then(t,s)})})}}),cof.set(Promise,PROMISE),_dereq_("./$.species")(Promise);
},{"./$":24,"./$.assert":13,"./$.cof":15,"./$.ctx":19,"./$.def":20,"./$.iter":23,"./$.species":30,"./$.task":32,"./$.uid":33,"./$.wks":35}],69:[function(_dereq_,module,exports){
function Enumerate(e){var t,r=[];for(t in e)r.push(t);$.set(this,ITER,{o:e,a:r,i:0})}function wrap(e){return function(t){assertObject(t);try{return e.apply(void 0,arguments),!0}catch(r){return!1}}}function reflectGet(e,t){var r,s=arguments.length<3?e:arguments[2],n=getDesc(assertObject(e),t);return n?$.has(n,"value")?n.value:void 0===n.get?void 0:n.get.call(s):isObject(r=getProto(e))?reflectGet(r,t,s):void 0}function reflectSet(e,t,r){var s,n,c=arguments.length<4?e:arguments[3],i=getDesc(assertObject(e),t);if(!i){if(isObject(n=getProto(e)))return reflectSet(n,t,r,c);i=$.desc(0)}return $.has(i,"value")?i.writable!==!1&&isObject(c)?(s=getDesc(c,t)||$.desc(0),s.value=r,setDesc(c,t,s),!0):!1:void 0===i.set?!1:(i.set.call(c,r),!0)}var $=_dereq_("./$"),$def=_dereq_("./$.def"),setProto=_dereq_("./$.set-proto"),$iter=_dereq_("./$.iter"),ITER=_dereq_("./$.uid").safe("iter"),step=$iter.step,assert=_dereq_("./$.assert"),isObject=$.isObject,getDesc=$.getDesc,setDesc=$.setDesc,getProto=$.getProto,apply=Function.apply,assertObject=assert.obj,isExtensible=Object.isExtensible||$.it;$iter.create(Enumerate,"Object",function(){var e,t=this[ITER],r=t.a;do if(t.i>=r.length)return step(1);while(!((e=r[t.i++])in t.o));return step(0,e)});var reflect={apply:_dereq_("./$.ctx")(Function.call,apply,3),construct:function(e,t){var r=assert.fn(arguments.length<3?e:arguments[2]).prototype,s=$.create(isObject(r)?r:Object.prototype),n=apply.call(e,s,t);return isObject(n)?n:s},defineProperty:wrap(setDesc),deleteProperty:function(e,t){var r=getDesc(assertObject(e),t);return r&&!r.configurable?!1:delete e[t]},enumerate:function(e){return new Enumerate(assertObject(e))},get:reflectGet,getOwnPropertyDescriptor:function(e,t){return getDesc(assertObject(e),t)},getPrototypeOf:function(e){return getProto(assertObject(e))},has:function(e,t){return t in e},isExtensible:function(e){return!!isExtensible(assertObject(e))},ownKeys:_dereq_("./$.own-keys"),preventExtensions:wrap(Object.preventExtensions||$.it),set:reflectSet};setProto&&(reflect.setPrototypeOf=function(e,t){return setProto(assertObject(e),t),!0}),$def($def.G,{Reflect:{}}),$def($def.S,"Reflect",reflect);
},{"./$":24,"./$.assert":13,"./$.ctx":19,"./$.def":20,"./$.iter":23,"./$.own-keys":26,"./$.set-proto":29,"./$.uid":33}],70:[function(_dereq_,module,exports){
var $=_dereq_("./$"),cof=_dereq_("./$.cof"),RegExp=$.g.RegExp,Base=RegExp,proto=RegExp.prototype;$.FW&&$.DESC&&(function(){try{return"/a/i"==RegExp(/a/g,"i")}catch(e){}}()||(RegExp=function(e,r){return new Base("RegExp"==cof(e)&&void 0!==r?e.source:e,r)},$.each.call($.getNames(Base),function(e){e in RegExp||$.setDesc(RegExp,e,{configurable:!0,get:function(){return Base[e]},set:function(r){Base[e]=r}})}),proto.constructor=RegExp,RegExp.prototype=proto,$.hide($.g,"RegExp",RegExp)),"g"!=/./g.flags&&$.setDesc(proto,"flags",{configurable:!0,get:_dereq_("./$.replacer")(/^.*\/(\w*)$/,"$1")})),_dereq_("./$.species")(RegExp);
},{"./$":24,"./$.cof":15,"./$.replacer":28,"./$.species":30}],71:[function(_dereq_,module,exports){
"use strict";var strong=_dereq_("./$.collection-strong");_dereq_("./$.collection")("Set",{add:function(r){return strong.def(this,r=0===r?0:r,r)}},strong);
},{"./$.collection":18,"./$.collection-strong":16}],72:[function(_dereq_,module,exports){
var $def=_dereq_("./$.def");$def($def.P,"String",{codePointAt:_dereq_("./$.string-at")(!1)});
},{"./$.def":20,"./$.string-at":31}],73:[function(_dereq_,module,exports){
"use strict";var $=_dereq_("./$"),cof=_dereq_("./$.cof"),$def=_dereq_("./$.def"),toLength=$.toLength;$def($def.P,"String",{endsWith:function(e){if("RegExp"==cof(e))throw TypeError();var t=String($.assertDefined(this)),r=arguments[1],n=toLength(t.length),i=void 0===r?n:Math.min(toLength(r),n);return e+="",t.slice(i-e.length,i)===e}});
},{"./$":24,"./$.cof":15,"./$.def":20}],74:[function(_dereq_,module,exports){
var $def=_dereq_("./$.def"),toIndex=_dereq_("./$").toIndex,fromCharCode=String.fromCharCode;$def($def.S,"String",{fromCodePoint:function(r){for(var e,o=[],n=arguments.length,d=0;n>d;){if(e=+arguments[d++],toIndex(e,1114111)!==e)throw RangeError(e+" is not a valid code point");o.push(65536>e?fromCharCode(e):fromCharCode(((e-=65536)>>10)+55296,e%1024+56320))}return o.join("")}});
},{"./$":24,"./$.def":20}],75:[function(_dereq_,module,exports){
"use strict";var $=_dereq_("./$"),cof=_dereq_("./$.cof"),$def=_dereq_("./$.def");$def($def.P,"String",{includes:function(e){if("RegExp"==cof(e))throw TypeError();return!!~String($.assertDefined(this)).indexOf(e,arguments[1])}});
},{"./$":24,"./$.cof":15,"./$.def":20}],76:[function(_dereq_,module,exports){
var set=_dereq_("./$").set,at=_dereq_("./$.string-at")(!0),ITER=_dereq_("./$.uid").safe("iter"),$iter=_dereq_("./$.iter"),step=$iter.step;$iter.std(String,"String",function(t){set(this,ITER,{o:String(t),i:0})},function(){var t,e=this[ITER],i=e.o,r=e.i;return r>=i.length?step(1):(t=at.call(i,r),e.i+=t.length,step(0,t))});
},{"./$":24,"./$.iter":23,"./$.string-at":31,"./$.uid":33}],77:[function(_dereq_,module,exports){
var $=_dereq_("./$"),$def=_dereq_("./$.def");$def($def.S,"String",{raw:function(r){for(var e=$.toObject(r.raw),t=$.toLength(e.length),n=arguments.length,g=[],u=0;t>u;)g.push(String(e[u++])),n>u&&g.push(String(arguments[u]));return g.join("")}});
},{"./$":24,"./$.def":20}],78:[function(_dereq_,module,exports){
"use strict";var $=_dereq_("./$"),$def=_dereq_("./$.def");$def($def.P,"String",{repeat:function(e){var r=String($.assertDefined(this)),t="",n=$.toInteger(e);if(0>n||n==1/0)throw RangeError("Count can't be negative");for(;n>0;(n>>>=1)&&(r+=r))1&n&&(t+=r);return t}});
},{"./$":24,"./$.def":20}],79:[function(_dereq_,module,exports){
"use strict";var $=_dereq_("./$"),cof=_dereq_("./$.cof"),$def=_dereq_("./$.def");$def($def.P,"String",{startsWith:function(e){if("RegExp"==cof(e))throw TypeError();var r=String($.assertDefined(this)),t=$.toLength(Math.min(arguments[1],r.length));return e+="",r.slice(t,t+e.length)===e}});
},{"./$":24,"./$.cof":15,"./$.def":20}],80:[function(_dereq_,module,exports){
"use strict";function wrap(e){var t=AllSymbols[e]=$.set($.create(Symbol.prototype),TAG,e);return $.DESC&&setter&&$.setDesc(Object.prototype,e,{configurable:!0,set:function(t){hide(this,e,t)}}),t}var $=_dereq_("./$"),setTag=_dereq_("./$.cof").set,uid=_dereq_("./$.uid"),$def=_dereq_("./$.def"),keyOf=_dereq_("./$.keyof"),has=$.has,hide=$.hide,getNames=$.getNames,toObject=$.toObject,Symbol=$.g.Symbol,Base=Symbol,setter=!1,TAG=uid.safe("tag"),SymbolRegistry={},AllSymbols={};$.isFunction(Symbol)||(Symbol=function(e){if(this instanceof Symbol)throw TypeError("Symbol is not a constructor");return wrap(uid(e))},hide(Symbol.prototype,"toString",function(){return this[TAG]})),$def($def.G+$def.W,{Symbol:Symbol});var symbolStatics={"for":function(e){return has(SymbolRegistry,e+="")?SymbolRegistry[e]:SymbolRegistry[e]=Symbol(e)},keyFor:function(e){return keyOf(SymbolRegistry,e)},pure:uid.safe,set:$.set,useSetter:function(){setter=!0},useSimple:function(){setter=!1}};$.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(e){var t=_dereq_("./$.wks")(e);symbolStatics[e]=Symbol===Base?t:wrap(t)}),setter=!0,$def($def.S,"Symbol",symbolStatics),$def($def.S+$def.F*(Symbol!=Base),"Object",{getOwnPropertyNames:function(e){for(var t,r=getNames(toObject(e)),o=[],s=0;r.length>s;)has(AllSymbols,t=r[s++])||o.push(t);return o},getOwnPropertySymbols:function(e){for(var t,r=getNames(toObject(e)),o=[],s=0;r.length>s;)has(AllSymbols,t=r[s++])&&o.push(AllSymbols[t]);return o}}),setTag(Symbol,"Symbol"),setTag(Math,"Math",!0),setTag($.g.JSON,"JSON",!0);
},{"./$":24,"./$.cof":15,"./$.def":20,"./$.keyof":25,"./$.uid":33,"./$.wks":35}],81:[function(_dereq_,module,exports){
"use strict";var $=_dereq_("./$"),weak=_dereq_("./$.collection-weak"),leakStore=weak.leakStore,ID=weak.ID,WEAK=weak.WEAK,has=$.has,isObject=$.isObject,isFrozen=Object.isFrozen||$.core.Object.isFrozen,tmp={},WeakMap=_dereq_("./$.collection")("WeakMap",{get:function(e){if(isObject(e)){if(isFrozen(e))return leakStore(this).get(e);if(has(e,WEAK))return e[WEAK][this[ID]]}},set:function(e,t){return weak.def(this,e,t)}},weak,!0,!0);$.FW&&7!=(new WeakMap).set((Object.freeze||Object)(tmp),7).get(tmp)&&$.each.call(["delete","has","get","set"],function(e){var t=WeakMap.prototype[e];WeakMap.prototype[e]=function(r,a){if(isObject(r)&&isFrozen(r)){var i=leakStore(this)[e](r,a);return"set"==e?this:i}return t.call(this,r,a)}});
},{"./$":24,"./$.collection":18,"./$.collection-weak":17}],82:[function(_dereq_,module,exports){
"use strict";var weak=_dereq_("./$.collection-weak");_dereq_("./$.collection")("WeakSet",{add:function(e){return weak.def(this,e,!0)}},weak,!1,!0);
},{"./$.collection":18,"./$.collection-weak":17}],83:[function(_dereq_,module,exports){
var $def=_dereq_("./$.def");$def($def.P,"Array",{includes:_dereq_("./$.array-includes")(!0)}),_dereq_("./$.unscope")("includes");
},{"./$.array-includes":11,"./$.def":20,"./$.unscope":34}],84:[function(_dereq_,module,exports){
var $=_dereq_("./$"),$def=_dereq_("./$.def"),ownKeys=_dereq_("./$.own-keys");$def($def.S,"Object",{getOwnPropertyDescriptors:function(e){var r=$.toObject(e),t={};return $.each.call(ownKeys(r),function(e){$.setDesc(t,e,$.desc(0,$.getDesc(r,e)))}),t}});
},{"./$":24,"./$.def":20,"./$.own-keys":26}],85:[function(_dereq_,module,exports){
function createObjectToArray(e){return function(r){var t,a=$.toObject(r),c=$.getKeys(r),f=c.length,n=0,o=Array(f);if(e)for(;f>n;)o[n]=[t=c[n++],a[t]];else for(;f>n;)o[n]=a[c[n++]];return o}}var $=_dereq_("./$"),$def=_dereq_("./$.def");$def($def.S,"Object",{values:createObjectToArray(!1),entries:createObjectToArray(!0)});
},{"./$":24,"./$.def":20}],86:[function(_dereq_,module,exports){
var $def=_dereq_("./$.def");$def($def.S,"RegExp",{escape:_dereq_("./$.replacer")(/([\\\-[\]{}()*+?.,^$|])/g,"\\$1",!0)});
},{"./$.def":20,"./$.replacer":28}],87:[function(_dereq_,module,exports){
var $def=_dereq_("./$.def");$def($def.P,"String",{at:_dereq_("./$.string-at")(!0)});
},{"./$.def":20,"./$.string-at":31}],88:[function(_dereq_,module,exports){
function setStatics(e,t){$.each.call(e.split(","),function(e){void 0==t&&e in core.Array?statics[e]=core.Array[e]:e in[]&&(statics[e]=_dereq_("./$.ctx")(Function.call,[][e],t))})}var $=_dereq_("./$"),$def=_dereq_("./$.def"),core=$.core,statics={};setStatics("pop,reverse,shift,keys,values,entries",1),setStatics("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),setStatics("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill,turn"),$def($def.S,"Array",statics);
},{"./$":24,"./$.ctx":19,"./$.def":20}],89:[function(_dereq_,module,exports){
_dereq_("./es6.array.iterator");var $=_dereq_("./$"),Iterators=_dereq_("./$.iter").Iterators,ITERATOR=_dereq_("./$.wks")("iterator"),NodeList=$.g.NodeList;!$.FW||!NodeList||ITERATOR in NodeList.prototype||$.hide(NodeList.prototype,ITERATOR,Iterators.Array),Iterators.NodeList=Iterators.Array;
},{"./$":24,"./$.iter":23,"./$.wks":35,"./es6.array.iterator":55}],90:[function(_dereq_,module,exports){
var $def=_dereq_("./$.def"),$task=_dereq_("./$.task");$def($def.G+$def.B,{setImmediate:$task.set,clearImmediate:$task.clear});
},{"./$.def":20,"./$.task":32}],91:[function(_dereq_,module,exports){
function wrap(e){return MSIE?function(r,t){return e(invoke(partial,[].slice.call(arguments,2),$.isFunction(r)?r:Function(r)),t)}:e}var $=_dereq_("./$"),$def=_dereq_("./$.def"),invoke=_dereq_("./$.invoke"),partial=_dereq_("./$.partial"),MSIE=!!$.g.navigator&&/MSIE .\./.test(navigator.userAgent);$def($def.G+$def.B+$def.F*MSIE,{setTimeout:wrap($.g.setTimeout),setInterval:wrap($.g.setInterval)});
},{"./$":24,"./$.def":20,"./$.invoke":22,"./$.partial":27}],92:[function(_dereq_,module,exports){
_dereq_("./modules/es5"),_dereq_("./modules/es6.symbol"),_dereq_("./modules/es6.object.assign"),_dereq_("./modules/es6.object.is"),_dereq_("./modules/es6.object.set-prototype-of"),_dereq_("./modules/es6.object.to-string"),_dereq_("./modules/es6.object.statics-accept-primitives"),_dereq_("./modules/es6.function.name"),_dereq_("./modules/es6.number.constructor"),_dereq_("./modules/es6.number.statics"),_dereq_("./modules/es6.math"),_dereq_("./modules/es6.string.from-code-point"),_dereq_("./modules/es6.string.raw"),_dereq_("./modules/es6.string.iterator"),_dereq_("./modules/es6.string.code-point-at"),_dereq_("./modules/es6.string.ends-with"),_dereq_("./modules/es6.string.includes"),_dereq_("./modules/es6.string.repeat"),_dereq_("./modules/es6.string.starts-with"),_dereq_("./modules/es6.array.from"),_dereq_("./modules/es6.array.of"),_dereq_("./modules/es6.array.iterator"),_dereq_("./modules/es6.array.species"),_dereq_("./modules/es6.array.copy-within"),_dereq_("./modules/es6.array.fill"),_dereq_("./modules/es6.array.find"),_dereq_("./modules/es6.array.find-index"),_dereq_("./modules/es6.regexp"),_dereq_("./modules/es6.promise"),_dereq_("./modules/es6.map"),_dereq_("./modules/es6.set"),_dereq_("./modules/es6.weak-map"),_dereq_("./modules/es6.weak-set"),_dereq_("./modules/es6.reflect"),_dereq_("./modules/es7.array.includes"),_dereq_("./modules/es7.string.at"),_dereq_("./modules/es7.regexp.escape"),_dereq_("./modules/es7.object.get-own-property-descriptors"),_dereq_("./modules/es7.object.to-array"),_dereq_("./modules/js.array.statics"),_dereq_("./modules/web.timers"),_dereq_("./modules/web.immediate"),_dereq_("./modules/web.dom.iterable"),module.exports=_dereq_("./modules/$").core;
},{"./modules/$":24,"./modules/es5":49,"./modules/es6.array.copy-within":50,"./modules/es6.array.fill":51,"./modules/es6.array.find":53,"./modules/es6.array.find-index":52,"./modules/es6.array.from":54,"./modules/es6.array.iterator":55,"./modules/es6.array.of":56,"./modules/es6.array.species":57,"./modules/es6.function.name":58,"./modules/es6.map":59,"./modules/es6.math":60,"./modules/es6.number.constructor":61,"./modules/es6.number.statics":62,"./modules/es6.object.assign":63,"./modules/es6.object.is":64,"./modules/es6.object.set-prototype-of":65,"./modules/es6.object.statics-accept-primitives":66,"./modules/es6.object.to-string":67,"./modules/es6.promise":68,"./modules/es6.reflect":69,"./modules/es6.regexp":70,"./modules/es6.set":71,"./modules/es6.string.code-point-at":72,"./modules/es6.string.ends-with":73,"./modules/es6.string.from-code-point":74,"./modules/es6.string.includes":75,"./modules/es6.string.iterator":76,"./modules/es6.string.raw":77,"./modules/es6.string.repeat":78,"./modules/es6.string.starts-with":79,"./modules/es6.symbol":80,"./modules/es6.weak-map":81,"./modules/es6.weak-set":82,"./modules/es7.array.includes":83,"./modules/es7.object.get-own-property-descriptors":84,"./modules/es7.object.to-array":85,"./modules/es7.regexp.escape":86,"./modules/es7.string.at":87,"./modules/js.array.statics":88,"./modules/web.dom.iterable":89,"./modules/web.immediate":90,"./modules/web.timers":91}],93:[function(_dereq_,module,exports){
"use strict";var _createClass=_dereq_("babel-runtime/helpers/create-class")["default"],_classCallCheck=_dereq_("babel-runtime/helpers/class-call-check")["default"],_core=_dereq_("babel-runtime/core-js")["default"];_core.Object.defineProperty(exports,"__esModule",{value:!0});var MicrokernelVersion=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"version",value:function(){return{major:0,minor:9,micro:8,date:20150413}}}]),e}();exports["default"]=MicrokernelVersion,module.exports=exports["default"];
},{"babel-runtime/core-js":3,"babel-runtime/helpers/class-call-check":4,"babel-runtime/helpers/create-class":5}],94:[function(_dereq_,module,exports){
"use strict";var _createClass=_dereq_("babel-runtime/helpers/create-class")["default"],_classCallCheck=_dereq_("babel-runtime/helpers/class-call-check")["default"],_core=_dereq_("babel-runtime/core-js")["default"];_core.Object.defineProperty(exports,"__esModule",{value:!0});var MicrokernelManifest=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"initializer",value:function(){this.cls2mod=new _core.Map,this.name2mod=new _core.Map,this.mod=new _core.Set,this.modOrder=null}},{key:"add",value:function(e){if("dead"!==this.state())throw new Error("microkernel is not in lowest state");var t=void 0;if("function"==typeof e)t=new e,this.cls2mod.has(e)||this.cls2mod.set(e,[]),this.cls2mod.get(e).push(t);else{if("object"!=typeof e)throw new Error("invalid module (neither function/class nor object)");t=e}if("object"!=typeof t.module)throw new Error('invalid module (no "module" object property)');if("string"!=typeof t.module.name)throw new Error('invalid module (no "module.name" string property)');if(this.name2mod.has(t.module.name))throw new Error("module of name "+t.module.name+" already added");return this.mod.add(t),this.name2mod.set(t.module.name,t),"function"==typeof t.kernel?t.kernel(this):null===t.kernel&&(t.kernel=this),this.publish("microkernel:add",t),this}},{key:"del",value:function(e){var t=this;if("dead"!==this.state())throw new Error("microkernel is not in lowest state");var o=void 0;if("function"==typeof e)return this.cls2mod.get(e).forEach(function(e){t.del(e)}),this.cls2mod["delete"](e),this;if("string"==typeof e)o=this.name2mod(e);else{if("object"!=typeof e)throw new Error("invalid module (neither function/class nor object nor name)");o=e}if(!this.mod.has(o))throw new Error("module not found");return this.publish("microkernel:del",o),"function"==typeof o.kernel?o.kernel(null):"object"==typeof o.kernel&&(o.kernel=null),this.name2mod["delete"](o.module.name),this.mod["delete"](o),this}},{key:"get",value:function(e){if(!this.name2mod.has(e))throw new Error("module not found");return this.name2mod.get(e)}}]),e}();exports["default"]=MicrokernelManifest,module.exports=exports["default"];
},{"babel-runtime/core-js":3,"babel-runtime/helpers/class-call-check":4,"babel-runtime/helpers/create-class":5}],95:[function(_dereq_,module,exports){
"use strict";var _createClass=_dereq_("babel-runtime/helpers/create-class")["default"],_classCallCheck=_dereq_("babel-runtime/helpers/class-call-check")["default"],_core=_dereq_("babel-runtime/core-js")["default"],_interopRequireWildcard=_dereq_("babel-runtime/helpers/interop-require-wildcard")["default"];_core.Object.defineProperty(exports,"__esModule",{value:!0});var _glob=_dereq_("glob"),_glob2=_interopRequireWildcard(_glob),MicrokernelLoader=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"exec",value:function(){for(var e=this,r=arguments.length,n=Array(r),t=0;r>t;t++)n[t]=arguments[t];return new _core.Promise(function(r,t){var o=_core.Promise.resolve();n.forEach(function(r){var n=null!==r.match(/[*?]/)?_glob2["default"].sync(r):[r];if(0===n.length)throw new Error("no files found");n.forEach(function(r){e.publish("microkernel:exec",r);var n=_dereq_(r);if("function"!=typeof n)throw new Error("file has not exported a function");o=o.then(function(){return n(e)})})}),o.then(function(){return r()},function(e){return t(e)})})}},{key:"load",value:function(){for(var e=this,r=arguments.length,n=Array(r),t=0;r>t;t++)n[t]=arguments[t];return n.forEach(function(r){var n=null!==r.match(/[*?]/)?_glob2["default"].sync(r):[r];n.forEach(function(r){e.publish("microkernel:load",r);var n=_dereq_(r);e.add(new n)})}),this}}]),e}();exports["default"]=MicrokernelLoader,module.exports=exports["default"];
},{"babel-runtime/core-js":3,"babel-runtime/helpers/class-call-check":4,"babel-runtime/helpers/create-class":5,"babel-runtime/helpers/interop-require-wildcard":8,"glob":"glob"}],96:[function(_dereq_,module,exports){
"use strict";var _createClass=_dereq_("babel-runtime/helpers/create-class")["default"],_classCallCheck=_dereq_("babel-runtime/helpers/class-call-check")["default"],_slicedToArray=_dereq_("babel-runtime/helpers/sliced-to-array")["default"],_core=_dereq_("babel-runtime/core-js")["default"],_interopRequireWildcard=_dereq_("babel-runtime/helpers/interop-require-wildcard")["default"];_core.Object.defineProperty(exports,"__esModule",{value:!0});var _toposort=_dereq_("toposort"),_toposort2=_interopRequireWildcard(_toposort),states={num2state:[{state:"dead",enter:null,leave:null},{state:"booted",enter:"boot",leave:"shutdown"},{state:"configured",enter:"configure",leave:"reset"},{state:"prepared",enter:"prepare",leave:"release"},{state:"running",enter:"start",leave:"stop"}],groups:["HOOK","SETUP","BOOT","BASE","RESOURCE","SERVICE"],state2num:{}},i=0;states.num2state.forEach(function(e){states.state2num[e.state]=i++});var topoSortModules=function(e){var t={},r={},o={},n={},a={},s={};e.forEach(function(e){var t=e.module.name;s[t]=!0});var u=function(e){return"object"==typeof e&&e instanceof Array?e:"string"==typeof e?[e]:[]},i=function(e,n){e.forEach(function(e){var a=void 0;a=void 0!==r[e]?r[e]:void 0!==o[e]?o[e]:[e],a.forEach(function(e){var r=n(e),o=_slicedToArray(r,2),a=o[0],u=o[1];if(void 0===s[a])throw new Error("unknown module: "+a);if(void 0===s[u])throw new Error("unknown module: "+u);void 0===t[a]&&(t[a]={}),t[a][u]=!0})})};e.forEach(function(e){var t=e.module.name,s=u(e.module.tag),i=u(e.module.before),c=u(e.module.after),l=e.module.group;if(n[t]=[].concat(i),a[t]=[].concat(c),s.forEach(function(e){var o=states.groups.indexOf(e);if(o>-1)throw new Error("invalid tag (cannot be same as pre-defined group): "+e);void 0===r[e]&&(r[e]=[]),r[e].push(t)}),void 0!==l){var f=states.groups.indexOf(l);if(-1===f)throw new Error("invalid group: "+l);void 0===o[l]&&(o[l]=[]),o[l].push(t),f<states.groups.length-1&&n[t].push(states.groups[f+1]),f>0&&a[t].push(states.groups[f-1])}}),e.forEach(function(e){var t=e.module.name,r=n[t],o=a[t];i(o,function(e){return[t,e]}),i(r,function(e){return[e,t]})});var c=[];return _core.Object.keys(t).forEach(function(e){_core.Object.keys(t[e]).forEach(function(t){c.push([e,t])})}),_toposort2["default"].array(_core.Object.keys(s),c).reverse()},MicrokernelState=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"initializer",value:function(){this._state="dead"}},{key:"state",value:function(e){var t=this,r=this._state;if("string"!=typeof e)return r;if(e===r)return _core.Promise.resolve(e);if(void 0===states.state2num[e])throw new Error("state: invalid new state: "+e);null===this.modOrder&&(this.modOrder=topoSortModules(this.mod),this.publish("microkernel:state:toposort",this.modOrder,this.mod));var o=new _core.Promise(function(o,n){var a=states.state2num[r],s=states.state2num[e],u=_core.Promise.resolve(),i=function(e,r,o,n){u=u.then(function(){t.publish("microkernel:state:transit:"+e,states.num2state[r].state,states.num2state[o].state,n)})},c=function(e,r,o,n,a){var s=t.modOrder;n&&(s=s.reverse());for(var c=function(){var r=states.num2state["enter"===o?e+1:e][o];i("before",e,e+a,r),s.forEach(function(e){var o=t.name2mod.get(e);"function"==typeof o[r]&&(u=u.then(function(){return o[r].call(o,t)}))}),e+=a,t._state=states.num2state[e].state,i("after",e-a,e,r)};e!==r;)c()};s>a?c(a,s,"enter",!1,1):a>s&&c(a,s,"leave",!0,-1),u.then(function(){o(e)},function(e){n(e)})});return o=o.then(function(e){return"dead"===e&&(t.modOrder=null),e})}},{key:"boot",value:function(){return this.state("booted")}},{key:"configure",value:function(){return this.state("configured")}},{key:"prepare",value:function(){return this.state("prepared")}},{key:"start",value:function(){return this.state("running")}},{key:"stop",value:function(){return this.state("prepared")}},{key:"release",value:function(){return this.state("configured")}},{key:"reset",value:function(){return this.state("booted")}},{key:"shutdown",value:function(){return this.state("dead")}}]),e}();exports["default"]=MicrokernelState,module.exports=exports["default"];
},{"babel-runtime/core-js":3,"babel-runtime/helpers/class-call-check":4,"babel-runtime/helpers/create-class":5,"babel-runtime/helpers/interop-require-wildcard":8,"babel-runtime/helpers/sliced-to-array":9,"toposort":"toposort"}],97:[function(_dereq_,module,exports){
"use strict";var _createClass=_dereq_("babel-runtime/helpers/create-class")["default"],_classCallCheck=_dereq_("babel-runtime/helpers/class-call-check")["default"],_core=_dereq_("babel-runtime/core-js")["default"];_core.Object.defineProperty(exports,"__esModule",{value:!0});var hook_proc={none:{init:void 0,step:function(){}},pass:{init:function(t){return t[0]},step:function(t,e){return e}},or:{init:!1,step:function(t,e){return t||e}},and:{init:!0,step:function(t,e){return t&&e}},mult:{init:1,step:function(t,e){return t*e}},add:{init:0,step:function(t,e){return t+e}},append:{init:"",step:function(t,e){return t+e}},push:{init:[],step:function(t,e){return t.push(e),t}},concat:{init:[],step:function(t,e){return t.concat(e)}},set:{init:{},step:function(t,e){return t[e]=!0,t}},insert:{init:new _core.Set,step:function(t,e){return t.add(e)}},assign:{init:{},step:function(t,e){return _core.Object.assign(t,e)}}},cnt=0,MicrokernelHook=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"initializer",value:function(){this._hooks={}}},{key:"at",value:function(){return this.latch.apply(this,arguments)}},{key:"latch",value:function(t,e,n){if(arguments.length<2)throw new Error("latch: missing arguments");"undefined"==typeof this._hooks[t]&&(this._hooks[t]=[]);var r=cnt++;return this._hooks[t].push({id:r,cb:e,ctx:n}),r}},{key:"unlatch",value:function(t,e){if(2!==arguments.length)throw new Error("unlatch: invalid number of arguments");if("undefined"==typeof this._hooks[t])throw new Error("unlatch: no such hook: "+t);for(var n=-1,r=0;r<this._hooks[t].length;r++)if(this._hooks[t][r].id===e){n=r;break}if(-1===n)throw new Error("unlatch: no such latched callback");return this._hooks[t]=this._hooks[t].splice(n,1),this}},{key:"hook",value:function(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;n>o;o++)r[o-2]=arguments[o];if(arguments.length<2)throw new Error("hook: missing argument");if("undefined"==typeof hook_proc[e])throw new Error("hook: no such result processing defined");var i=hook_proc[e].init;return"function"==typeof i&&(i=i.call(null,r)),"undefined"!=typeof this._hooks[t]&&this._hooks[t].forEach(function(t){var n,o=(n=t.cb).call.apply(n,[t.ctx].concat(r,[i]));i=hook_proc[e].step.call(null,i,o)}),i}}]),t}();exports["default"]=MicrokernelHook,module.exports=exports["default"];
},{"babel-runtime/core-js":3,"babel-runtime/helpers/class-call-check":4,"babel-runtime/helpers/create-class":5}],98:[function(_dereq_,module,exports){
"use strict";var _createClass=_dereq_("babel-runtime/helpers/create-class")["default"],_classCallCheck=_dereq_("babel-runtime/helpers/class-call-check")["default"],_core=_dereq_("babel-runtime/core-js")["default"];_core.Object.defineProperty(exports,"__esModule",{value:!0});var cnt=0,MicrokernelEvent=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"initializer",value:function(){this._subscription={}}},{key:"on",value:function(){return this.subscribe.apply(this,arguments)}},{key:"subscribe",value:function(e,r,s){if(arguments.length<2)throw new Error("subscribe: missing arguments");var i=cnt++;return void 0===this._subscription[e]&&(this._subscription[e]=[]),this._subscription[e].push({id:i,cb:r,ctx:s}),i}},{key:"unsubscribe",value:function(e,r){if(2!==arguments.length)throw new Error("unsubscribe: invalid number of arguments");for(var s=-1,i=0;i<this._subscription[e].length;i++)if(this._subscription[e][i].id===r){s=i;break}if(-1===s)throw new Error("unsubscribe: no such subscription");this._subscription[e]=this._subscription[e].splice(s,1)}},{key:"publish",value:function(e){for(var r=arguments.length,s=Array(r>1?r-1:0),i=1;r>i;i++)s[i-1]=arguments[i];if(arguments.length<1)throw new Error("publish: missing argument");if(void 0===this._subscription[e])return _core.Promise.resolve();var t=[];return this._subscription[e].forEach(function(e){t.push(new _core.Promise(function(r){setTimeout(function(){r(e.cb.apply(e.ctx,s))},0)}))}),_core.Promise.all(t)}}]),e}();exports["default"]=MicrokernelEvent,module.exports=exports["default"];
},{"babel-runtime/core-js":3,"babel-runtime/helpers/class-call-check":4,"babel-runtime/helpers/create-class":5}],99:[function(_dereq_,module,exports){
"use strict";var _createClass=_dereq_("babel-runtime/helpers/create-class")["default"],_classCallCheck=_dereq_("babel-runtime/helpers/class-call-check")["default"],_core=_dereq_("babel-runtime/core-js")["default"];_core.Object.defineProperty(exports,"__esModule",{value:!0});var MicrokernelService=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"initializer",value:function(){this._registration={}}},{key:"sv",value:function(){return this.service.apply(this,arguments)}},{key:"register",value:function(e,r,t){if(arguments.length<2)throw new Error("register: missing arguments");if(void 0!==this._registration[e])throw new Error("register: service already registered: "+e);return this._registration[e]={cb:r,ctx:t},this}},{key:"unregister",value:function(e){if(2!==arguments.length)throw new Error("unregister: invalid number of arguments");if(void 0===this._registration[e])throw new Error("unregister: no such registration");return delete this._registration[e],this}},{key:"service",value:function(e){for(var r=arguments.length,t=Array(r>1?r-1:0),i=1;r>i;i++)t[i-1]=arguments[i];if(arguments.length<1)throw new Error("call: missing argument");if(void 0===this._registration[e])throw new Error("call: no such service registered: "+e);var s=this._registration[e];return s.cb.apply(s.ctx,t)}}]),e}();exports["default"]=MicrokernelService,module.exports=exports["default"];
},{"babel-runtime/core-js":3,"babel-runtime/helpers/class-call-check":4,"babel-runtime/helpers/create-class":5}],100:[function(_dereq_,module,exports){
"use strict";var _createClass=_dereq_("babel-runtime/helpers/create-class")["default"],_classCallCheck=_dereq_("babel-runtime/helpers/class-call-check")["default"],_core=_dereq_("babel-runtime/core-js")["default"];_core.Object.defineProperty(exports,"__esModule",{value:!0});var MicrokernelResource=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"initializer",value:function(){this._resource={}}},{key:"rs",value:function(){return this.resource.apply(this,arguments)}},{key:"resource",value:function(e,r){if(arguments.length>2)throw new Error("resource: invalid number of arguments");var s=this._resource[e];return 2===arguments.length&&(this._resource[e]=r),s}}]),e}();exports["default"]=MicrokernelResource,module.exports=exports["default"];
},{"babel-runtime/core-js":3,"babel-runtime/helpers/class-call-check":4,"babel-runtime/helpers/create-class":5}],101:[function(_dereq_,module,exports){
"use strict";var _inherits=_dereq_("babel-runtime/helpers/inherits")["default"],_get=_dereq_("babel-runtime/helpers/get")["default"],_classCallCheck=_dereq_("babel-runtime/helpers/class-call-check")["default"],_core=_dereq_("babel-runtime/core-js")["default"],_interopRequireWildcard=_dereq_("babel-runtime/helpers/interop-require-wildcard")["default"];_core.Object.defineProperty(exports,"__esModule",{value:!0});var _aggregation2=_dereq_("aggregation/es6"),_aggregation3=_interopRequireWildcard(_aggregation2),_Version=_dereq_("./microkernel-1-version"),_Version2=_interopRequireWildcard(_Version),_Manifest=_dereq_("./microkernel-2-manifest"),_Manifest2=_interopRequireWildcard(_Manifest),_Loader=_dereq_("./microkernel-3-loader"),_Loader2=_interopRequireWildcard(_Loader),_State=_dereq_("./microkernel-4-state"),_State2=_interopRequireWildcard(_State),_Hook=_dereq_("./microkernel-5-hook"),_Hook2=_interopRequireWildcard(_Hook),_Event=_dereq_("./microkernel-6-event"),_Event2=_interopRequireWildcard(_Event),_Service=_dereq_("./microkernel-7-service"),_Service2=_interopRequireWildcard(_Service),_Resource=_dereq_("./microkernel-8-resource"),_Resource2=_interopRequireWildcard(_Resource),Microkernel=function(e){function r(){_classCallCheck(this,r),_get(_core.Object.getPrototypeOf(r.prototype),"constructor",this).call(this)}return _inherits(r,e),r}(_aggregation3["default"](_Version2["default"],_Manifest2["default"],_Loader2["default"],_State2["default"],_Hook2["default"],_Event2["default"],_Service2["default"],_Resource2["default"]));exports["default"]=Microkernel,module.exports=exports["default"];
},{"./microkernel-1-version":93,"./microkernel-2-manifest":94,"./microkernel-3-loader":95,"./microkernel-4-state":96,"./microkernel-5-hook":97,"./microkernel-6-event":98,"./microkernel-7-service":99,"./microkernel-8-resource":100,"aggregation/es6":1,"babel-runtime/core-js":3,"babel-runtime/helpers/class-call-check":4,"babel-runtime/helpers/get":6,"babel-runtime/helpers/inherits":7,"babel-runtime/helpers/interop-require-wildcard":8}]},{},[101])(101)
});


//# sourceMappingURL=microkernel.map