/*
**  Microkernel -- Microkernel for Server Applications
**  Copyright (c) 2015 Ralf S. Engelschall <rse@engelschall.com>
**
**  Permission is hereby granted, free of charge, to any person obtaining
**  a copy of this software and associated documentation files (the
**  "Software"), to deal in the Software without restriction, including
**  without limitation the rights to use, copy, modify, merge, publish,
**  distribute, sublicense, and/or sell copies of the Software, and to
**  permit persons to whom the Software is furnished to do so, subject to
**  the following conditions:
**
**  The above copyright notice and this permission notice shall be included
**  in all copies or substantial portions of the Software.
**
**  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/

(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Microkernel = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){
"use strict";module.exports=_dereq_("./src/aggregation-es6.js");
},{"./src/aggregation-es6.js":2}],2:[function(_dereq_,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0});var _get=function(t,e,r){for(var o=!0;o;){var n=t,i=e,a=r;c=l=p=void 0,o=!1,null===n&&(n=Function.prototype);var c=Object.getOwnPropertyDescriptor(n,i);if(void 0!==c){if("value"in c)return c.value;var p=c.get;return void 0===p?void 0:p.call(a)}var l=Object.getPrototypeOf(n);if(null===l)return void 0;t=l,e=i,r=a,o=!0}},aggregation=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),o=1;e>o;o++)r[o-1]=arguments[o];var n=function(t){function e(){var t=this;_classCallCheck(this,e);for(var o=arguments.length,n=Array(o),i=0;o>i;i++)n[i]=arguments[i];_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,n),r.forEach(function(e){"function"==typeof e.prototype.initializer&&e.prototype.initializer.call(t)})}return _inherits(e,t),e}(t),i=function(t,e){Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)).forEach(function(r){r.match(/^(?:initializer|constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)||Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})};return r.forEach(function(t){i(n.prototype,t.prototype),i(n,t)}),n};exports["default"]=aggregation,module.exports=exports["default"];
},{}],3:[function(_dereq_,module,exports){
module.exports={"default":_dereq_("core-js/library/fn/map"),__esModule:!0};
},{"core-js/library/fn/map":16}],4:[function(_dereq_,module,exports){
module.exports={"default":_dereq_("core-js/library/fn/object/assign"),__esModule:!0};
},{"core-js/library/fn/object/assign":17}],5:[function(_dereq_,module,exports){
module.exports={"default":_dereq_("core-js/library/fn/object/create"),__esModule:!0};
},{"core-js/library/fn/object/create":18}],6:[function(_dereq_,module,exports){
module.exports={"default":_dereq_("core-js/library/fn/object/define-property"),__esModule:!0};
},{"core-js/library/fn/object/define-property":19}],7:[function(_dereq_,module,exports){
module.exports={"default":_dereq_("core-js/library/fn/object/get-own-property-descriptor"),__esModule:!0};
},{"core-js/library/fn/object/get-own-property-descriptor":20}],8:[function(_dereq_,module,exports){
module.exports={"default":_dereq_("core-js/library/fn/object/set-prototype-of"),__esModule:!0};
},{"core-js/library/fn/object/set-prototype-of":21}],9:[function(_dereq_,module,exports){
module.exports={"default":_dereq_("core-js/library/fn/promise"),__esModule:!0};
},{"core-js/library/fn/promise":22}],10:[function(_dereq_,module,exports){
module.exports={"default":_dereq_("core-js/library/fn/set"),__esModule:!0};
},{"core-js/library/fn/set":23}],11:[function(_dereq_,module,exports){
"use strict";exports["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},exports.__esModule=!0;
},{}],12:[function(_dereq_,module,exports){
"use strict";var _Object$defineProperty=_dereq_("babel-runtime/core-js/object/define-property")["default"];exports["default"]=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),_Object$defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),exports.__esModule=!0;
},{"babel-runtime/core-js/object/define-property":6}],13:[function(_dereq_,module,exports){
"use strict";var _Object$getOwnPropertyDescriptor=_dereq_("babel-runtime/core-js/object/get-own-property-descriptor")["default"];exports["default"]=function(e,r,t){for(var o=!0;o;){var i=e,u=r,n=t;v=c=a=void 0,o=!1,null===i&&(i=Function.prototype);var v=_Object$getOwnPropertyDescriptor(i,u);if(void 0!==v){if("value"in v)return v.value;var a=v.get;return void 0===a?void 0:a.call(n)}var c=Object.getPrototypeOf(i);if(null===c)return void 0;e=c,r=u,t=n,o=!0}},exports.__esModule=!0;
},{"babel-runtime/core-js/object/get-own-property-descriptor":7}],14:[function(_dereq_,module,exports){
"use strict";var _Object$create=_dereq_("babel-runtime/core-js/object/create")["default"],_Object$setPrototypeOf=_dereq_("babel-runtime/core-js/object/set-prototype-of")["default"];exports["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=_Object$create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(_Object$setPrototypeOf?_Object$setPrototypeOf(e,t):e.__proto__=t)},exports.__esModule=!0;
},{"babel-runtime/core-js/object/create":5,"babel-runtime/core-js/object/set-prototype-of":8}],15:[function(_dereq_,module,exports){
"use strict";exports["default"]=function(e){return e&&e.__esModule?e:{"default":e}},exports.__esModule=!0;
},{}],16:[function(_dereq_,module,exports){
_dereq_("../modules/es6.object.to-string"),_dereq_("../modules/es6.string.iterator"),_dereq_("../modules/web.dom.iterable"),_dereq_("../modules/es6.map"),_dereq_("../modules/es7.map.to-json"),module.exports=_dereq_("../modules/$.core").Map;
},{"../modules/$.core":32,"../modules/es6.map":77,"../modules/es6.object.to-string":81,"../modules/es6.string.iterator":84,"../modules/es7.map.to-json":85,"../modules/web.dom.iterable":87}],17:[function(_dereq_,module,exports){
_dereq_("../../modules/es6.object.assign"),module.exports=_dereq_("../../modules/$.core").Object.assign;
},{"../../modules/$.core":32,"../../modules/es6.object.assign":78}],18:[function(_dereq_,module,exports){
var $=_dereq_("../../modules/$");module.exports=function(e,r){return $.create(e,r)};
},{"../../modules/$":55}],19:[function(_dereq_,module,exports){
var $=_dereq_("../../modules/$");module.exports=function(e,r,u){return $.setDesc(e,r,u)};
},{"../../modules/$":55}],20:[function(_dereq_,module,exports){
var $=_dereq_("../../modules/$");_dereq_("../../modules/es6.object.statics-accept-primitives"),module.exports=function(e,r){return $.getDesc(e,r)};
},{"../../modules/$":55,"../../modules/es6.object.statics-accept-primitives":80}],21:[function(_dereq_,module,exports){
_dereq_("../../modules/es6.object.set-prototype-of"),module.exports=_dereq_("../../modules/$.core").Object.setPrototypeOf;
},{"../../modules/$.core":32,"../../modules/es6.object.set-prototype-of":79}],22:[function(_dereq_,module,exports){
_dereq_("../modules/es6.object.to-string"),_dereq_("../modules/es6.string.iterator"),_dereq_("../modules/web.dom.iterable"),_dereq_("../modules/es6.promise"),module.exports=_dereq_("../modules/$.core").Promise;
},{"../modules/$.core":32,"../modules/es6.object.to-string":81,"../modules/es6.promise":82,"../modules/es6.string.iterator":84,"../modules/web.dom.iterable":87}],23:[function(_dereq_,module,exports){
_dereq_("../modules/es6.object.to-string"),_dereq_("../modules/es6.string.iterator"),_dereq_("../modules/web.dom.iterable"),_dereq_("../modules/es6.set"),_dereq_("../modules/es7.set.to-json"),module.exports=_dereq_("../modules/$.core").Set;
},{"../modules/$.core":32,"../modules/es6.object.to-string":81,"../modules/es6.set":83,"../modules/es6.string.iterator":84,"../modules/es7.set.to-json":86,"../modules/web.dom.iterable":87}],24:[function(_dereq_,module,exports){
module.exports=function(o){if("function"!=typeof o)throw TypeError(o+" is not a function!");return o};
},{}],25:[function(_dereq_,module,exports){
var isObject=_dereq_("./$.is-object");module.exports=function(e){if(!isObject(e))throw TypeError(e+" is not an object!");return e};
},{"./$.is-object":47}],26:[function(_dereq_,module,exports){
var toObject=_dereq_("./$.to-object"),ES5Object=_dereq_("./$.es5-object"),enumKeys=_dereq_("./$.enum-keys");module.exports=Object.assign||function(e,t){for(var r=toObject(e,!0),n=arguments.length,u=1;n>u;)for(var o,s=ES5Object(arguments[u++]),c=enumKeys(s),b=c.length,j=0;b>j;)r[o=c[j++]]=s[o];return r};
},{"./$.enum-keys":37,"./$.es5-object":38,"./$.to-object":71}],27:[function(_dereq_,module,exports){
var cof=_dereq_("./$.cof"),TAG=_dereq_("./$.wks")("toStringTag"),ARG="Arguments"==cof(function(){return arguments}());module.exports=function(e){var n,r,t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=(n=Object(e))[TAG])?r:ARG?cof(n):"Object"==(t=cof(n))&&"function"==typeof n.callee?"Arguments":t};
},{"./$.cof":28,"./$.wks":74}],28:[function(_dereq_,module,exports){
var toString={}.toString;module.exports=function(t){return toString.call(t).slice(8,-1)};
},{}],29:[function(_dereq_,module,exports){
"use strict";function fastKey(e,t){if(!isObject(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!$has(e,ID)){if(!isExtensible(e))return"F";if(!t)return"E";hide(e,ID,++id)}return"O"+e[ID]}function getEntry(e,t){var r,i=fastKey(t);if("F"!==i)return e._i[i];for(r=e._f;r;r=r.n)if(r.k==t)return r}var $=_dereq_("./$"),hide=_dereq_("./$.hide"),ctx=_dereq_("./$.ctx"),species=_dereq_("./$.species"),strictNew=_dereq_("./$.strict-new"),defined=_dereq_("./$.defined"),forOf=_dereq_("./$.for-of"),step=_dereq_("./$.iter-step"),ID=_dereq_("./$.uid")("id"),$has=_dereq_("./$.has"),isObject=_dereq_("./$.is-object"),isExtensible=Object.isExtensible||isObject,SUPPORT_DESC=_dereq_("./$.support-desc"),SIZE=SUPPORT_DESC?"_s":"size",id=0;module.exports={getConstructor:function(e,t,r,i){var n=e(function(e,s){strictNew(e,n,t),e._i=$.create(null),e._f=void 0,e._l=void 0,e[SIZE]=0,void 0!=s&&forOf(s,r,e[i],e)});return _dereq_("./$.mix")(n.prototype,{clear:function(){for(var e=this,t=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete t[r.i];e._f=e._l=void 0,e[SIZE]=0},"delete":function(e){var t=this,r=getEntry(t,e);if(r){var i=r.n,n=r.p;delete t._i[r.i],r.r=!0,n&&(n.n=i),i&&(i.p=n),t._f==r&&(t._f=i),t._l==r&&(t._l=n),t[SIZE]--}return!!r},forEach:function(e){for(var t,r=ctx(e,arguments[1],3);t=t?t.n:this._f;)for(r(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!getEntry(this,e)}}),SUPPORT_DESC&&$.setDesc(n.prototype,"size",{get:function(){return defined(this[SIZE])}}),n},def:function(e,t,r){var i,n,s=getEntry(e,t);return s?s.v=r:(e._l=s={i:n=fastKey(t,!0),k:t,v:r,p:i=e._l,n:void 0,r:!1},e._f||(e._f=s),i&&(i.n=s),e[SIZE]++,"F"!==n&&(e._i[n]=s)),e},getEntry:getEntry,setStrong:function(e,t,r){_dereq_("./$.iter-define")(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,r=e._l;r&&r.r;)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?"keys"==t?step(0,r.k):"values"==t?step(0,r.v):step(0,[r.k,r.v]):(e._t=void 0,step(1))},r?"entries":"values",!r,!0),species(e),species(_dereq_("./$.core")[t])}};
},{"./$":55,"./$.core":32,"./$.ctx":33,"./$.defined":35,"./$.for-of":39,"./$.has":42,"./$.hide":43,"./$.is-object":47,"./$.iter-define":51,"./$.iter-step":53,"./$.mix":57,"./$.species":63,"./$.strict-new":64,"./$.support-desc":66,"./$.uid":72}],30:[function(_dereq_,module,exports){
var forOf=_dereq_("./$.for-of"),classof=_dereq_("./$.classof");module.exports=function(r){return function(){if(classof(this)!=r)throw TypeError(r+"#toJSON isn't generic");var o=[];return forOf(this,!1,o.push,o),o}};
},{"./$.classof":27,"./$.for-of":39}],31:[function(_dereq_,module,exports){
"use strict";var $=_dereq_("./$"),$def=_dereq_("./$.def"),hide=_dereq_("./$.hide"),BUGGY=_dereq_("./$.iter-buggy"),forOf=_dereq_("./$.for-of"),strictNew=_dereq_("./$.strict-new");module.exports=function(e,r,t,i,o,s){var u=_dereq_("./$.global")[e],n=u,c=o?"set":"add",f=n&&n.prototype,d={};return _dereq_("./$.support-desc")&&"function"==typeof n&&(s||!BUGGY&&f.forEach&&f.entries)?(n=r(function(r,t){strictNew(r,n,e),r._c=new u,void 0!=t&&forOf(t,o,r[c],r)}),$.each.call("add,clear,delete,forEach,get,has,set,keys,values,entries".split(","),function(e){var r="add"==e||"set"==e;e in f&&(!s||"clear"!=e)&&hide(n.prototype,e,function(t,i){var o=this._c[e](0===t?0:t,i);return r?this:o})}),"size"in f&&$.setDesc(n.prototype,"size",{get:function(){return this._c.size}})):(n=i.getConstructor(r,e,o,c),_dereq_("./$.mix")(n.prototype,t)),_dereq_("./$.tag")(n,e),d[e]=n,$def($def.G+$def.W+$def.F,d),s||i.setStrong(n,e,o),n};
},{"./$":55,"./$.def":34,"./$.for-of":39,"./$.global":41,"./$.hide":43,"./$.iter-buggy":48,"./$.mix":57,"./$.strict-new":64,"./$.support-desc":66,"./$.tag":67}],32:[function(_dereq_,module,exports){
var core=module.exports={};"number"==typeof __e&&(__e=core);
},{}],33:[function(_dereq_,module,exports){
var aFunction=_dereq_("./$.a-function");module.exports=function(n,r,t){if(aFunction(n),~t&&void 0===r)return n;switch(t){case 1:return function(t){return n.call(r,t)};case 2:return function(t,u){return n.call(r,t,u)};case 3:return function(t,u,e){return n.call(r,t,u,e)}}return function(){return n.apply(r,arguments)}};
},{"./$.a-function":24}],34:[function(_dereq_,module,exports){
function ctx(e,o){return function(){return e.apply(o,arguments)}}function $def(e,o,n){var f,t,r,c,l=e&$def.G,$=e&$def.P,d=l?global:e&$def.S?global[o]:(global[o]||{})[PROTOTYPE],i=l?core:core[o]||(core[o]={});l&&(n=o);for(f in n)t=!(e&$def.F)&&d&&f in d,t&&f in i||(r=t?d[f]:n[f],l&&"function"!=typeof d[f]?c=n[f]:e&$def.B&&t?c=ctx(r,global):e&$def.W&&d[f]==r?!function(e){c=function(o){return this instanceof e?new e(o):e(o)},c[PROTOTYPE]=e[PROTOTYPE]}(r):c=$&&"function"==typeof r?ctx(Function.call,r):r,i[f]=c,$&&((i[PROTOTYPE]||(i[PROTOTYPE]={}))[f]=r))}var global=_dereq_("./$.global"),core=_dereq_("./$.core"),PROTOTYPE="prototype";$def.F=1,$def.G=2,$def.S=4,$def.P=8,$def.B=16,$def.W=32,module.exports=$def;
},{"./$.core":32,"./$.global":41}],35:[function(_dereq_,module,exports){
module.exports=function(o){if(void 0==o)throw TypeError("Can't call method on  "+o);return o};
},{}],36:[function(_dereq_,module,exports){
var isObject=_dereq_("./$.is-object"),document=_dereq_("./$.global").document,is=isObject(document)&&isObject(document.createElement);module.exports=function(e){return is?document.createElement(e):{}};
},{"./$.global":41,"./$.is-object":47}],37:[function(_dereq_,module,exports){
var $=_dereq_("./$");module.exports=function(e){var r=$.getKeys(e),t=$.isEnum,u=$.getSymbols;if(u)for(var l,n=u(e),o=0;n.length>o;)t.call(e,l=n[o++])&&r.push(l);return r};
},{"./$":55}],38:[function(_dereq_,module,exports){
var cof=_dereq_("./$.cof"),$Object=Object;module.exports=0 in $Object("z")?$Object:function(e){return"String"==cof(e)?e.split(""):$Object(e)};
},{"./$.cof":28}],39:[function(_dereq_,module,exports){
var ctx=_dereq_("./$.ctx"),call=_dereq_("./$.iter-call"),isArrayIter=_dereq_("./$.is-array-iter"),anObject=_dereq_("./$.an-object"),toLength=_dereq_("./$.to-length"),getIterFn=_dereq_("./core.get-iterator-method");module.exports=function(e,r,t,i){var o,a,n,l=getIterFn(e),c=ctx(t,i,r?2:1),u=0;if("function"!=typeof l)throw TypeError(e+" is not iterable!");if(isArrayIter(l))for(o=toLength(e.length);o>u;u++)r?c(anObject(a=e[u])[0],a[1]):c(e[u]);else for(n=l.call(e);!(a=n.next()).done;)call(n,c,a.value,r)};
},{"./$.an-object":25,"./$.ctx":33,"./$.is-array-iter":46,"./$.iter-call":49,"./$.to-length":70,"./core.get-iterator-method":75}],40:[function(_dereq_,module,exports){
function getWindowNames(e){try{return getNames(e)}catch(t){return windowNames.slice()}}var toString={}.toString,toObject=_dereq_("./$.to-object"),getNames=_dereq_("./$").getNames,windowNames="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];module.exports.get=function(e){return windowNames&&"[object Window]"==toString.call(e)?getWindowNames(e):getNames(toObject(e))};
},{"./$":55,"./$.to-object":71}],41:[function(_dereq_,module,exports){
var global="undefined"!=typeof self&&self.Math==Math?self:Function("return this")();module.exports=global,"number"==typeof __g&&(__g=global);
},{}],42:[function(_dereq_,module,exports){
var hasOwnProperty={}.hasOwnProperty;module.exports=function(r,e){return hasOwnProperty.call(r,e)};
},{}],43:[function(_dereq_,module,exports){
var $=_dereq_("./$"),createDesc=_dereq_("./$.property-desc");module.exports=_dereq_("./$.support-desc")?function(e,r,t){return $.setDesc(e,r,createDesc(1,t))}:function(e,r,t){return e[r]=t,e};
},{"./$":55,"./$.property-desc":58,"./$.support-desc":66}],44:[function(_dereq_,module,exports){
module.exports=_dereq_("./$.global").document&&document.documentElement;
},{"./$.global":41}],45:[function(_dereq_,module,exports){
module.exports=function(e,r,l){var a=void 0===l;switch(r.length){case 0:return a?e():e.call(l);case 1:return a?e(r[0]):e.call(l,r[0]);case 2:return a?e(r[0],r[1]):e.call(l,r[0],r[1]);case 3:return a?e(r[0],r[1],r[2]):e.call(l,r[0],r[1],r[2]);case 4:return a?e(r[0],r[1],r[2],r[3]):e.call(l,r[0],r[1],r[2],r[3]);case 5:return a?e(r[0],r[1],r[2],r[3],r[4]):e.call(l,r[0],r[1],r[2],r[3],r[4])}return e.apply(l,r)};
},{}],46:[function(_dereq_,module,exports){
var Iterators=_dereq_("./$.iterators"),ITERATOR=_dereq_("./$.wks")("iterator");module.exports=function(r){return("Array"in Iterators?Iterators.Array:Array.prototype[ITERATOR])===r};
},{"./$.iterators":54,"./$.wks":74}],47:[function(_dereq_,module,exports){
module.exports=function(o){return null!==o&&("object"==typeof o||"function"==typeof o)};
},{}],48:[function(_dereq_,module,exports){
module.exports="keys"in[]&&!("next"in[].keys());
},{}],49:[function(_dereq_,module,exports){
function close(e){var t=e["return"];void 0!==t&&anObject(t.call(e))}var anObject=_dereq_("./$.an-object");module.exports=function(e,t,c,r){try{return r?t(anObject(c)[0],c[1]):t(c)}catch(n){throw close(e),n}};
},{"./$.an-object":25}],50:[function(_dereq_,module,exports){
"use strict";var $=_dereq_("./$"),IteratorPrototype={};_dereq_("./$.hide")(IteratorPrototype,_dereq_("./$.wks")("iterator"),function(){return this}),module.exports=function(r,e,t){r.prototype=$.create(IteratorPrototype,{next:_dereq_("./$.property-desc")(1,t)}),_dereq_("./$.tag")(r,e+" Iterator")};
},{"./$":55,"./$.hide":43,"./$.property-desc":58,"./$.tag":67,"./$.wks":74}],51:[function(_dereq_,module,exports){
"use strict";function returnThis(){return this}var LIBRARY=_dereq_("./$.library"),$def=_dereq_("./$.def"),$redef=_dereq_("./$.redef"),hide=_dereq_("./$.hide"),has=_dereq_("./$.has"),SYMBOL_ITERATOR=_dereq_("./$.wks")("iterator"),Iterators=_dereq_("./$.iterators"),FF_ITERATOR="@@iterator",KEYS="keys",VALUES="values";module.exports=function(e,r,t,i,u,n,s){function a(e){switch(e){case KEYS:return function(){return new t(this,e)};case VALUES:return function(){return new t(this,e)}}return function(){return new t(this,e)}}_dereq_("./$.iter-create")(t,r,i);var o,R,f=r+" Iterator",T=e.prototype,$=T[SYMBOL_ITERATOR]||T[FF_ITERATOR]||u&&T[u],h=$||a(u);if($){var A=_dereq_("./$").getProto(h.call(new e));_dereq_("./$.tag")(A,f,!0),!LIBRARY&&has(T,FF_ITERATOR)&&hide(A,SYMBOL_ITERATOR,returnThis)}if((!LIBRARY||s)&&hide(T,SYMBOL_ITERATOR,h),Iterators[r]=h,Iterators[f]=returnThis,u)if(o={keys:n?h:a(KEYS),values:u==VALUES?h:a(VALUES),entries:u!=VALUES?h:a("entries")},s)for(R in o)R in T||$redef(T,R,o[R]);else $def($def.P+$def.F*_dereq_("./$.iter-buggy"),r,o)};
},{"./$":55,"./$.def":34,"./$.has":42,"./$.hide":43,"./$.iter-buggy":48,"./$.iter-create":50,"./$.iterators":54,"./$.library":56,"./$.redef":59,"./$.tag":67,"./$.wks":74}],52:[function(_dereq_,module,exports){
var SYMBOL_ITERATOR=_dereq_("./$.wks")("iterator"),SAFE_CLOSING=!1;try{var riter=[7][SYMBOL_ITERATOR]();riter["return"]=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}module.exports=function(r){if(!SAFE_CLOSING)return!1;var t=!1;try{var n=[7],e=n[SYMBOL_ITERATOR]();e.next=function(){t=!0},n[SYMBOL_ITERATOR]=function(){return e},r(n)}catch(i){}return t};
},{"./$.wks":74}],53:[function(_dereq_,module,exports){
module.exports=function(e,n){return{value:n,done:!!e}};
},{}],54:[function(_dereq_,module,exports){
module.exports={};
},{}],55:[function(_dereq_,module,exports){
var $Object=Object;module.exports={create:$Object.create,getProto:$Object.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:$Object.getOwnPropertyDescriptor,setDesc:$Object.defineProperty,setDescs:$Object.defineProperties,getKeys:$Object.keys,getNames:$Object.getOwnPropertyNames,getSymbols:$Object.getOwnPropertySymbols,each:[].forEach};
},{}],56:[function(_dereq_,module,exports){
module.exports=!0;
},{}],57:[function(_dereq_,module,exports){
var $redef=_dereq_("./$.redef");module.exports=function(e,r){for(var f in r)$redef(e,f,r[f]);return e};
},{"./$.redef":59}],58:[function(_dereq_,module,exports){
module.exports=function(e,r){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:r}};
},{}],59:[function(_dereq_,module,exports){
module.exports=_dereq_("./$.hide");
},{"./$.hide":43}],60:[function(_dereq_,module,exports){
module.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t};
},{}],61:[function(_dereq_,module,exports){
function check(e,t){if(anObject(e),!isObject(t)&&null!==t)throw TypeError(t+": can't set as prototype!")}var getDesc=_dereq_("./$").getDesc,isObject=_dereq_("./$.is-object"),anObject=_dereq_("./$.an-object");module.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t){try{t=_dereq_("./$.ctx")(Function.call,getDesc(Object.prototype,"__proto__").set,2),t({},[])}catch(c){e=!0}return function(c,r){return check(c,r),e?c.__proto__=r:t(c,r),c}}():void 0),check:check};
},{"./$":55,"./$.an-object":25,"./$.ctx":33,"./$.is-object":47}],62:[function(_dereq_,module,exports){
var global=_dereq_("./$.global"),SHARED="__core-js_shared__",store=global[SHARED]||(global[SHARED]={});module.exports=function(o){return store[o]||(store[o]={})};
},{"./$.global":41}],63:[function(_dereq_,module,exports){
var $=_dereq_("./$"),SPECIES=_dereq_("./$.wks")("species");module.exports=function(e){!_dereq_("./$.support-desc")||SPECIES in e||$.setDesc(e,SPECIES,{configurable:!0,get:function(){return this}})};
},{"./$":55,"./$.support-desc":66,"./$.wks":74}],64:[function(_dereq_,module,exports){
module.exports=function(e,r,o){if(!(e instanceof r))throw TypeError(o+": use the 'new' operator!");return e};
},{}],65:[function(_dereq_,module,exports){
var toInteger=_dereq_("./$.to-integer"),defined=_dereq_("./$.defined");module.exports=function(e){return function(r,t){var n,i,d=String(defined(r)),o=toInteger(t),u=d.length;return 0>o||o>=u?e?"":void 0:(n=d.charCodeAt(o),55296>n||n>56319||o+1===u||(i=d.charCodeAt(o+1))<56320||i>57343?e?d.charAt(o):n:e?d.slice(o,o+2):(n-55296<<10)+(i-56320)+65536)}};
},{"./$.defined":35,"./$.to-integer":69}],66:[function(_dereq_,module,exports){
module.exports=!!function(){try{return 2==Object.defineProperty({},"a",{get:function(){return 2}}).a}catch(t){}}();
},{}],67:[function(_dereq_,module,exports){
var has=_dereq_("./$.has"),hide=_dereq_("./$.hide"),TAG=_dereq_("./$.wks")("toStringTag");module.exports=function(e,r,i){e&&!has(e=i?e:e.prototype,TAG)&&hide(e,TAG,r)};
},{"./$.has":42,"./$.hide":43,"./$.wks":74}],68:[function(_dereq_,module,exports){
"use strict";function run(){var e=+this;if(queue.hasOwnProperty(e)){var t=queue[e];delete queue[e],t()}}function listner(e){run.call(e.data)}var ctx=_dereq_("./$.ctx"),invoke=_dereq_("./$.invoke"),html=_dereq_("./$.html"),cel=_dereq_("./$.dom-create"),global=_dereq_("./$.global"),process=global.process,setTask=global.setImmediate,clearTask=global.clearImmediate,MessageChannel=global.MessageChannel,counter=0,queue={},ONREADYSTATECHANGE="onreadystatechange",defer,channel,port;setTask&&clearTask||(setTask=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return queue[++counter]=function(){invoke("function"==typeof e?e:Function(e),t)},defer(counter),counter},clearTask=function(e){delete queue[e]},"process"==_dereq_("./$.cof")(process)?defer=function(e){process.nextTick(ctx(run,e,1))}:global.addEventListener&&"function"==typeof postMessage&&!global.importScripts?(defer=function(e){global.postMessage(e,"*")},global.addEventListener("message",listner,!1)):MessageChannel?(channel=new MessageChannel,port=channel.port2,channel.port1.onmessage=listner,defer=ctx(port.postMessage,port,1)):defer=ONREADYSTATECHANGE in cel("script")?function(e){html.appendChild(cel("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this),run.call(e)}}:function(e){setTimeout(ctx(run,e,1),0)}),module.exports={set:setTask,clear:clearTask};
},{"./$.cof":28,"./$.ctx":33,"./$.dom-create":36,"./$.global":41,"./$.html":44,"./$.invoke":45}],69:[function(_dereq_,module,exports){
var ceil=Math.ceil,floor=Math.floor;module.exports=function(o){return isNaN(o=+o)?0:(o>0?floor:ceil)(o)};
},{}],70:[function(_dereq_,module,exports){
var toInteger=_dereq_("./$.to-integer"),min=Math.min;module.exports=function(e){return e>0?min(toInteger(e),9007199254740991):0};
},{"./$.to-integer":69}],71:[function(_dereq_,module,exports){
var ES5Object=_dereq_("./$.es5-object"),defined=_dereq_("./$.defined");module.exports=function(e,r){return(r?Object:ES5Object)(defined(e))};
},{"./$.defined":35,"./$.es5-object":38}],72:[function(_dereq_,module,exports){
var id=0,px=Math.random();module.exports=function(o){return"Symbol(".concat(void 0===o?"":o,")_",(++id+px).toString(36))};
},{}],73:[function(_dereq_,module,exports){
module.exports=function(){};
},{}],74:[function(_dereq_,module,exports){
var store=_dereq_("./$.shared")("wks"),Symbol=_dereq_("./$.global").Symbol;module.exports=function(r){return store[r]||(store[r]=Symbol&&Symbol[r]||(Symbol||_dereq_("./$.uid"))("Symbol."+r))};
},{"./$.global":41,"./$.shared":62,"./$.uid":72}],75:[function(_dereq_,module,exports){
var global=_dereq_("./$.global"),classof=_dereq_("./$.classof"),ITERATOR=_dereq_("./$.wks")("iterator"),Iterators=_dereq_("./$.iterators");module.exports=_dereq_("./$.core").getIteratorMethod=function(r){var e=global.Symbol;return void 0!=r?r[e&&e.iterator||"@@iterator"]||r[ITERATOR]||Iterators[classof(r)]:void 0};
},{"./$.classof":27,"./$.core":32,"./$.global":41,"./$.iterators":54,"./$.wks":74}],76:[function(_dereq_,module,exports){
var setUnscope=_dereq_("./$.unscope"),step=_dereq_("./$.iter-step"),Iterators=_dereq_("./$.iterators"),toObject=_dereq_("./$.to-object");_dereq_("./$.iter-define")(Array,"Array",function(e,t){this._t=toObject(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,s=this._i++;return!e||s>=e.length?(this._t=void 0,step(1)):"keys"==t?step(0,s):"values"==t?step(0,e[s]):step(0,[s,e[s]])},"values"),Iterators.Arguments=Iterators.Array,setUnscope("keys"),setUnscope("values"),setUnscope("entries");
},{"./$.iter-define":51,"./$.iter-step":53,"./$.iterators":54,"./$.to-object":71,"./$.unscope":73}],77:[function(_dereq_,module,exports){
"use strict";var strong=_dereq_("./$.collection-strong");_dereq_("./$.collection")("Map",function(t){return function(){return t(this,arguments[0])}},{get:function(t){var r=strong.getEntry(this,t);return r&&r.v},set:function(t,r){return strong.def(this,0===t?0:t,r)}},strong,!0);
},{"./$.collection":31,"./$.collection-strong":29}],78:[function(_dereq_,module,exports){
var $def=_dereq_("./$.def");$def($def.S,"Object",{assign:_dereq_("./$.assign")});
},{"./$.assign":26,"./$.def":34}],79:[function(_dereq_,module,exports){
var $def=_dereq_("./$.def");$def($def.S,"Object",{setPrototypeOf:_dereq_("./$.set-proto").set});
},{"./$.def":34,"./$.set-proto":61}],80:[function(_dereq_,module,exports){
var $=_dereq_("./$"),core=_dereq_("./$.core"),$def=_dereq_("./$.def"),toObject=_dereq_("./$.to-object"),isObject=_dereq_("./$.is-object");$.each.call("freeze,seal,preventExtensions,isFrozen,isSealed,isExtensible,getOwnPropertyDescriptor,getPrototypeOf,keys,getOwnPropertyNames".split(","),function(e,t){var r=(core.Object||{})[e]||Object[e],n=0,c={};c[e]=0==t?function(e){return isObject(e)?r(e):e}:1==t?function(e){return isObject(e)?r(e):e}:2==t?function(e){return isObject(e)?r(e):e}:3==t?function(e){return isObject(e)?r(e):!0}:4==t?function(e){return isObject(e)?r(e):!0}:5==t?function(e){return isObject(e)?r(e):!1}:6==t?function(e,t){return r(toObject(e),t)}:7==t?function(e){return r(toObject(e,!0))}:8==t?function(e){return r(toObject(e))}:_dereq_("./$.get-names").get;try{r("z")}catch(i){n=1}$def($def.S+$def.F*n,"Object",c)});
},{"./$":55,"./$.core":32,"./$.def":34,"./$.get-names":40,"./$.is-object":47,"./$.to-object":71}],81:[function(_dereq_,module,exports){

},{}],82:[function(_dereq_,module,exports){
"use strict";function testResolve(e){var r=new P(function(){});return e&&(r.constructor=Object),P.resolve(r)===r}function isPromise(e){return isObject(e)&&(useNative?"Promise"==classof(e):RECORD in e)}function sameConstructor(e,r){return LIBRARY&&e===P&&r===Wrapper?!0:same(e,r)}function getConstructor(e){var r=anObject(e)[SPECIES];return void 0!=r?r:e}function isThenable(e){var r;return isObject(e)&&"function"==typeof(r=e.then)?r:!1}function notify(e,r){if(!e.n){e.n=!0;var t=e.c;asap.call(global,function(){function n(r){var t,n,i=c?r.ok:r.fail;try{i?(c||(e.h=!0),t=i===!0?o:i(o),t===r.P?r.rej(TypeError("Promise-chain cycle")):(n=isThenable(t))?n.call(t,r.res,r.rej):r.res(t)):r.rej(o)}catch(s){r.rej(s)}}for(var o=e.v,c=1==e.s,i=0;t.length>i;)n(t[i++]);t.length=0,e.n=!1,r&&setTimeout(function(){asap.call(global,function(){isUnhandled(e.p)&&(isNode?process.emit("unhandledRejection",o,e.p):global.console&&console.error&&console.error("Unhandled promise rejection",o)),e.a=void 0})},1)})}}function isUnhandled(e){var r,t=e[RECORD],n=t.a||t.c,o=0;if(t.h)return!1;for(;n.length>o;)if(r=n[o++],r.fail||!isUnhandled(r.P))return!1;return!0}function $reject(e){var r=this;r.d||(r.d=!0,r=r.r||r,r.v=e,r.s=2,r.a=r.c.slice(),notify(r,!0))}function $resolve(e){var r,t=this;if(!t.d){t.d=!0,t=t.r||t;try{(r=isThenable(e))?asap.call(global,function(){var n={r:t,d:!1};try{r.call(e,ctx($resolve,n,1),ctx($reject,n,1))}catch(o){$reject.call(n,o)}}):(t.v=e,t.s=1,notify(t,!1))}catch(n){$reject.call({r:t,d:!1},n)}}}var $=_dereq_("./$"),LIBRARY=_dereq_("./$.library"),global=_dereq_("./$.global"),ctx=_dereq_("./$.ctx"),classof=_dereq_("./$.classof"),$def=_dereq_("./$.def"),isObject=_dereq_("./$.is-object"),anObject=_dereq_("./$.an-object"),aFunction=_dereq_("./$.a-function"),strictNew=_dereq_("./$.strict-new"),forOf=_dereq_("./$.for-of"),setProto=_dereq_("./$.set-proto").set,same=_dereq_("./$.same"),species=_dereq_("./$.species"),SPECIES=_dereq_("./$.wks")("species"),RECORD=_dereq_("./$.uid")("record"),PROMISE="Promise",process=global.process,isNode="process"==classof(process),asap=process&&process.nextTick||_dereq_("./$.task").set,P=global[PROMISE],Wrapper,useNative=function(){function e(r){var t=new P(r);return setProto(t,e.prototype),t}var r=!1;try{if(r=P&&P.resolve&&testResolve(),setProto(e,P),e.prototype=$.create(P.prototype,{constructor:{value:e}}),e.resolve(5).then(function(){})instanceof e||(r=!1),r&&_dereq_("./$.support-desc")){var t=!1;P.resolve($.setDesc({},"then",{get:function(){t=!0}})),r=t}}catch(n){r=!1}return r}();useNative||(P=function(e){aFunction(e);var r={p:strictNew(this,P,PROMISE),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};this[RECORD]=r;try{e(ctx($resolve,r,1),ctx($reject,r,1))}catch(t){$reject.call(r,t)}},_dereq_("./$.mix")(P.prototype,{then:function(e,r){var t=anObject(anObject(this).constructor)[SPECIES],n={ok:"function"==typeof e?e:!0,fail:"function"==typeof r?r:!1},o=n.P=new(void 0!=t?t:P)(function(e,r){n.res=aFunction(e),n.rej=aFunction(r)}),c=this[RECORD];return c.c.push(n),c.a&&c.a.push(n),c.s&&notify(c,!1),o},"catch":function(e){return this.then(void 0,e)}})),$def($def.G+$def.W+$def.F*!useNative,{Promise:P}),_dereq_("./$.tag")(P,PROMISE),species(P),species(Wrapper=_dereq_("./$.core")[PROMISE]),$def($def.S+$def.F*!useNative,PROMISE,{reject:function(e){return new this(function(r,t){t(e)})}}),$def($def.S+$def.F*(!useNative||testResolve(!0)),PROMISE,{resolve:function(e){return isPromise(e)&&sameConstructor(e.constructor,this)?e:new this(function(r){r(e)})}}),$def($def.S+$def.F*!(useNative&&_dereq_("./$.iter-detect")(function(e){P.all(e)["catch"](function(){})})),PROMISE,{all:function(e){var r=getConstructor(this),t=[];return new r(function(n,o){forOf(e,!1,t.push,t);var c=t.length,i=Array(c);c?$.each.call(t,function(e,t){r.resolve(e).then(function(e){i[t]=e,--c||n(i)},o)}):n(i)})},race:function(e){var r=getConstructor(this);return new r(function(t,n){forOf(e,!1,function(e){r.resolve(e).then(t,n)})})}});
},{"./$":55,"./$.a-function":24,"./$.an-object":25,"./$.classof":27,"./$.core":32,"./$.ctx":33,"./$.def":34,"./$.for-of":39,"./$.global":41,"./$.is-object":47,"./$.iter-detect":52,"./$.library":56,"./$.mix":57,"./$.same":60,"./$.set-proto":61,"./$.species":63,"./$.strict-new":64,"./$.support-desc":66,"./$.tag":67,"./$.task":68,"./$.uid":72,"./$.wks":74}],83:[function(_dereq_,module,exports){
"use strict";var strong=_dereq_("./$.collection-strong");_dereq_("./$.collection")("Set",function(t){return function(){return t(this,arguments[0])}},{add:function(t){return strong.def(this,t=0===t?0:t,t)}},strong);
},{"./$.collection":31,"./$.collection-strong":29}],84:[function(_dereq_,module,exports){
var $at=_dereq_("./$.string-at")(!0);_dereq_("./$.iter-define")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,i=this._t,e=this._i;return e>=i.length?{value:void 0,done:!0}:(t=$at(i,e),this._i+=t.length,{value:t,done:!1})});
},{"./$.iter-define":51,"./$.string-at":65}],85:[function(_dereq_,module,exports){
var $def=_dereq_("./$.def");$def($def.P,"Map",{toJSON:_dereq_("./$.collection-to-json")("Map")});
},{"./$.collection-to-json":30,"./$.def":34}],86:[function(_dereq_,module,exports){
var $def=_dereq_("./$.def");$def($def.P,"Set",{toJSON:_dereq_("./$.collection-to-json")("Set")});
},{"./$.collection-to-json":30,"./$.def":34}],87:[function(_dereq_,module,exports){
_dereq_("./es6.array.iterator");var Iterators=_dereq_("./$.iterators");Iterators.NodeList=Iterators.HTMLCollection=Iterators.Array;
},{"./$.iterators":54,"./es6.array.iterator":76}],88:[function(_dereq_,module,exports){
"use strict";var _createClass=_dereq_("babel-runtime/helpers/create-class")["default"],_classCallCheck=_dereq_("babel-runtime/helpers/class-call-check")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var MicrokernelVersion=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"version",value:function(){return{major:0,minor:9,micro:16,date:20150523}}}]),e}();exports["default"]=MicrokernelVersion,module.exports=exports["default"];
},{"babel-runtime/helpers/class-call-check":11,"babel-runtime/helpers/create-class":12}],89:[function(_dereq_,module,exports){
"use strict";var _createClass=_dereq_("babel-runtime/helpers/create-class")["default"],_classCallCheck=_dereq_("babel-runtime/helpers/class-call-check")["default"],_Map=_dereq_("babel-runtime/core-js/map")["default"],_Set=_dereq_("babel-runtime/core-js/set")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var MicrokernelManifest=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"initializer",value:function(){this.cls2mod=new _Map,this.name2mod=new _Map,this.mod=new _Set,this.modOrder=null}},{key:"add",value:function(e){if("dead"!==this.state())throw new Error("microkernel is not in lowest state");var t=void 0;if("function"==typeof e)t=new e,this.cls2mod.has(e)||this.cls2mod.set(e,[]),this.cls2mod.get(e).push(t);else{if("object"!=typeof e)throw new Error("invalid module (neither function/class nor object)");t=e}if("object"!=typeof t.module)throw new Error('invalid module (no "module" object property)');if("string"!=typeof t.module.name)throw new Error('invalid module (no "module.name" string property)');if(this.name2mod.has(t.module.name))throw new Error("module of name "+t.module.name+" already added");return this.mod.add(t),this.name2mod.set(t.module.name,t),"function"==typeof t.kernel?t.kernel(this):null===t.kernel&&(t.kernel=this),this.publish("microkernel:add",t),this}},{key:"del",value:function(e){var t=this;if("dead"!==this.state())throw new Error("microkernel is not in lowest state");var o=void 0;if("function"==typeof e)return this.cls2mod.get(e).forEach(function(e){t.del(e)}),this.cls2mod["delete"](e),this;if("string"==typeof e)o=this.name2mod(e);else{if("object"!=typeof e)throw new Error("invalid module (neither function/class nor object nor name)");o=e}if(!this.mod.has(o))throw new Error("module not found");return this.publish("microkernel:del",o),"function"==typeof o.kernel?o.kernel(null):"object"==typeof o.kernel&&(o.kernel=null),this.name2mod["delete"](o.module.name),this.mod["delete"](o),this}},{key:"get",value:function(e){if(!this.name2mod.has(e))throw new Error("module not found");return this.name2mod.get(e)}}]),e}();exports["default"]=MicrokernelManifest,module.exports=exports["default"];
},{"babel-runtime/core-js/map":3,"babel-runtime/core-js/set":10,"babel-runtime/helpers/class-call-check":11,"babel-runtime/helpers/create-class":12}],90:[function(_dereq_,module,exports){
"use strict";var _createClass=_dereq_("babel-runtime/helpers/create-class")["default"],_classCallCheck=_dereq_("babel-runtime/helpers/class-call-check")["default"],_Promise=_dereq_("babel-runtime/core-js/promise")["default"],_interopRequireDefault=_dereq_("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var _glob=_dereq_("glob"),_glob2=_interopRequireDefault(_glob),MicrokernelLoader=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"exec",value:function(){for(var e=this,r=arguments.length,t=Array(r),n=0;r>n;n++)t[n]=arguments[n];return new _Promise(function(r,n){var u=_Promise.resolve();t.forEach(function(r){var t=null!==r.match(/[*?]/)?_glob2["default"].sync(r):[r];if(0===t.length)throw new Error("no files found");t.forEach(function(r){e.publish("microkernel:exec",r);var t=_dereq_(r);if("function"!=typeof t)throw new Error("file has not exported a function");u=u.then(function(){return t(e)})})}),u.then(function(){return r()},function(e){return n(e)})})}},{key:"load",value:function(){for(var e=this,r=arguments.length,t=Array(r),n=0;r>n;n++)t[n]=arguments[n];return t.forEach(function(r){var t=null!==r.match(/[*?]/)?_glob2["default"].sync(r):[r];t.forEach(function(r){e.publish("microkernel:load",r);var t=_dereq_(r);e.add(new t)})}),this}}]),e}();exports["default"]=MicrokernelLoader,module.exports=exports["default"];
},{"babel-runtime/core-js/promise":9,"babel-runtime/helpers/class-call-check":11,"babel-runtime/helpers/create-class":12,"babel-runtime/helpers/interop-require-default":15,"glob":"glob"}],91:[function(_dereq_,module,exports){
"use strict";var _createClass=_dereq_("babel-runtime/helpers/create-class")["default"],_classCallCheck=_dereq_("babel-runtime/helpers/class-call-check")["default"],_Promise=_dereq_("babel-runtime/core-js/promise")["default"],_interopRequireDefault=_dereq_("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var _gdo=_dereq_("gdo"),_gdo2=_interopRequireDefault(_gdo),MicrokernelState=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"initializer",value:function(){this._state="dead",this._num2state=[],this._state2num={},this._groups=[],this.transitions([{state:"dead",enter:null,leave:null},{state:"booted",enter:"boot",leave:"shutdown"},{state:"latched",enter:"latch",leave:"unlatch"},{state:"configured",enter:"configure",leave:"reset"},{state:"prepared",enter:"prepare",leave:"release"},{state:"started",enter:"start",leave:"stop"}]),this.groups(["BOOT","BASE","RESOURCE","SERVICE","IDENT","USECASE"])}},{key:"transitions",value:function(e){var t=this;this._num2state=e;var r=0;return e.forEach(function(e){t._state2num[e.state]=r++}),this}},{key:"groups",value:function(e){return this._groups=e,this}},{key:"state",value:function(e){var t=this,r=this._state;if("string"!=typeof e)return r;if(e===r)return _Promise.resolve(e);if(void 0===this._state2num[e])throw new Error("state: invalid new state: "+e);null===this.modOrder&&!function(){var e=new _gdo2["default"];e.groups(t._groups),t.mod.forEach(function(t){e.element(t.module)}),t._modOrder=e.order(),t.publish("microkernel:state:toposort",t._modOrder,t.mod)}();var n=new _Promise(function(n,a){var s=t._state2num[r],o=t._state2num[e],u=_Promise.resolve(),i=function(e,r,n,a){u=u.then(function(){t.publish("microkernel:state:transit:"+e,t._num2state[r].state,t._num2state[n].state,a)})},l=function(e,r,n,a,s){var o=t._modOrder;a&&(o=o.reverse());for(var l=function(){var r=t._num2state["enter"===n?e+1:e][n];i("before",e,e+s,r),o.forEach(function(e){var n=t.name2mod.get(e);"function"==typeof n[r]&&(u=u.then(function(){return n[r].call(n,t)}))}),e+=s,t._state=t._num2state[e].state,i("after",e-s,e,r)};e!==r;)l()};o>s?l(s,o,"enter",!1,1):s>o&&l(s,o,"leave",!0,-1),u.then(function(){n(e)},function(e){a(e)})});return n=n.then(function(e){return"dead"===e&&(t._modOrder=null),e})}}]),e}();exports["default"]=MicrokernelState,module.exports=exports["default"];
},{"babel-runtime/core-js/promise":9,"babel-runtime/helpers/class-call-check":11,"babel-runtime/helpers/create-class":12,"babel-runtime/helpers/interop-require-default":15,"gdo":"gdo"}],92:[function(_dereq_,module,exports){
"use strict";var _createClass=_dereq_("babel-runtime/helpers/create-class")["default"],_classCallCheck=_dereq_("babel-runtime/helpers/class-call-check")["default"],_Set=_dereq_("babel-runtime/core-js/set")["default"],_Object$assign=_dereq_("babel-runtime/core-js/object/assign")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var hookProc={none:{init:void 0,step:function(){}},pass:{init:function(t){return t[0]},step:function(t,e){return e}},or:{init:!1,step:function(t,e){return t||e}},and:{init:!0,step:function(t,e){return t&&e}},mult:{init:1,step:function(t,e){return t*e}},add:{init:0,step:function(t,e){return t+e}},append:{init:"",step:function(t,e){return t+e}},push:{init:[],step:function(t,e){return t.push(e),t}},concat:{init:[],step:function(t,e){return t.concat(e)}},set:{init:{},step:function(t,e){return t[e]=!0,t}},insert:{init:new _Set,step:function(t,e){return t.add(e)}},assign:{init:{},step:function(t,e){return _Object$assign(t,e)}}},cnt=0,MicrokernelHook=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"initializer",value:function(){this._hooks={}}},{key:"at",value:function(){return this.latch.apply(this,arguments)}},{key:"latch",value:function(t,e,n){if(arguments.length<2)throw new Error("latch: missing arguments");"undefined"==typeof this._hooks[t]&&(this._hooks[t]=[]);var r=cnt++;return this._hooks[t].push({id:r,cb:e,ctx:n}),r}},{key:"unlatch",value:function(t,e){if(2!==arguments.length)throw new Error("unlatch: invalid number of arguments");if("undefined"==typeof this._hooks[t])throw new Error("unlatch: no such hook: "+t);for(var n=-1,r=0;r<this._hooks[t].length;r++)if(this._hooks[t][r].id===e){n=r;break}if(-1===n)throw new Error("unlatch: no such latched callback");return this._hooks[t]=this._hooks[t].splice(n,1),this}},{key:"hook",value:function(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;n>o;o++)r[o-2]=arguments[o];if(arguments.length<2)throw new Error("hook: missing argument");if("undefined"==typeof hookProc[e])throw new Error("hook: no such result processing defined");var i=hookProc[e].init;return"function"==typeof i&&(i=i.call(null,r)),"undefined"!=typeof this._hooks[t]&&this._hooks[t].forEach(function(t){var n=t.cb.apply(t.ctx,r.concat([i]));i=hookProc[e].step.call(null,i,n)}),i}}]),t}();exports["default"]=MicrokernelHook,module.exports=exports["default"];
},{"babel-runtime/core-js/object/assign":4,"babel-runtime/core-js/set":10,"babel-runtime/helpers/class-call-check":11,"babel-runtime/helpers/create-class":12}],93:[function(_dereq_,module,exports){
"use strict";var _createClass=_dereq_("babel-runtime/helpers/create-class")["default"],_classCallCheck=_dereq_("babel-runtime/helpers/class-call-check")["default"],_Promise=_dereq_("babel-runtime/core-js/promise")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var cnt=0,MicrokernelEvent=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"initializer",value:function(){this._subscription={}}},{key:"on",value:function(){return this.subscribe.apply(this,arguments)}},{key:"subscribe",value:function(e,r,s){if(arguments.length<2)throw new Error("subscribe: missing arguments");var i=cnt++;return void 0===this._subscription[e]&&(this._subscription[e]=[]),this._subscription[e].push({id:i,cb:r,ctx:s}),i}},{key:"unsubscribe",value:function(e,r){if(2!==arguments.length)throw new Error("unsubscribe: invalid number of arguments");for(var s=-1,i=0;i<this._subscription[e].length;i++)if(this._subscription[e][i].id===r){s=i;break}if(-1===s)throw new Error("unsubscribe: no such subscription");this._subscription[e]=this._subscription[e].splice(s,1)}},{key:"publish",value:function(e){for(var r=arguments.length,s=Array(r>1?r-1:0),i=1;r>i;i++)s[i-1]=arguments[i];if(arguments.length<1)throw new Error("publish: missing argument");if(void 0===this._subscription[e])return _Promise.resolve();var t=[];return this._subscription[e].forEach(function(e){t.push(new _Promise(function(r){setTimeout(function(){r(e.cb.apply(e.ctx,s))},0)}))}),_Promise.all(t)}}]),e}();exports["default"]=MicrokernelEvent,module.exports=exports["default"];
},{"babel-runtime/core-js/promise":9,"babel-runtime/helpers/class-call-check":11,"babel-runtime/helpers/create-class":12}],94:[function(_dereq_,module,exports){
"use strict";var _createClass=_dereq_("babel-runtime/helpers/create-class")["default"],_classCallCheck=_dereq_("babel-runtime/helpers/class-call-check")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var MicrokernelService=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"initializer",value:function(){this._registration={}}},{key:"sv",value:function(){return this.service.apply(this,arguments)}},{key:"register",value:function(e,r,t){if(arguments.length<2)throw new Error("register: missing arguments");return void 0===this._registration[e]&&(this._registration[e]=[]),this._registration[e].push({cb:r,ctx:t}),this}},{key:"unregister",value:function(e){if(1!==arguments.length)throw new Error("unregister: invalid number of arguments");if(void 0===this._registration[e])throw new Error("unregister: no such registration");return this._registration[e].pop(),0===this._registration[e].length&&delete this._registration[e],this}},{key:"service",value:function(e){for(var r=arguments.length,t=Array(r>1?r-1:0),i=1;r>i;i++)t[i-1]=arguments[i];if(arguments.length<1)throw new Error("service: missing argument");if(void 0===this._registration[e])throw new Error("service: no such service registered: "+e);var s=this._registration[e][0];return s.cb.apply(s.ctx,t)}}]),e}();exports["default"]=MicrokernelService,module.exports=exports["default"];
},{"babel-runtime/helpers/class-call-check":11,"babel-runtime/helpers/create-class":12}],95:[function(_dereq_,module,exports){
"use strict";var _createClass=_dereq_("babel-runtime/helpers/create-class")["default"],_classCallCheck=_dereq_("babel-runtime/helpers/class-call-check")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var MicrokernelResource=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"initializer",value:function(){this._resource={}}},{key:"rs",value:function(){return this.resource.apply(this,arguments)}},{key:"resource",value:function(e,r){if(arguments.length>2)throw new Error("resource: invalid number of arguments");return 2===arguments.length&&(this._resource[e]=r),this._resource[e]}}]),e}();exports["default"]=MicrokernelResource,module.exports=exports["default"];
},{"babel-runtime/helpers/class-call-check":11,"babel-runtime/helpers/create-class":12}],96:[function(_dereq_,module,exports){
"use strict";var _get=_dereq_("babel-runtime/helpers/get")["default"],_inherits=_dereq_("babel-runtime/helpers/inherits")["default"],_classCallCheck=_dereq_("babel-runtime/helpers/class-call-check")["default"],_interopRequireDefault=_dereq_("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(exports,"__esModule",{value:!0});var _aggregationEs6=_dereq_("aggregation/es6"),_aggregationEs62=_interopRequireDefault(_aggregationEs6),_microkernel1Version=_dereq_("./microkernel-1-version"),_microkernel1Version2=_interopRequireDefault(_microkernel1Version),_microkernel2Manifest=_dereq_("./microkernel-2-manifest"),_microkernel2Manifest2=_interopRequireDefault(_microkernel2Manifest),_microkernel3Loader=_dereq_("./microkernel-3-loader"),_microkernel3Loader2=_interopRequireDefault(_microkernel3Loader),_microkernel4State=_dereq_("./microkernel-4-state"),_microkernel4State2=_interopRequireDefault(_microkernel4State),_microkernel5Hook=_dereq_("./microkernel-5-hook"),_microkernel5Hook2=_interopRequireDefault(_microkernel5Hook),_microkernel6Event=_dereq_("./microkernel-6-event"),_microkernel6Event2=_interopRequireDefault(_microkernel6Event),_microkernel7Service=_dereq_("./microkernel-7-service"),_microkernel7Service2=_interopRequireDefault(_microkernel7Service),_microkernel8Resource=_dereq_("./microkernel-8-resource"),_microkernel8Resource2=_interopRequireDefault(_microkernel8Resource),Microkernel=function(e){function r(){_classCallCheck(this,r),_get(Object.getPrototypeOf(r.prototype),"constructor",this).call(this)}return _inherits(r,e),r}(_aggregationEs62["default"](_microkernel1Version2["default"],_microkernel2Manifest2["default"],_microkernel3Loader2["default"],_microkernel4State2["default"],_microkernel5Hook2["default"],_microkernel6Event2["default"],_microkernel7Service2["default"],_microkernel8Resource2["default"]));exports["default"]=Microkernel,module.exports=exports["default"];
},{"./microkernel-1-version":88,"./microkernel-2-manifest":89,"./microkernel-3-loader":90,"./microkernel-4-state":91,"./microkernel-5-hook":92,"./microkernel-6-event":93,"./microkernel-7-service":94,"./microkernel-8-resource":95,"aggregation/es6":1,"babel-runtime/helpers/class-call-check":11,"babel-runtime/helpers/get":13,"babel-runtime/helpers/inherits":14,"babel-runtime/helpers/interop-require-default":15}]},{},[96])(96)
});


//# sourceMappingURL=microkernel.map